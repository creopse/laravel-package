import{C as w,P as p}from"./ckeditor_ckeditor5-core-c8d003a2.js";import{f as v,M as E,a as C}from"./ckeditor_ckeditor5-utils-df07b536.js";import"./ckeditor_ckeditor5-engine-af85ebf5.js";import{P as k}from"./ckeditor_ckeditor5-paragraph-94bb8d98.js";import{M as x,c as P,b as T}from"./ckeditor_ckeditor5-ui-b7ac7aa2.js";import"./color-convert-eee2eef5.js";import"./vanilla-colorful-3f59310b.js";/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y extends w{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=v(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>H(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,i=t.document,n=e.value;t.change(c=>{const r=Array.from(i.selection.getSelectedBlocks()).filter(d=>H(d,n,t.schema));for(const d of r)d.is("element",n)||c.rename(d,n)})}}function H(s,e,t){return t.checkChild(s.parent,e)&&!t.isObject(s)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const b="paragraph";class L extends p{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[k]}init(){const e=this.editor,t=e.config.get("heading.options"),i=[];for(const n of t)n.model!=="paragraph"&&(e.model.schema.register(n.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(n),i.push(n.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new y(e,i))}afterInit(){const e=this.editor,t=e.commands.get("enter"),i=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(n,c)=>{const r=e.model.document.selection.getFirstPosition().parent;i.some(g=>r.is("element",g.model))&&!r.is("element",b)&&r.childCount===0&&c.writer.rename(r,b)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:E.get("low")+1})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function M(s){const e=s.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return s.config.get("heading.options").map(i=>{const n=t[i.title];return n&&n!=i.title&&(i.title=n),i})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class N extends p{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,i=M(e),n=t("Choose heading"),c=t("Heading");e.ui.componentFactory.add("heading",r=>{const d={},g=new C,h=e.commands.get("heading"),u=e.commands.get("paragraph"),f=[h];for(const o of i){const a={type:"button",model:new x({label:o.title,class:o.class,role:"menuitemradio",withText:!0})};o.model==="paragraph"?(a.model.bind("isOn").to(u,"value"),a.model.set("commandName","paragraph"),f.push(u)):(a.model.bind("isOn").to(h,"value",l=>l===o.model),a.model.set({commandName:"heading",commandValue:o.model})),g.add(a),d[o.model]=o.title}const m=P(r);return T(m,g,{ariaLabel:c,role:"menu"}),m.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),m.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),m.bind("isEnabled").toMany(f,"isEnabled",(...o)=>o.some(a=>a)),m.buttonView.bind("label").to(h,"value",u,"value",(o,a)=>{const l=o||a&&"paragraph";return typeof l=="boolean"||!d[l]?n:d[l]}),this.listenTo(m,"execute",o=>{const{commandName:a,commandValue:l}=o.source;e.execute(a,l?{value:l}:void 0),e.editing.view.focus()}),m})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class q extends p{static get requires(){return[L,N]}static get pluginName(){return"Heading"}}export{q as H};
