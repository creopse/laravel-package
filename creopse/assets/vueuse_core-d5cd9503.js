import{t as E,a as A,u as _,b as N,i as M,n as I,c as T,d as W}from"./vueuse_shared-835eca33.js";import{r as y}from"./vue_reactivity-852d8377.js";import{q as z,p as S,w as x,g as R,b as P}from"./vue_runtime-core-273b5003.js";function h(n){var t;const s=E(n);return(t=s==null?void 0:s.$el)!=null?t:s}const w=M?window:void 0,B=M?window.navigator:void 0;function g(...n){let t,s,i,u;if(typeof n[0]=="string"||Array.isArray(n[0])?([s,i,u]=n,t=w):[t,s,i,u]=n,!t)return I;Array.isArray(s)||(s=[s]),Array.isArray(i)||(i=[i]);const a=[],r=()=>{a.forEach(d=>d()),a.length=0},c=(d,f,e,m)=>(d.addEventListener(f,e,m),()=>d.removeEventListener(f,e,m)),o=x(()=>[h(t),E(u)],([d,f])=>{if(r(),!d)return;const e=T(f)?{...f}:f;a.push(...s.flatMap(m=>i.map(p=>c(d,m,p,e))))},{immediate:!0,flush:"post"}),l=()=>{o(),r()};return A(l),l}let C=!1;function Q(n,t,s={}){const{window:i=w,ignore:u=[],capture:a=!0,detectIframe:r=!1}=s;if(!i)return;W&&!C&&(C=!0,Array.from(i.document.body.children).forEach(e=>e.addEventListener("click",I)),i.document.documentElement.addEventListener("click",I));let c=!0;const o=e=>u.some(m=>{if(typeof m=="string")return Array.from(i.document.querySelectorAll(m)).some(p=>p===e.target||e.composedPath().includes(p));{const p=h(m);return p&&(e.target===p||e.composedPath().includes(p))}}),d=[g(i,"click",e=>{const m=h(n);if(!(!m||m===e.target||e.composedPath().includes(m))){if(e.detail===0&&(c=!o(e)),!c){c=!0;return}t(e)}},{passive:!0,capture:a}),g(i,"pointerdown",e=>{const m=h(n);m&&(c=!e.composedPath().includes(m)&&!o(e))},{passive:!0}),r&&g(i,"blur",e=>{setTimeout(()=>{var m;const p=h(n);((m=i.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(e)},0)})].filter(Boolean);return()=>d.forEach(e=>e())}function F(){const n=y(!1);return R()&&P(()=>{n.value=!0}),n}function O(n){const t=F();return S(()=>(t.value,!!n()))}function k(n,t={}){const{window:s=w}=t,i=O(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let u;const a=y(!1),r=l=>{a.value=l.matches},c=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",r):u.removeListener(r))},o=z(()=>{i.value&&(c(),u=s.matchMedia(E(n)),"addEventListener"in u?u.addEventListener("change",r):u.addListener(r),a.value=u.matches)});return A(()=>{o(),c(),u=void 0}),a}function Y(n={}){const{navigator:t=B,read:s=!1,source:i,copiedDuring:u=1500,legacy:a=!1}=n,r=O(()=>t&&"clipboard"in t),c=S(()=>r.value||a),o=y(""),l=y(!1),d=_(()=>l.value=!1,u);function f(){r.value?t.clipboard.readText().then(v=>{o.value=v}):o.value=p()}c.value&&s&&g(["copy","cut"],f);async function e(v=E(i)){c.value&&v!=null&&(r.value?await t.clipboard.writeText(v):m(v),o.value=v,l.value=!0,d.start())}function m(v){const b=document.createElement("textarea");b.value=v??"",b.style.position="absolute",b.style.opacity="0",document.body.appendChild(b),b.select(),document.execCommand("copy"),b.remove()}function p(){var v,b,L;return(L=(b=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:b.toString())!=null?L:""}return{isSupported:c,text:o,copied:l,copy:e}}function V(n,t,s={}){const{window:i=w,...u}=s;let a;const r=O(()=>i&&"ResizeObserver"in i),c=()=>{a&&(a.disconnect(),a=void 0)},o=S(()=>Array.isArray(n)?n.map(f=>h(f)):[h(n)]),l=x(o,f=>{if(c(),r.value&&i){a=new ResizeObserver(t);for(const e of f)e&&a.observe(e,u)}},{immediate:!0,flush:"post",deep:!0}),d=()=>{c(),l()};return A(d),{isSupported:r,stop:d}}function $(n,t={width:0,height:0},s={}){const{window:i=w,box:u="content-box"}=s,a=S(()=>{var o,l;return(l=(o=h(n))==null?void 0:o.namespaceURI)==null?void 0:l.includes("svg")}),r=y(t.width),c=y(t.height);return V(n,([o])=>{const l=u==="border-box"?o.borderBoxSize:u==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;if(i&&a.value){const d=h(n);if(d){const f=i.getComputedStyle(d);r.value=Number.parseFloat(f.width),c.value=Number.parseFloat(f.height)}}else if(l){const d=Array.isArray(l)?l:[l];r.value=d.reduce((f,{inlineSize:e})=>f+e,0),c.value=d.reduce((f,{blockSize:e})=>f+e,0)}else r.value=o.contentRect.width,c.value=o.contentRect.height},s),x(()=>h(n),o=>{r.value=o?t.width:0,c.value=o?t.height:0}),{width:r,height:c}}function j(n={}){const{window:t=w,initialWidth:s=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:u=!0,includeScrollbar:a=!0}=n,r=y(s),c=y(i),o=()=>{t&&(a?(r.value=t.innerWidth,c.value=t.innerHeight):(r.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(o(),N(o),g("resize",o,{passive:!0}),u){const l=k("(orientation: portrait)");x(l,()=>o())}return{width:r,height:c}}export{$ as a,Y as b,j as c,Q as o,k as u};
