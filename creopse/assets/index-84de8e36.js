import{_ as ea}from"./PageLayout.vue_vue_type_script_setup_true_lang-2df5ea4d.js";import{p as Xe,v as Ie,f as ta,a as aa}from"./vue_runtime-dom-c0cb2070.js";import{u as Qe,i as rt,f as Pt,_ as la,e as ct,r as Oe,c as sa,j as qt,R as na}from"./index-818706be.js";import{_ as xt}from"./I18nInput-83a26b3b.js";import{_ as dt,a as Nt,b as oa}from"./index.vue_vue_type_script_setup_true_lang-6478408e.js";import{I as G}from"./iconify_vue-6750bec6.js";import{R as Ye}from"./response-error-code-87d1097e.js";import{M as ia}from"./vue-pick-colors-f58bc48b.js";import{a as kt,d as ra}from"./pinia-5dd13ed8.js";import{_ as ge}from"./lodash-a9971f22.js";import{a as pt,b as mt,c as ft,E as Ee,N as S,_ as F,Z as Se,g as $t,V as ua,L as At,$ as ca,a0 as da,a1 as It,a2 as pa,F as vt,a3 as ma,H as Lt,I as Ht,e as fa,k as Ct,G as _t,a4 as gt,W as Ft,a5 as Ot,a6 as va,a7 as zt,j as Yt,M as _a,a8 as ga,a9 as ha,P as ba,O as ya,aa as wa,R as ka,h as xa,n as $a,o as Aa}from"./naive-ui-0ed228f2.js";import{d as Be,i as Kt,p as Pe,as as Ia,o as M,c as ie,Y as t,aO as a,P as ce,l as T,Q as xe,a as P,F as Ae,ar as ut,h as u,w as St,v as Ce,b as Ca}from"./vue_runtime-core-4f5fb440.js";import{u as je}from"./vue-i18n-84a05dd5.js";import{r,u as e,c as oe}from"./vue_reactivity-852d8377.js";import{t as k,a as Fe,n as Mt}from"./vue_shared-7dcc3b7f.js";import{_ as Dt}from"./NaiveMobileTableAdapter.vue_vue_type_script_setup_true_lang-9c0c57e3.js";import{_ as za}from"./validator-c0254ba9.js";import{s as Sa}from"./slugify-ce681755.js";import{v as Et}from"./uuid-cf522c50.js";import{_ as Bt}from"./fawmi_vue-google-maps-52673af8.js";import{a as Ma}from"./vue-router-e670704e.js";import"./browser-image-compression-a3ab6596.js";import"./moment-ea709ccd.js";import"./vueuse_core-e3c6c607.js";import"./vueuse_shared-d1f69174.js";import"./parse-domain-489ba3ba.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./unhead_vue-71da354f.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./axios-96fb5abd.js";import"./process-93c0ea83.js";import"./ckeditor_ckeditor5-vue-13667b6e.js";import"./vue-83614a91.js";import"./strip-json-comments-680ed425.js";import"./vue-draggable-next-d31a77b2.js";import"./pinia_colada-25af8b56.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-40ca5c5d.js";import"./vue3-map-chart-612bd6db.js";import"./crypto-js-eb39eca1.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-b49649f7.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-b91bc731.js";import"./vooks-3c892a1c.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./lodash-es-a215867d.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-dc9a4891.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./googlemaps_markerclusterer-b718980f.js";import"./fast-deep-equal-1db9e660.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./vue-demi-71ba0ef2.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";import"./index.vue_vue_type_style_index_0_lang-fafb8d12.js";import"./media-library-a580bf59.js";import"./vue-advanced-cropper-7a0dcf27.js";import"./ckeditor_ckeditor5-core-c8d003a2.js";import"./ckeditor_ckeditor5-utils-df07b536.js";import"./ckeditor_ckeditor5-engine-af85ebf5.js";import"./ckeditor_ckeditor5-ui-a35c6a55.js";import"./color-parse-d45f23f3.js";import"./color-name-1ab8b5f2.js";import"./color-convert-6fc98488.js";import"./vanilla-colorful-3f59310b.js";import"./ckeditor_ckeditor5-alignment-d6e8c5b6.js";import"./ckeditor_ckeditor5-autoformat-9f2dc9af.js";import"./ckeditor_ckeditor5-typing-70b03be4.js";import"./ckeditor_ckeditor5-basic-styles-a9505c26.js";import"./ckeditor_ckeditor5-block-quote-3d12180a.js";import"./ckeditor_ckeditor5-enter-27538ad0.js";import"./ckeditor_ckeditor5-build-classic-a5a6feb5.js";import"./ckeditor_ckeditor5-code-block-1effa76f.js";import"./ckeditor_ckeditor5-editor-classic-6eebe087.js";import"./ckeditor_ckeditor5-watchdog-33524ea7.js";import"./ckeditor_ckeditor5-essentials-4982141b.js";import"./ckeditor_ckeditor5-clipboard-74f1b43c.js";import"./ckeditor_ckeditor5-widget-4ebd81a8.js";import"./ckeditor_ckeditor5-select-all-edd15b80.js";import"./ckeditor_ckeditor5-undo-7d67f759.js";import"./ckeditor_ckeditor5-find-and-replace-d20c852b.js";import"./ckeditor_ckeditor5-font-603d26b5.js";import"./ckeditor_ckeditor5-heading-08abeb34.js";import"./ckeditor_ckeditor5-paragraph-7ec90230.js";import"./ckeditor_ckeditor5-horizontal-line-f0252081.js";import"./ckeditor_ckeditor5-image-fe0f4d65.js";import"./ckeditor_ckeditor5-upload-37383558.js";import"./ckeditor_ckeditor5-indent-d36b38bc.js";import"./ckeditor_ckeditor5-link-8d87809e.js";import"./ckeditor_ckeditor5-list-295bac13.js";import"./ckeditor_ckeditor5-media-embed-952338e9.js";import"./ckeditor_ckeditor5-remove-format-b8823d58.js";import"./ckeditor_ckeditor5-source-editing-ff327da5.js";import"./ckeditor_ckeditor5-special-characters-36dd01c3.js";import"./ckeditor_ckeditor5-table-79bdb612.js";import"./popperjs_core-f3391c26.js";const Da={class:"flex items-center"},Ta={class:"flex flex-col"},Ua={class:"text-sm font-bold"},Ra={class:"text-xs font-normal"},Va={class:"text-xs my-1"},qa={class:"flex items-center"},Ea={class:"flex flex-col"},Pa={class:"text-sm font-bold"},Na={class:"text-xs font-normal"},La={key:0,class:"mt-4"},Ha={class:"flex items-center"},Fa="categories",Oa=Be({__name:"index",setup(J){const w=pt(),x=mt(),me=ft(),{tr:X,fileUrl:O,pickByTheme:Y,displayFormErrors:g}=Qe(),{request:m}=ct(),{t:c}=je(),{categories:U}=kt(rt()),{loadCategories:re}=rt(),{isLightTheme:E}=kt(Pt()),he=Kt("appConfig"),l=r([]),fe=r(!1),z=r(""),H=r(),D=Pe(()=>{if(!z.value)return l.value;const b=l.value.filter(i=>{var A,L;return i.name.toLowerCase().includes(z.value.toLowerCase())||((A=i.description)==null?void 0:A.toLowerCase().includes(z.value.toLowerCase()))||((L=i.children)==null?void 0:L.some(I=>{var $;return I.name.toLowerCase().includes(z.value.toLowerCase())||(($=I.description)==null?void 0:$.toLowerCase().includes(z.value.toLowerCase()))}))});return H.value&&H.value.focus(),b}),R=async()=>{w.start(),fe.value=!0,await re(),l.value=U.value.filter(b=>!b.parentId);for(let b=0;b<l.value.length;b++)l.value[b].children=U.value.filter(i=>i.parentId===l.value[b].id);fe.value=!1,w.finish()};R();const q=r(12),y=r(1),K=b=>{q.value=b},j=r(null),be=r(!1),o=r(!1),V=r(null),ae=r(null),h=r({name:"",description:"",isActive:!0,position:0,image:"",color:""}),de={name:[{required:!0,message:c("fillRequired")}]},le=(b,i=null)=>{V.value=ge.cloneDeep(b),b?h.value=ge.cloneDeep(b):h.value={name:"",description:"",isActive:!0,position:0,image:"",color:""},j.value=i,o.value=!0},W=async b=>{me.warning({title:c("confirm"),content:b.parentId?c("confirmDeleteSubCategory"):c("confirmDeleteCategory"),positiveText:c("yes"),negativeText:c("no"),onPositiveClick:async()=>{(await m({method:"delete",url:`/news-categories/${b.id}`})).success?(x.success(c("success")),R()):x.error(c("anErrorOccurred"))}})},ye=async()=>{var b;return(b=ae.value)==null||b.validate(async i=>{var A,L,I,$,ve,se;if(!i)if(V.value)if(V.value.name!==h.value.name&&U.value.findIndex(N=>N.name==h.value.name)>-1)x.error(c("sameCategoryNameMessage"));else{w.start(),be.value=!0;const N={name:h.value.name,description:h.value.description,isActive:h.value.isActive,position:h.value.position,image:h.value.image,color:h.value.color,parentId:j.value},Z=await m({method:"put",url:`/news-categories/${V.value.id}`,data:N});Z.success&&Z.result.data&&(x.success(c("success")),R()),be.value=!1,w.finish(),o.value=!1}else if(U.value.findIndex(N=>N.name==h.value.name)>-1)x.error(c("sameCategoryNameMessage"));else{w.start(),be.value=!0;const N={name:h.value.name,description:h.value.description,isActive:h.value.isActive,position:h.value.position,image:h.value.image,color:h.value.color,parentId:j.value},Z=await m({method:"post",url:"/news-categories",data:N});if(Z.failure&&Z.error)switch((I=(L=(A=Z.error)==null?void 0:A.response)==null?void 0:L.data)==null?void 0:I.errorCode){case Ye.FORM_INVALID_DATA:g((se=(ve=($=Z.error)==null?void 0:$.response)==null?void 0:ve.data)==null?void 0:se.data);break;default:x.error(c("anErrorOccurred"))}else x.success(c("success")),R();be.value=!1,w.finish(),o.value=!1}}),!1},B=async(b,i)=>{(await m({method:"put",url:"/news-categories/position",data:{items:i}})).success&&R()},f=r(!1),v=async b=>{h.value.image=b,f.value=!1},Q=()=>{h.value.image=""};return(b,i)=>{var st;const A=G,L=$t,I=dt,$=ua,ve=At,se=Ia("Draggable"),N=ca,Z=da,Ze=It,Ne=pa,Je=la,p=Nt,Ge=xt,et=vt,ht=ma,Le=Lt,tt=Ht,bt=fa,at=Ct,lt=_t,yt=gt;return M(),ie(Ae,null,[t(I,{to:"#add-category-action"},{default:a(()=>[t(L,{align:"center"},{default:a(()=>[t(e(Ee),{ref_key:"searchInputRef",ref:H,value:e(z),"onUpdate:value":i[0]||(i[0]=_=>oe(z)?z.value=_:null),clearable:!0,placeholder:e(c)("search")},{suffix:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:search"})]),_:1})]),_:1},8,["value","placeholder"]),e(D).length?(M(),ce(e(F),{key:0,type:"primary",onClick:i[1]||(i[1]=_=>le(null))},{icon:a(()=>[t(e(S),{size:"18"},{default:a(()=>[t(A,{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[T(" "+k(e(c)("addCategory")),1)]),_:1})):xe("",!0)]),_:1})]),_:1}),t(Je,{appear:"",name:"slide-fade"},{default:a(()=>[P("section",null,[e(D)&&e(D).length?(M(),ie(Ae,{key:0},[t(se,{list:e(l),onChange:i[2]||(i[2]=_=>B(_,e(l)))},{default:a(()=>[(M(!0),ie(Ae,null,ut(e(D).slice((e(y)-1)*e(q),e(y)*e(q)),_=>(M(),ce(ve,{key:_.id,embedded:"",size:"small",class:"mb-1"},{default:a(()=>{var nt;return[t(Z,{"default-expanded-names":(nt=_.children)!=null&&nt.length?["1"]:[],"display-directive":"show"},{"header-extra":a(({collapsed:Ke})=>[t(L,{align:"center"},{default:a(()=>[t(e(Se),{size:"small",bordered:!1,type:_.isActive?"success":"error"},{default:a(()=>[T(k(_.isActive?e(c)("visible"):e(c)("hidden")),1)]),_:2},1032,["type"]),t($,{vertical:"",class:Fe(["!mx-0",e(Y)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),t(e(F),{size:"small",type:"primary",secondary:e(E),onClick:Xe(ne=>le(_),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["secondary","onClick"]),t(e(F),{size:"small",type:"error",secondary:e(E),onClick:Xe(ne=>W(_),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["secondary","onClick"]),t(e(F),{size:"small",type:"info",secondary:e(E),onClick:Xe(ne=>le(null,_.id),["stop"])},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:category"})]),_:1})]),default:a(()=>[T(" "+k(e(c)("subCategory"))+" ",1),t(e(Se),{size:"small",bordered:!1,type:"primary",class:"ml-1"},{default:a(()=>{var ne;return[T(k((ne=_.children)==null?void 0:ne.length),1)]}),_:2},1024)]),_:2},1032,["secondary","onClick"])]),_:2},1024),i[16]||(i[16]=P("div",{class:"w-6"},null,-1)),t(e(S),null,{default:a(()=>[Ke?(M(),ce(A,{key:0,icon:"fa-solid:chevron-left"})):(M(),ce(A,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),arrow:a(()=>i[17]||(i[17]=[P("span",null,null,-1)])),default:a(()=>[t(N,{name:"1"},{header:a(()=>[P("div",Da,[t(e(S),{size:"21",class:"cursor-move mr-4"},{default:a(()=>[t(A,{icon:"fa-solid:grip-lines"})]),_:1}),t($,{vertical:"",class:Fe(e(Y)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),P("div",Ta,[P("span",Ua,k(e(X)(_.name))+" ("+k(_.articlesCount)+" "+k(e(c)("article_s"))+") ",1),P("small",Ra,k(_.slug),1)])])]),default:a(()=>{var Ke;return[_.description?(M(),ie(Ae,{key:0},[t($,{class:Fe([e(Y)("!bg-zinc-300","!bg-slate-500"),"!my-0 !h-0.5"])},null,8,["class"]),P("div",Va,k(e(X)(_.description)),1)],64)):xe("",!0),(Ke=_.children)!=null&&Ke.length?(M(),ie(Ae,{key:1},[t($,{class:Fe([e(Y)("!bg-zinc-300","!bg-slate-500"),"!mt-0 !mb-2 !h-0.5"])},null,8,["class"]),t(se,{list:_.children,onChange:ne=>B(ne,_.children||[])},{default:a(()=>[(M(!0),ie(Ae,null,ut(_.children,ne=>(M(),ce(ve,{key:ne.id,size:"small",class:"mb-1"},{header:a(()=>[P("div",qa,[t(e(S),{size:"21",class:"cursor-move mr-4"},{default:a(()=>[t(A,{icon:"fa-solid:grip-lines"})]),_:1}),t($,{vertical:"",class:Fe(e(Y)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),P("div",Ea,[P("span",Pa,k(e(X)(ne.name)),1),P("small",Na,k(ne.slug),1)])])]),"header-extra":a(()=>[t(L,{align:"center"},{default:a(()=>[t(e(Se),{size:"small",bordered:!1,type:ne.isActive?"success":"error"},{default:a(()=>[T(k(ne.isActive?e(c)("visible"):e(c)("hidden")),1)]),_:2},1032,["type"]),t($,{vertical:"",class:Fe(["!mx-0",e(Y)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),t(e(F),{size:"small",type:"primary",secondary:e(E),onClick:Xe(pe=>le(ne,_.id),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["secondary","onClick"]),t(e(F),{size:"small",type:"error",secondary:e(E),onClick:Xe(pe=>W(ne),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["secondary","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["list","onChange"])],64)):xe("",!0)]}),_:2},1024)]),_:2},1032,["default-expanded-names"])]}),_:2},1024))),128))]),_:1},8,["list"]),t(Ze,{page:e(y),"onUpdate:page":i[3]||(i[3]=_=>oe(y)?y.value=_:null),class:"mt-5 justify-end","show-size-picker":"","page-size":e(q),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(e(l).length/e(q)),"onUpdate:pageSize":K},{prefix:a(()=>[T(k(`${e(l).length} ${e(c)("categorie_s")}`),1)]),_:1},8,["page","page-size","page-count"])],64)):(M(),ce(ve,{key:1,size:"large",class:Fe(`mb-2 !border-dashed !border-2 ${e(Y)("!border-zinc-300","!border-zinc-600")}`)},{default:a(()=>[t(Ne,{description:e(c)("noCategoryAvailable")},{icon:a(()=>[t(e(S),null,{default:a(()=>[e(z)?(M(),ce(A,{key:0,icon:"carbon:search"})):(M(),ce(A,{key:1,icon:"carbon:categories"}))]),_:1})]),extra:a(()=>[e(z)?xe("",!0):(M(),ie("div",La,[t(e(F),{size:"small",onClick:i[4]||(i[4]=_=>le(null))},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[T(" "+k(e(c)("addCategory")),1)]),_:1})]))]),_:1},8,["description"])]),_:1},8,["class"]))])]),_:1}),t(p,{show:e(f),"onUpdate:show":i[5]||(i[5]=_=>oe(f)?f.value=_:null),title:e(c)("selectImage"),"upload-config":{folder:Fa,limit:0,maxSize:0,baseUrl:((st=e(he))==null?void 0:st.apiUrl)+"/media-files/upload",excludedExtensions:[]},onSubmit:v},null,8,["show","title","upload-config"]),t(yt,{show:e(o),"onUpdate:show":i[14]||(i[14]=_=>oe(o)?o.value=_:null),loading:e(be),preset:"dialog",style:{width:"500px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:e(V)?e(j)?e(c)("editSubCategory"):e(c)("editCategory"):e(j)?e(c)("addSubCategory"):e(c)("addCategory"),"positive-text":e(c)("validate"),"negative-text":e(c)("cancel"),onPositiveClick:ye,onNegativeClick:i[15]||(i[15]=_=>o.value=!1)},{default:a(()=>[t(lt,{ref_key:"formRef",ref:ae,class:"mt-5",model:e(h),rules:de,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(et,{label:e(c)("name"),path:"name"},{default:a(()=>[t(Ge,{modelValue:e(h).name,"onUpdate:modelValue":i[6]||(i[6]=_=>e(h).name=_),placeholder:e(c)("name"),"selector-span":5,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(et,{label:e(c)("description"),path:"description"},{default:a(()=>[t(Ge,{modelValue:e(h).description,"onUpdate:modelValue":i[7]||(i[7]=_=>e(h).description=_),placeholder:e(c)("description"),"selector-span":5,type:"textarea",class:"w-full",rows:3,sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(tt,{"x-gap":"12",span:24},{default:a(()=>[t(Le,{span:12,label:e(c)("position"),path:"position"},{default:a(()=>[t(ht,{value:e(h).position,"onUpdate:value":i[8]||(i[8]=_=>e(h).position=_),placeholder:e(c)("position"),class:"w-full",min:0},null,8,["value","placeholder"])]),_:1},8,["label"]),t(Le,{span:12,label:e(c)("color"),path:"color"},{default:a(()=>[P("div",Ha,[e(h).color?(M(),ie(Ae,{key:0},[t(e(F),{text:"",type:"error",style:{"font-size":"21px"},onClick:i[9]||(i[9]=_=>e(h).color="")},{default:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:trash-can"})]),_:1})]),_:1}),t($,{vertical:""})],64)):xe("",!0),t(e(ia),{value:e(h).color,"onUpdate:value":i[10]||(i[10]=_=>e(h).color=_),class:"cursor-pointer",theme:e(E)?"light":"dark","z-index":5e3,format:"hex",size:"25"},null,8,["value","theme"])])]),_:1},8,["label"])]),_:1}),t($,{dashed:"",class:"!my-2"}),t(tt,{"x-gap":"12",span:24},{default:a(()=>[t(Le,{span:12,label:e(c)("preview"),path:"image"},{default:a(()=>[t(L,{align:"center",justify:"center",style:{height:"100%"}},{default:a(()=>[t(bt,{class:"cursor-pointer","object-fit":"cover",style:Mt("border: 1px dashed "+e(Y)("green","white")),size:150,src:e(O)(e(h).image||""),onClick:i[11]||(i[11]=_=>f.value=!0)},{default:a(()=>[e(h).image?xe("",!0):(M(),ce(e(S),{key:0,size:64},{default:a(()=>[t(A,{icon:"carbon:image",class:"text-gray-400"})]),_:1}))]),_:1},8,["style","src"]),e(h).image?(M(),ce(e(F),{key:0,quaternary:"",onClick:i[12]||(i[12]=_=>Q())},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(A,{icon:"carbon:trash-can"})]),_:1})]),default:a(()=>[T(" "+k(e(c)("clear")),1)]),_:1})):xe("",!0)]),_:1})]),_:1},8,["label"]),t(Le,{span:12,label:e(c)("status"),path:"isActive"},{default:a(()=>[t(at,{value:e(h).isActive,"onUpdate:value":i[13]||(i[13]=_=>e(h).isActive=_),size:"small"},{checked:a(()=>[T(k(e(c)("visible")),1)]),unchecked:a(()=>[T(k(e(c)("hidden")),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),Ya=Be({__name:"index",setup(J){const w=pt(),x=mt(),me=ft(),{displayFormErrors:X,mergeArrays:O,tr:Y}=Qe(),{request:g}=ct(),{t:m,locale:c}=je(),U=r(""),re=r(),E=r([]),he=r(!1),l=Pe(()=>[{title:m("content"),key:"content",resizable:!0,width:300,fixed:"left",sortOrder:!1,sorter:"default",render(f){return u(Ft,{class:"text-xs",lineClamp:1,expandTrigger:"click",tooltip:!1},{default:()=>f.content})}},{title:m("name"),key:"name",resizable:!0,width:150,ellipsis:{tooltip:!0}},{title:m("article"),key:"article",resizable:!0,width:250,ellipsis:{tooltip:!0},render(f){return u("div",{},{default:()=>{var v;return Y((v=f.article)==null?void 0:v.title)}})},sortOrder:!1,sorter:"default"},{title:m("email"),key:"email",resizable:!0,width:150,ellipsis:{tooltip:!0}},{title:m("status"),key:"isActive",width:100,render(f){return u(Se,{type:f.isActive?"success":"error",bordered:!1},{default:()=>f.isActive?m("published"):m("unpublished")})},sortOrder:!1,sorter:"default"},{title:m("lastEdition"),key:"updatedAt",width:125,render(f){return u("div",{},{default:()=>Oe(f.updatedAt,{locale:c.value})})}},{title:m("creation"),key:"createdAt",width:125,render(f){return u("div",{},{default:()=>Oe(f.createdAt,{locale:c.value})})}},{title:()=>u(Ot,{},{default:()=>[u(Ee,{ref:re,placeholder:m("search"),value:U.value,onInput:f=>{U.value=f,U.value||q(`/news-comments?pageSize=${z.value}&page=${H.value}&query=${U.value}`)},clearable:!0}),u(F,{onClick:()=>{q(`/news-comments?pageSize=${z.value}&page=${H.value}&query=${U.value}`)}},{default:()=>u(S,{color:"white"},{default:()=>u(G,{icon:"carbon:search"})})})]}),key:"actions",width:200,render(f){return u("div",{class:"flex justify-end items-center w-full"},[u(va,{value:f.isActive?1:0,"onUpdate:value":async v=>{var b,i,A,L,I,$;w.start(),y.value=!0;const Q=await g({url:`/news-comments/${f.id}`,method:"put",data:{isActive:v}});if(Q.failure&&Q.error)switch((A=(i=(b=Q.error)==null?void 0:b.response)==null?void 0:i.data)==null?void 0:A.errorCode){case Ye.FORM_INVALID_DATA:X(($=(I=(L=Q.error)==null?void 0:L.response)==null?void 0:I.data)==null?void 0:$.data);break;default:x.error(m("anErrorOccurred"))}else x.success(m("success")),q(`/news-comments?pageSize=${z.value}&page=${H.value}&query=${U.value}`);y.value=!1,w.finish()},trigger:"click",placement:"left",options:[{label:m("published"),value:1},{label:m("unpublished"),value:0}]},{default:()=>[u(F,{size:"small",type:"warning",renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:certificate-check"})})},{default:()=>m("status")})]}),u("div",{class:"w-2"}),u(F,{size:"small",type:"error",onClick:()=>{me.warning({title:m("confirm"),content:m("confirmDeleteComment"),positiveText:m("yes"),negativeText:m("no"),onPositiveClick:async()=>{w.start(),(await g({url:`/news-comments/${f.id}`,method:"delete"})).success?x.success(m("success")):x.error(m("anErrorOccurred")),w.finish(),q(`/news-comments?pageSize=${z.value}&page=${H.value}&query=${U.value}`)}})},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:trash-can"})})})])},fixed:"right"}]),fe=r(0),z=r(10),H=r(1),D=f=>{q(`/news-comments?pageSize=${z.value}&page=${f}&query=${U.value}`)},R=f=>{z.value=f,q(`/news-comments?pageSize=${z.value}&query=${U.value}`)},q=async(f=null,v=!1)=>{var b,i,A,L,I;he.value=!0,w.start();const Q=await g({url:f||`/news-comments?pageSize=${z.value}&query=${U.value}`});Q.success&&Q.result&&(fe.value=((i=(b=Q.result.data)==null?void 0:b.meta)==null?void 0:i.total)||0,H.value=((L=(A=Q.result.data)==null?void 0:A.meta)==null?void 0:L.currentPage)||1,E.value=((I=Q.result.data)==null?void 0:I.comments)||[]),w.finish(),he.value=!1};q(null,!0);const y=r(!1),K=r(!1),j=r(null),be=r(null),o=r({name:"",email:"",content:"",isActive:!0,articleId:void 0}),V={name:[{required:!0,message:m("fillRequired")}],email:[{required:!0,message:m("fillRequired")},{trigger:["input"],validator(f,v){return v&&!za.isEmail(v)?new Error(m("invalidEmail")):!0}}],content:[{required:!0,message:m("fillRequired")}],articleId:[{required:!0,message:m("fillRequired")}]},ae=f=>{j.value=ge.cloneDeep(f),f?o.value=ge.cloneDeep(f):o.value={name:"",email:"",content:"",isActive:!0,articleId:void 0},K.value=!0},h=async()=>{var f;return(f=be.value)==null||f.validate(async v=>{var Q,b,i,A,L,I;if(!v)if(j.value)w.start(),y.value=!0,(await g({url:`/news-comments/${j.value.id}`,method:"put",data:{name:o.value.name,email:o.value.email,content:o.value.content,isActive:o.value.isActive,articleId:o.value.articleId}})).success?x.success(m("success")):x.error(m("anErrorOccurred")),y.value=!1,w.finish(),q(`/news-comments?pageSize=${z.value}&page=${H.value}&query=${U.value}`),K.value=!1;else{w.start(),y.value=!0;const $=await g({url:"/news-comments",method:"post",data:{name:o.value.name,email:o.value.email,content:o.value.content,isActive:o.value.isActive,articleId:o.value.articleId}});if($.failure&&$.error)switch((i=(b=(Q=$.error)==null?void 0:Q.response)==null?void 0:b.data)==null?void 0:i.errorCode){case Ye.FORM_INVALID_DATA:X((I=(L=(A=$.error)==null?void 0:A.response)==null?void 0:L.data)==null?void 0:I.data);break;default:x.error(m("anErrorOccurred"))}else x.success(m("success"));y.value=!1,w.finish(),q(`/news-comments?pageSize=${z.value}&page=${H.value}&query=${U.value}`),K.value=!1}}),!1},de=r(!1),le=r([]),W=r([]),ye=async f=>{if(!f.length){W.value=[];return}de.value=!0;const v=await g({url:`/news-articles/search/${f}`});v.success&&v.result&&(W.value=v.result.data),de.value=!1};St(()=>o.value.articleId,async f=>{if(!f)return;de.value=!0;const v=await g({url:"/news-articles/list",method:"post",data:{ids:[f]}});v.success&&v.result&&(le.value=v.result.data),de.value=!1});const B=Pe(()=>O(le.value,W.value,"id"));return(f,v)=>{const Q=dt,b=zt,i=Dt,A=It,L=vt,I=Yt,$=Ct,ve=_t,se=gt;return M(),ie(Ae,null,[t(Q,{to:"#add-comment-action"},{default:a(()=>[Ce(t(e(F),{type:"primary",onClick:v[0]||(v[0]=N=>ae(null))},{icon:a(()=>[t(e(S),{size:"18"},{default:a(()=>[t(e(G),{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[T(" "+k(e(m)("addComment")),1)]),_:1},512),[[Ie,!1]])]),_:1}),t(i,null,{default:a(()=>[t(b,{"pagination-behavior-on-filter":"first",columns:e(l),data:e(E),loading:e(he),"single-line":!1,"scroll-x":1500,striped:""},null,8,["columns","data","loading"])]),_:1}),t(A,{page:e(H),"onUpdate:page":[v[1]||(v[1]=N=>oe(H)?H.value=N:null),D],class:"mt-5 justify-end","show-size-picker":"","page-size":e(z),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(e(fe)/e(z)),"onUpdate:pageSize":R},null,8,["page","page-size","page-count"]),t(se,{show:e(K),"onUpdate:show":v[7]||(v[7]=N=>oe(K)?K.value=N:null),loading:e(y),preset:"dialog",style:{width:"500px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:e(j)?e(m)("editComment"):e(m)("addComment"),"positive-text":e(m)("validate"),"negative-text":e(m)("cancel"),onPositiveClick:h,onNegativeClick:v[8]||(v[8]=N=>K.value=!1)},{default:a(()=>[t(ve,{ref_key:"formRef",ref:be,class:"mt-5",model:e(o),rules:V,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(L,{label:e(m)("name"),path:"name"},{default:a(()=>[t(e(Ee),{value:e(o).name,"onUpdate:value":v[2]||(v[2]=N=>e(o).name=N),placeholder:e(m)("name"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(L,{label:e(m)("email"),path:"email"},{default:a(()=>[t(e(Ee),{value:e(o).email,"onUpdate:value":v[3]||(v[3]=N=>e(o).email=N),placeholder:e(m)("email"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(L,{label:e(m)("article"),path:"article"},{default:a(()=>[t(I,{value:e(o).articleId,"onUpdate:value":v[4]||(v[4]=N=>e(o).articleId=N),options:e(B),placeholder:e(m)("article"),loading:e(de),filterable:"",clearable:"",remote:"","value-field":"id","label-field":"fullname",class:"w-full",onSearch:ye},null,8,["value","options","placeholder","loading"])]),_:1},8,["label"]),t(L,{label:e(m)("content"),path:"content"},{default:a(()=>[t(e(Ee),{value:e(o).content,"onUpdate:value":v[5]||(v[5]=N=>e(o).content=N),placeholder:e(m)("content"),type:"textarea",class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(L,{label:e(m)("status"),path:"isActive"},{default:a(()=>[t($,{value:e(o).isActive,"onUpdate:value":v[6]||(v[6]=N=>e(o).isActive=N),size:"small"},{checked:a(()=>[T(k(e(m)("published")),1)]),unchecked:a(()=>[T(k(e(m)("unpublished")),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}});var te=(J=>(J[J.DRAFT=1]="DRAFT",J[J.PENDING=2]="PENDING",J[J.PUBLISHED=3]="PUBLISHED",J[J.TRASH=4]="TRASH",J))(te||{});const Ka=()=>{const{t:J}=je(),w=[{label:J("draft"),value:te.DRAFT,tagType:"default"},{label:J("pending"),value:te.PENDING,tagType:"info"},{label:J("published"),value:te.PUBLISHED,tagType:"success"},{label:J("trash"),value:te.TRASH,tagType:"error"}];return{getNewsArticleStatusTagType:X=>{var O;return((O=w.find(Y=>Y.value===X))==null?void 0:O.tagType)||"default"},getNewsArticleStatusLabel:X=>{var O;return(O=w.find(Y=>Y.value===X))==null?void 0:O.label},newsArticleStatus:w}},Ba={key:0,class:"flex items-center gap-3"},ja={key:1,class:"flex items-center gap-3"},Ga={class:"flex justify-end"},Wa={key:0},Xa={key:0},Qa={key:0},Za={class:"flex justify-center"},Ja={class:"text-base"},el={class:"px-10 mt-20"},tl={class:"w-full text-center"},al="articles",ll=Be({__name:"index",setup(J){var Tt,Ut;const w=pt(),x=mt(),me=ft(),{displayFormErrors:X,tr:O,pickByTheme:Y,fileUrl:g}=Qe(),{newsArticleStatus:m}=Ka(),{request:c}=ct(),{tags:U,orderedCategories:re}=kt(rt()),{loadCategories:E,loadTags:he}=rt(),{t:l,locale:fe}=je(),z=sa(),H=Kt("appConfig"),D=r([]),R=r([]),q=r([]),y=r(0),K=n=>{let s=`${n}&query=${j.value}&status=${y.value}`;for(const C of D.value)s+=`&categories[]=${C}`;for(const C of R.value)s+=`&tags[]=${C}`;for(const C of q.value)s+=`&months[]=${C}`;return s},j=r(""),be=r(),o=r([]),V=r([]),ae=r([]),h=r({}),de=r(0),le=r(0),W=r(!1),ye=r(null),B=r(null),f=r(!1),v=Pe(()=>[{type:"selection"},{title:l("title"),key:"title",resizable:!0,width:250,fixed:"left",ellipsis:{tooltip:!0},render(n){return u("div",{},{default:()=>O(n.title)})}},{title:l("summary"),key:"summary",resizable:!0,width:200,render(n){return u(Ft,{class:"text-xs",lineClamp:1,expandTrigger:"click",tooltip:!1},{default:()=>O(n.summary)})}},{title:l("categories"),key:"categories",width:150,render(n){return u("div",{},{default:()=>{var s;return(s=n.categories)==null?void 0:s.map(C=>C.name).map(C=>u(Se,{type:"info",size:"small",class:"mr-1 mb-1"},{default:()=>O(C)}))}})}},{title:l("tags"),key:"tags",width:150,render(n){return u("div",{},{default:()=>{var s;return(s=n.tags)==null?void 0:s.map(C=>C.name).map(C=>u(Se,{type:"primary",size:"small",class:"mr-1 mb-1"},{default:()=>O(C)}))}})}},{title:l("headline"),key:"isHeadline",resizable:!0,width:150,ellipsis:{tooltip:!0},render(n){return u(Se,{type:n.isHeadline?"success":"error",bordered:!1},{default:()=>n.isHeadline?l("yes"):l("no")})}},{title:l("author"),key:"author",resizable:!0,width:150,ellipsis:{tooltip:!0},render(n){return u("div",{},{default:()=>{var s,C;return((s=n.author)==null?void 0:s.firstname)+" "+((C=n.author)==null?void 0:C.lastname)}})}},{title:l("lastEdition"),key:"updatedAt",width:125,render(n){return u("div",{},{default:()=>Oe(n.updatedAt,{locale:fe.value})})}},{title:l("creation"),key:"createdAt",width:125,render(n){return u("div",{},{default:()=>Oe(n.createdAt,{locale:fe.value})})}},{title:()=>u(Ot,{},{default:()=>[u(Ee,{ref:be,placeholder:l("search"),value:j.value,onInput:n=>{j.value=n,j.value||I(K(`/news-articles?pageSize=${b.value}&page=${i.value}`))},clearable:!0}),u(F,{onClick:()=>{I(K(`/news-articles?pageSize=${b.value}&page=${i.value}`))}},{default:()=>u(S,{color:"white"},{default:()=>u(G,{icon:"carbon:search"})})})]}),key:"actions",width:225,render(n){return u("div",{class:"flex justify-end items-center w-full"},[u(F,{size:"small",type:"warning",onClick:()=>{Le(n)},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:edit"})})},{default:()=>l("edit")}),u("div",{class:"w-2"}),u(F,{size:"small",type:"info",onClick:()=>{ye.value=n,B.value=n.status,W.value=!0},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"mdi:equal"})})},y.value==te.TRASH?{}:{default:()=>l("status")}),u("div",{class:"w-2"}),y.value==te.TRASH?u(F,{size:"small",type:"error",onClick:()=>{me.warning({title:l("confirm"),content:l("confirmDeleteComment"),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{w.start(),(await c({url:`/news-articles/${n.id}`,method:"delete"})).success?x.success(l("success")):x.error(l("anErrorOccurred")),w.finish(),I(K(`/news-articles?pageSize=${b.value}&page=${i.value}`))}})},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:trash-can"})})}):null])},fixed:"right"}]),Q=r(0),b=r(10),i=r(1),A=n=>{I(K(`/news-articles?pageSize=${b.value}&page=${n}`))},L=n=>{b.value=n,I(K(`/news-articles?pageSize=${b.value}`))},I=async(n=null,s=!1)=>{var ee,we,ue,ke,Me,He;f.value=!0,w.start();const C=await c({url:n||K(`/news-articles?pageSize=${b.value}`)});if(C.success&&C.result&&(Q.value=((we=(ee=C.result.data)==null?void 0:ee.meta)==null?void 0:we.total)||0,i.value=((ke=(ue=C.result.data)==null?void 0:ue.meta)==null?void 0:ke.currentPage)||1,o.value=((Me=C.result.data)==null?void 0:Me.articles)||[]),s){const De=await c({url:"/users/type/administrators"});De.success&&De.result&&(V.value=De.result.data||[]);const Te=await c({url:"/news-articles/list/months"});Te.success&&Te.result&&(ae.value=(Te.result.data||[]).map($e=>({label:$e,value:$e})));const Ue=await c({url:"/count/news-articles"});Ue.success&&Ue.result&&(le.value=Ue.result.data);const Re=await c({url:`/count/news-articles/status/${te.DRAFT}`});Re.success&&Re.result&&(h.value[te.DRAFT]=Re.result.data);const Ve=await c({url:`/count/news-articles/status/${te.PUBLISHED}`});Ve.success&&Ve.result&&(h.value[te.PUBLISHED]=Ve.result.data);const _e=await c({url:`/count/news-articles/status/${te.PENDING}`});_e.success&&_e.result&&(h.value[te.PENDING]=_e.result.data);const We=await c({url:`/count/news-articles/status/${te.TRASH}`});We.success&&We.result&&(h.value[te.TRASH]=We.result.data);const qe=await c({url:`/count/news-articles/author/${(He=z.userData)==null?void 0:He.id}`});qe.success&&qe.result&&(de.value=qe.result.data),await E(),await he()}ot(),w.finish(),f.value=!1};I(null,!0);const $=r(!1),ve=r(!1),se=r([]),N=r(se.value),Z=r([]),Ze=r(Z.value),Ne=r(null),Je=r(null),p=r({authorId:(Tt=z.userData)==null?void 0:Tt.id,publisherId:(Ut=z.userData)==null?void 0:Ut.id,title:"",slug:"",summary:"",content:'{"fr":""}',featuredImage:"",featuredImageUrl:"",legend:"",allowComments:!0,isHeadline:!1,status:te.DRAFT,publishedAt:qt(new Date,{outPattern:"YYYY-MM-DD HH:mm:ss",locale:fe.value})}),Ge=r(p.value),et={title:[{required:!0,message:l("fillRequired")}],slug:[{required:!0,message:l("fillRequired")}],content:[{required:!0,message:l("fillRequired")}],summary:[{required:!0,message:l("fillRequired")}],featuredImage:[{required:!0,message:l("fillRequired")}],authorId:[{required:!0,message:l("fillRequired")}],publisherId:[{required:!0,message:l("fillRequired")}]},ht=Pe(()=>ge.isEqual(se.value,N.value)&&ge.isEqual(Z.value,Ze.value)&&ge.isEqual(p.value,Ge.value)),Le=n=>{var s,C,ee,we;Ne.value=ge.cloneDeep(n),n?(p.value=ge.cloneDeep(n),se.value=((s=n.tags)==null?void 0:s.map(ue=>ue.id))??[],Z.value=((C=n.categories)==null?void 0:C.map(ue=>ue.id))??[]):(p.value={authorId:(ee=z.userData)==null?void 0:ee.id,publisherId:(we=z.userData)==null?void 0:we.id,title:"",slug:"",summary:"",content:'{"fr":""}',featuredImage:"",featuredImageUrl:"",legend:"",allowComments:!0,isHeadline:!1,status:te.DRAFT,publishedAt:qt(new Date,{outPattern:"YYYY-MM-DD HH:mm:ss",locale:fe.value})},se.value=[],Z.value=[]),N.value=ge.cloneDeep(se.value),Ze.value=ge.cloneDeep(Z.value),Ge.value=ge.cloneDeep(p.value),ve.value=!0},tt=async()=>{var n;return(n=Je.value)==null||n.validate(async s=>{var C,ee,we,ue,ke,Me,He,De,Te,Ue,Re,Ve;if(!s)if(Ne.value){w.start(),$.value=!0;const _e=await c({url:`/news-articles/${Ne.value.id}`,method:"put",data:{authorId:p.value.authorId,publisherId:p.value.publisherId,title:p.value.title,slug:p.value.slug,summary:p.value.summary,content:p.value.content,featuredImage:p.value.featuredImage,legend:p.value.legend,allowComments:p.value.allowComments,isHeadline:p.value.isHeadline,status:p.value.status,publishedAt:p.value.publishedAt,categories:Z.value,tags:se.value}});if(_e.failure&&_e.error)switch((we=(ee=(C=_e.error)==null?void 0:C.response)==null?void 0:ee.data)==null?void 0:we.errorCode){case Ye.FORM_INVALID_DATA:X((Me=(ke=(ue=_e.error)==null?void 0:ue.response)==null?void 0:ke.data)==null?void 0:Me.data);break;default:x.error(l("anErrorOccurred"))}else x.success(l("success"));$.value=!1,w.finish(),I(K(`/news-articles?pageSize=${b.value}&page=${i.value}`)),ve.value=!1}else{w.start(),$.value=!0;const _e=await c({url:"/news-articles",method:"post",data:{authorId:p.value.authorId,publisherId:p.value.publisherId,title:p.value.title,slug:p.value.slug,summary:p.value.summary,content:p.value.content,featuredImage:p.value.featuredImage,legend:p.value.legend,allowComments:p.value.allowComments,isHeadline:p.value.isHeadline,status:p.value.status,publishedAt:p.value.publishedAt,categories:Z.value,tags:se.value}});if(_e.failure&&_e.error)switch((Te=(De=(He=_e.error)==null?void 0:He.response)==null?void 0:De.data)==null?void 0:Te.errorCode){case Ye.FORM_INVALID_DATA:X((Ve=(Re=(Ue=_e.error)==null?void 0:Ue.response)==null?void 0:Re.data)==null?void 0:Ve.data);break;default:x.error(l("anErrorOccurred"))}else x.success(l("success"));$.value=!1,w.finish(),I(K(`/news-articles?pageSize=${b.value}&page=${i.value}`)),ve.value=!1}}),!1},bt=async()=>{var n,s,C,ee,we,ue;if(ye.value){w.start(),$.value=!0;const ke=await c({url:`/news-articles/${ye.value.id}`,method:"put",data:{status:B.value}});if(ke.failure&&ke.error)switch((C=(s=(n=ke.error)==null?void 0:n.response)==null?void 0:s.data)==null?void 0:C.errorCode){case Ye.FORM_INVALID_DATA:X((ue=(we=(ee=ke.error)==null?void 0:ee.response)==null?void 0:we.data)==null?void 0:ue.data);break;default:x.error(l("anErrorOccurred"))}else x.success(l("success"));I(K(`/news-articles?pageSize=${b.value}&page=${i.value}`),!0),$.value=!1,w.finish()}ye.value=null,B.value=null,W.value=!1},at=n=>[n.parentId?u(S,{style:{verticalAlign:"-0.15em",marginRight:"4px"}},{default:()=>u(G,{icon:"mdi:arrow-right"})}):null,`${O(n.name)}`],lt=n=>u("span",{},{default:()=>`${O(n.name)||n.name}`}),yt=n=>u("span",{},{default:()=>Oe(n.label,{inPattern:"YYYY-MM",outPattern:"MMMM YYYY",locale:fe.value})}),st=n=>/^[a-z0-9_-]*$/.test(n);St(()=>p.value.title,n=>{Ne.value||(p.value.slug=Sa(O(n),{trim:!0,lower:!0,strict:!0}))});const _=r(!1),nt=async n=>{p.value.featuredImage=n,_.value=!1},Ke=()=>{p.value.featuredImage=""},ne=r(Et()),pe=r([]),jt=n=>n.id,Gt=n=>{pe.value=n};function ot(){pe.value=[],ne.value=Et()}const Wt=async()=>(pe.value.length?me.warning({title:l("confirm"),content:l("deleteSelectionWarningMessage",[pe.value.length]),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{$.value=!0,w.start();for(let n=0;n<pe.value.length;n++)(await c({url:`/news-articles/${pe.value[n]}`,method:"delete"})).success;I(null,!0),w.finish(),$.value=!1,x.success(l("success")),ot()}}):x.warning(l("noItemSelected")),!1),Xt=async()=>(pe.value.length?me.warning({title:l("confirm"),content:l("editSelectionStatusWarningMessage",[pe.value.length]),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{$.value=!0,w.start();for(let n=0;n<pe.value.length;n++)(await c({url:`/news-articles/${pe.value[n]}`,method:"put",data:{status:B.value}})).success;I(null,!0),w.finish(),$.value=!1,W.value=!1,x.success(l("success")),ot()}}):x.warning(l("noItemSelected")),!1);return(n,s)=>{var Vt;const C=_a,ee=Yt,we=dt,ue=ga,ke=ha,Me=At,He=zt,De=Dt,Te=It,Ue=Nt,Re=ba,Ve=gt,_e=ya,We=$t,qe=xt,$e=vt,it=Lt,wt=Ht,Qt=wa,Rt=ka,Zt=_t,Jt=oa;return M(),ie(Ae,null,[t(we,{to:"#add-article-action"},{default:a(()=>[e(pe).length?(M(),ie("section",Ba,[P("span",null,k(e(l)("nbItemsSelected",[e(pe).length])),1),e(y)==e(te).TRASH?(M(),ce(e(F),{key:0,type:"error",size:"small",onClick:Wt},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:trash-can"})]),_:1})]),default:a(()=>[T(" "+k(e(l)("delete")),1)]),_:1})):xe("",!0),t(e(F),{type:"info",size:"small",onClick:s[0]||(s[0]=()=>{ye.value=null,B.value=null,W.value=!0})},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"mdi:equal"})]),_:1})]),default:a(()=>[T(" "+k(e(l)("editStatus")),1)]),_:1}),t(e(F),{type:"warning",size:"small",onClick:ot},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"mdi:close"})]),_:1})]),default:a(()=>[T(" "+k(e(l)("cancelSelection")),1)]),_:1})])):(M(),ie("section",ja,[t(ee,{value:e(q),"onUpdate:value":[s[2]||(s[2]=d=>oe(q)?q.value=d:null),s[3]||(s[3]=d=>I())],"render-label":yt,options:e(ae),placeholder:e(l)("months"),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"label","value-field":"value",class:"!w-[200px]"},{action:a(()=>[t(C,{size:"large",class:"w-full","default-checked":e(ae).length&&e(q).length===e(ae).length,"onUpdate:checked":s[1]||(s[1]=d=>{d?q.value=e(ae).map(ze=>ze.value):q.value=[],I()})},{default:a(()=>[T(k(e(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","options","placeholder"]),t(ee,{value:e(R),"onUpdate:value":[s[5]||(s[5]=d=>oe(R)?R.value=d:null),s[6]||(s[6]=d=>I())],"render-label":lt,placeholder:e(l)("tags"),options:e(U),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"name","value-field":"id",class:"!w-[200px]"},{action:a(()=>[t(C,{size:"large",class:"w-full","default-checked":e(U).length&&e(R).length===e(U).length,"onUpdate:checked":s[4]||(s[4]=d=>{d?R.value=e(U).map(ze=>ze.id).filter(ze=>ze):R.value=[],I()})},{default:a(()=>[T(k(e(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","placeholder","options"]),t(ee,{value:e(D),"onUpdate:value":[s[8]||(s[8]=d=>oe(D)?D.value=d:null),s[9]||(s[9]=d=>I())],"render-label":at,options:e(re),placeholder:e(l)("categories"),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"name","value-field":"id",class:"!w-[250px]"},{action:a(()=>[t(C,{size:"large",class:"w-full","default-checked":e(re).length&&e(D).length===e(re).length,"onUpdate:checked":s[7]||(s[7]=d=>{d?D.value=e(re).map(ze=>ze.id).filter(ze=>ze):D.value=[],I()})},{default:a(()=>[T(k(e(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","options","placeholder"]),t(e(F),{type:"primary",onClick:s[10]||(s[10]=d=>Le(null))},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[T(" "+k(e(l)("addArticle")),1)]),_:1})]))]),_:1}),t(Me,{size:"small",class:"mb-5"},{default:a(()=>[P("div",Ga,[t(ke,{value:e(y),"onUpdate:value":[s[11]||(s[11]=d=>oe(y)?y.value=d:null),s[12]||(s[12]=d=>I())],name:"filterstatusradiobuttongroup",size:"medium",disabled:!!e(pe).length},{default:a(()=>[t(ue,{value:0},{default:a(()=>[T(k(e(l)("all"))+"  ",1),e(le)?(M(),ie("span",Wa," ("+k(e(le))+") ",1)):xe("",!0)]),_:1}),t(ue,{value:10},{default:a(()=>[T(k(e(l)("myArticles"))+"  ",1),e(de)?(M(),ie("span",Xa," ("+k(e(de))+") ",1)):xe("",!0)]),_:1}),(M(!0),ie(Ae,null,ut(e(m),d=>(M(),ce(ue,{key:d.value,value:d.value},{default:a(()=>[T(k(d.label)+"  ",1),e(h)[d.value]?(M(),ie("span",Qa," ("+k(e(h)[d.value])+") ",1)):xe("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])])]),_:1}),t(De,null,{default:a(()=>[(M(),ce(He,{key:e(ne),columns:e(v),data:e(o),loading:e(f),"single-line":!1,"scroll-x":1500,"row-key":jt,"pagination-behavior-on-filter":"first",size:"small",striped:"","onUpdate:checkedRowKeys":Gt},null,8,["columns","data","loading","row-key"]))]),_:1}),t(Te,{page:e(i),"onUpdate:page":[s[13]||(s[13]=d=>oe(i)?i.value=d:null),A],class:"mt-5 justify-end","show-size-picker":"","page-size":e(b),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(e(Q)/e(b)),"onUpdate:pageSize":L},null,8,["page","page-size","page-count"]),t(Ue,{show:e(_),"onUpdate:show":s[14]||(s[14]=d=>oe(_)?_.value=d:null),title:e(l)("selectImage"),"upload-config":{folder:al,limit:0,maxSize:0,baseUrl:((Vt=e(H))==null?void 0:Vt.apiUrl)+"/media-files/upload",excludedExtensions:[]},onSubmit:nt},null,8,["show","title","upload-config"]),t(Ve,{show:e(W),"onUpdate:show":s[17]||(s[17]=d=>oe(W)?W.value=d:null),preset:"card",style:{width:"500px"},bordered:!1,"mask-closable":!1,"close-on-esc":!1,title:e(l)("editStatus")},{default:a(()=>[t(Re,{show:e($)},{default:a(()=>[P("div",Za,[t(ke,{value:e(B),"onUpdate:value":[s[15]||(s[15]=d=>oe(B)?B.value=d:null),s[16]||(s[16]=()=>{e(pe).length?Xt():bt()})],name:"filterstatusradiobuttongroup",size:"large"},{default:a(()=>[(M(!0),ie(Ae,null,ut(e(m),d=>(M(),ce(ue,{key:d.value,value:d.value,size:"large"},{default:a(()=>[T(k(d.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),_:1},8,["show"])]),_:1},8,["show","title"]),t(Jt,{modelValue:e(ve),"onUpdate:modelValue":s[33]||(s[33]=d=>oe(ve)?ve.value=d:null),class:"w-full"},{header:a(()=>[P("div",Ja,[t(_e,{depth:"1"},{default:a(()=>[T(k(e(Ne)?e(l)("editArticle"):e(l)("addArticle")),1)]),_:1})])]),"header-extra":a(()=>[t(We,{class:"mr-10",align:"center"},{default:a(()=>[t(e(F),{type:"success",title:e(l)("save"),loading:e(f)||e($),disabled:e(ht),onClick:s[18]||(s[18]=d=>tt())},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:save"})]),_:1})]),default:a(()=>[T(" "+k(e(l)("save")),1)]),_:1},8,["title","loading","disabled"])]),_:1})]),default:a(()=>[P("section",el,[t(Zt,{ref_key:"formRef",ref:Je,model:e(p),rules:et,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(wt,{cols:"5","x-gap":14,"y-gap":12,"item-responsive":""},{default:a(()=>[t(Rt,{span:"0:5 400:5 600:2 800:2"},{default:a(()=>[t($e,{label:e(l)("title"),path:"title"},{default:a(()=>[t(qe,{modelValue:e(p).title,"onUpdate:modelValue":s[19]||(s[19]=d=>e(p).title=d),placeholder:e(l)("title"),"selector-span":4,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t($e,{label:e(l)("slug"),path:"slug"},{default:a(()=>[t(e(Ee),{value:e(p).slug,"onUpdate:value":s[20]||(s[20]=d=>e(p).slug=d),placeholder:e(l)("slug"),"allow-input":st,class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(wt,{"x-gap":"12",span:24},{default:a(()=>[t(it,{span:12,label:e(l)("status"),path:"status"},{default:a(()=>[t(ee,{value:e(p).status,"onUpdate:value":s[21]||(s[21]=d=>e(p).status=d),placeholder:e(l)("status"),options:e(m),class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"]),t(it,{span:12,label:e(l)("author"),path:"authorId"},{default:a(()=>[t(ee,{value:e(p).authorId,"onUpdate:value":s[22]||(s[22]=d=>e(p).authorId=d),placeholder:e(l)("author"),options:e(V),"label-field":"fullname","value-field":"id",class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"])]),_:1}),Ce(t($e,{label:e(l)("publicationDate"),path:"publishedAt"},{default:a(()=>[t(Qt,{"formatted-value":e(p).publishedAt,"onUpdate:formattedValue":s[23]||(s[23]=d=>e(p).publishedAt=d),"value-format":"yyyy-MM-dd HH:mm:ss",format:"dd MMMM yyyy - HH:mm",type:"datetime",class:"w-full"},null,8,["formatted-value"])]),_:1},8,["label"]),[[Ie,e(p).status===e(te).PUBLISHED]]),t($e,{label:e(l)("featuredImage"),path:"featuredImage"},{default:a(()=>[t(Me,null,{default:a(()=>[P("section",tl,[P("div",{class:"cursor-pointer w-full h-[200px] flex items-center justify-center rounded-sm",style:Mt(`
                      border: 1px dashed ${e(Y)("green","white")};
                      background-image: url('${e(g)(e(p).featuredImageUrl||e(p).featuredImage||"")}');
                      background-position: center;
                      background-size: cover
                    `),onClick:s[24]||(s[24]=d=>_.value=!0)},[e(p).featuredImage?xe("",!0):(M(),ce(e(S),{key:0,size:64},{default:a(()=>[t(e(G),{icon:"carbon:image",class:"text-gray-400"})]),_:1}))],4),e(p).featuredImage?(M(),ce(e(F),{key:0,class:"!mt-5",quaternary:"",onClick:s[25]||(s[25]=d=>Ke())},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:trash-can"})]),_:1})]),default:a(()=>[T(" "+k(e(l)("clear")),1)]),_:1})):xe("",!0)])]),_:1})]),_:1},8,["label"]),t($e,{label:e(l)("legend"),path:"legend"},{default:a(()=>[t(qe,{modelValue:e(p).legend,"onUpdate:modelValue":s[26]||(s[26]=d=>e(p).legend=d),placeholder:e(l)("legend"),"selector-span":4,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(Rt,{span:"0:5 400:5 600:3 800:3"},{default:a(()=>[t($e,{label:e(l)("summary"),path:"summary"},{default:a(()=>[t(qe,{modelValue:e(p).summary,"onUpdate:modelValue":s[27]||(s[27]=d=>e(p).summary=d),placeholder:e(l)("summary"),"selector-span":3,type:"textarea",class:"w-full",autosize:{minRows:3,maxRows:4},sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t($e,{label:e(l)("content"),path:"content"},{default:a(()=>[t(qe,{modelValue:e(p).content,"onUpdate:modelValue":s[28]||(s[28]=d=>e(p).content=d),"should-not-group-editor-when-full":"",placeholder:e(l)("content"),"selector-span":3,type:"editor",class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t($e,{label:e(l)("categories"),path:"categories"},{default:a(()=>[t(ee,{value:e(Z),"onUpdate:value":s[29]||(s[29]=d=>oe(Z)?Z.value=d:null),"render-label":at,placeholder:e(l)("categories"),options:e(re),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"name","value-field":"id",class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"]),t($e,{label:e(l)("tags"),path:"tags"},{default:a(()=>[t(ee,{value:e(se),"onUpdate:value":s[30]||(s[30]=d=>oe(se)?se.value=d:null),"render-label":lt,placeholder:e(l)("tags"),options:e(U),"max-tag-count":"responsive",filterable:"",multiple:"",tag:"","label-field":"name","value-field":"id",class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"]),t(wt,{"x-gap":"12",span:24},{default:a(()=>[t(it,{"show-label":!1,span:12,path:"allowComments"},{default:a(()=>[t(C,{checked:e(p).allowComments,"onUpdate:checked":s[31]||(s[31]=d=>e(p).allowComments=d)},{default:a(()=>[T(k(e(l)("allowComments")),1)]),_:1},8,["checked"])]),_:1}),t(it,{"show-label":!1,span:12,path:"isHeadline"},{default:a(()=>[t(C,{checked:e(p).isHeadline,"onUpdate:checked":s[32]||(s[32]=d=>e(p).isHeadline=d)},{default:a(()=>[T(k(e(l)("headline")),1)]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"])],64)}}});const sl=Bt(ll,[["__scopeId","data-v-2dbeaf4e"]]),nl=Be({__name:"index",setup(J){const w=pt(),x=mt(),me=ft(),{displayFormErrors:X,tr:O}=Qe(),{request:Y}=ct(),{t:g,locale:m}=je(),c=r(!1),U=r([]),re=r(""),E=r(),he={pageSize:12,prefix:({itemCount:o})=>u("div",{class:"font-bold"},{default:()=>`${g("total")}: ${o}`})},l=[{title:g("name"),key:"name",resizable:!0,width:150,ellipsis:{tooltip:!0},fixed:"left",sortOrder:!1,sorter:"default",render(o){return u("div",{},{default:()=>O(o.name)})}},{title:g("description"),key:"description",resizable:!0,width:200,ellipsis:{tooltip:!0},render(o){return u("small",{},{default:()=>O(o.description)})}},{title:g("status"),key:"isActive",width:100,render(o){return u(Se,{type:o.isActive?"success":"error",bordered:!1},{default:()=>o.isActive?g("visible"):g("hidden")})},sortOrder:!1,sorter:"default"},{title:g("article_s"),key:"articlesCount",width:90,render(o){return u(Se,{type:"info",bordered:!1},{default:()=>o.articlesCount})},sortOrder:!1,sorter:"default"},{title:g("updateAt"),key:"updatedAt",width:125,render(o){return u("div",{},{default:()=>Oe(o.updatedAt,{locale:m.value,outPattern:"DD MMMM YYYY"})})}},{title:g("createdAt"),key:"createdAt",width:125,render(o){return u("div",{},{default:()=>Oe(o.createdAt,{locale:m.value,outPattern:"DD MMMM YYYY"})})}},{title:()=>u(Ee,{ref:E,placeholder:g("search"),value:re.value,onInput:o=>{re.value=o}},{suffix:()=>u(S,{},{default:()=>u(G,{icon:"carbon:search"})})}),key:"actions",width:150,render(o){return u("div",{class:"flex justify-end items-center w-full"},[u(F,{size:"small",type:"warning",onClick:()=>{j(o)},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:edit"})})}),u("div",{class:"w-2"}),u(F,{size:"small",type:"error",onClick:()=>{me.warning({title:g("confirm"),content:g("confirmDeleteNewsTag"),positiveText:g("yes"),negativeText:g("no"),onPositiveClick:async()=>{(await Y({method:"delete",url:`/news-tags/${o.id}`})).success?(x.success(g("success")),z()):x.error(g("anErrorOccurred"))}})},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:trash-can"})})})])},fixed:"right"}],fe=Pe(()=>{if(!re.value)return U.value;const o=U.value.filter(V=>{var ae;return V.name.toLowerCase().includes(re.value.toLowerCase())||((ae=V.description)==null?void 0:ae.toLowerCase().includes(re.value.toLowerCase()))});return E.value&&E.value.focus(),o}),z=async()=>{c.value=!0;const o=await Y({url:"/news-tags"});o.success&&o.result&&(U.value=o.result.data),c.value=!1};z();const H=r(!1),D=r(!1),R=r(null),q=r(null),y=r({name:"",description:"",isActive:!0}),K={name:[{required:!0,message:g("fillRequired")}],description:[{required:!0,message:g("fillRequired")}]},j=o=>{R.value=ge.cloneDeep(o),o?y.value=ge.cloneDeep(o):y.value={name:"",description:"",isActive:!0},D.value=!0},be=async()=>{var o;return(o=q.value)==null||o.validate(async V=>{var ae,h,de,le,W,ye;if(!V)if(R.value)if(R.value.name!==y.value.name&&U.value.findIndex(B=>B.name==y.value.name)>-1)x.error(g("sameTagNameMessage"));else{w.start(),H.value=!0;const B={name:y.value.name,description:y.value.description,isActive:y.value.isActive},f=await Y({method:"put",url:`/news-tags/${R.value.id}`,data:B});f.success&&f.result.data&&(x.success(g("success")),z()),H.value=!1,w.finish(),D.value=!1}else if(U.value.findIndex(B=>B.name==y.value.name)>-1)x.error(g("sameTagNameMessage"));else{w.start(),H.value=!0;const B={name:y.value.name,description:y.value.description,isActive:y.value.isActive},f=await Y({method:"post",url:"/news-tags",data:B});if(f.failure&&f.error)switch((de=(h=(ae=f.error)==null?void 0:ae.response)==null?void 0:h.data)==null?void 0:de.errorCode){case Ye.FORM_INVALID_DATA:X((ye=(W=(le=f.error)==null?void 0:le.response)==null?void 0:W.data)==null?void 0:ye.data);break;default:x.error(g("anErrorOccurred"))}else x.success(g("success")),z();H.value=!1,w.finish(),D.value=!1}}),!1};return(o,V)=>{const ae=dt,h=zt,de=Dt,le=xt,W=vt,ye=Ct,B=_t,f=gt;return M(),ie(Ae,null,[t(ae,{to:"#add-tag-action"},{default:a(()=>[t(e(F),{type:"primary",onClick:V[0]||(V[0]=v=>j(null))},{icon:a(()=>[t(e(S),{size:"18"},{default:a(()=>[t(e(G),{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[T(" "+k(e(g)("addTag")),1)]),_:1})]),_:1}),t(de,null,{default:a(()=>[t(h,{columns:l,data:e(fe),pagination:he,loading:e(c),"single-line":!1,"scroll-x":1e3,size:"small",striped:""},null,8,["data","loading"])]),_:1}),t(f,{show:e(D),"onUpdate:show":V[4]||(V[4]=v=>oe(D)?D.value=v:null),loading:e(H),preset:"dialog",style:{width:"450px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:e(R)?e(g)("editTag"):e(g)("addTag"),"positive-text":e(g)("validate"),"negative-text":e(g)("cancel"),onPositiveClick:be,onNegativeClick:V[5]||(V[5]=v=>D.value=!1)},{default:a(()=>[t(B,{ref_key:"formRef",ref:q,class:"mt-5",model:e(y),rules:K,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(W,{label:e(g)("name"),path:"name"},{default:a(()=>[t(le,{modelValue:e(y).name,"onUpdate:modelValue":V[1]||(V[1]=v=>e(y).name=v),placeholder:e(g)("name"),"selector-span":5,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(W,{label:e(g)("description"),path:"description"},{default:a(()=>[t(le,{modelValue:e(y).description,"onUpdate:modelValue":V[2]||(V[2]=v=>e(y).description=v),placeholder:e(g)("description"),"selector-span":5,type:"textarea",class:"w-full",rows:3,sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(W,{label:e(g)("status"),path:"isActive"},{default:a(()=>[t(ye,{value:e(y).isActive,"onUpdate:value":V[3]||(V[3]=v=>e(y).isActive=v),size:"small"},{checked:a(()=>[T(k(e(g)("visible")),1)]),unchecked:a(()=>[T(k(e(g)("hidden")),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),ol={id:"header-btn"},il={id:"add-article-action"},rl={id:"add-comment-action"},ul={id:"add-category-action"},cl={id:"add-tag-action"},dl={key:"articles"},pl={key:"comments"},ml={key:"categories"},fl={key:"tags"},vl=Be({name:na.NEWS_MANAGEMENT.NAME}),_l=Be({...vl,setup(J){ta(D=>({ae8402e2:e(U)}));const w=["articles","categories","comments","tags"],x=D=>w.includes(D),{t:me}=je(),X=Ma(),{is2XlScreen:O,isXlScreen:Y,isLgScreen:g,isMdScreen:m,isSmScreen:c,appSecondaryColor:U}=Qe(),re=Pt(),E=ra("news-management",()=>({currentMenuItemKey:r("articles")}))(),he=(D,R)=>()=>u(S,{color:E.currentMenuItemKey==R?"white":""},{default:()=>u(G,{icon:D})}),l=(D,R)=>()=>u("span",{class:`${E.currentMenuItemKey==R?"text-white":""}`,id:ge.camelCase(R)},{default:()=>D}),fe=Pe(()=>[{label:l(me("articles"),"articles"),key:"articles",icon:he("carbon:document","articles")},{label:l(me("comments"),"comments"),key:"comments",icon:he("carbon:chat","comments")},{label:l(me("categories"),"categories"),key:"categories",icon:he("carbon:categories","categories")},{label:l(me("tags"),"tags"),key:"tags",icon:he("carbon:tag","tags")}]),z=Pe(()=>re.contentLayoutSize.height-200),H=r();return St(()=>[m.value,c.value,g.value,Y.value],([D,R,q,y])=>{H.value=D||R||q||y,setTimeout(()=>{H.value=void 0},500)}),Ca(()=>{X.params.key&&x(X.params.key)&&(E.currentMenuItemKey=X.params.key)}),(D,R)=>{const q=$t,y=xa,K=$a,j=Aa,be=At,o=ea;return M(),ce(o,null,{"header-extra":a(()=>[t(q,null,{default:a(()=>[P("div",ol,[Ce(P("div",il,null,512),[[Ie,e(E).currentMenuItemKey==="articles"]]),Ce(P("div",rl,null,512),[[Ie,e(E).currentMenuItemKey==="comments"]]),Ce(P("div",ul,null,512),[[Ie,e(E).currentMenuItemKey==="categories"]]),Ce(P("div",cl,null,512),[[Ie,e(E).currentMenuItemKey==="tags"]])])]),_:1})]),default:a(()=>[t(be,{embedded:""},{default:a(()=>[t(j,{style:Mt(`height: ${e(z)}px`)},{default:a(()=>[t(j,{position:"absolute",style:{top:"0",bottom:"0"},"has-sider":""},{default:a(()=>[t(K,{bordered:"","show-trigger":"","collapse-mode":"width","content-style":"padding: 4px",collapsed:e(H),"default-collapsed":!e(O),"collapsed-width":64,"native-scrollbar":!1,width:e(O)?300:275},{default:a(()=>[t(y,{value:e(E).currentMenuItemKey,"onUpdate:value":R[0]||(R[0]=V=>e(E).currentMenuItemKey=V),"collapsed-width":64,"collapsed-icon-size":22,options:e(fe)},null,8,["value","options"])]),_:1},8,["collapsed","default-collapsed","width"]),t(j,{"content-style":"padding: 10px 24px","native-scrollbar":!1},{default:a(()=>[t(aa,{name:"slide-fade"},{default:a(()=>[Ce(P("section",dl,[t(sl)],512),[[Ie,e(E).currentMenuItemKey==="articles"]]),Ce(P("section",pl,[t(Ya)],512),[[Ie,e(E).currentMenuItemKey==="comments"]]),Ce(P("section",ml,[t(Oa)],512),[[Ie,e(E).currentMenuItemKey==="categories"]]),Ce(P("section",fl,[t(nl)],512),[[Ie,e(E).currentMenuItemKey==="tags"]])]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})}}});const zn=Bt(_l,[["__scopeId","data-v-b2ad2fbf"]]);export{zn as default};
