import{t as u,u as p,f as h,v as g,e as c,w as f}from"./main-D6UvRL7q.js";import{u as d}from"./vue-i18n-B92nPylK.js";import{p as l,u as m}from"./naive-ui-BrWbllCz.js";var y=(r=>(r[r.DRAFT=1]="DRAFT",r[r.PENDING=2]="PENDING",r[r.PUBLISHED=3]="PUBLISHED",r[r.TRASH=4]="TRASH",r))(y||{});class w{id;foreignId;authorId;publisherId;title;slug;summary;content;featuredImage;featuredImageUrl;foreignFeaturedImage;legend;allowComments;isHeadline;status;publishedAt;deletedAt;createdAt;updatedAt;author;publisher;categories;categoriesCount;tags;tagsCount;comments;commentsCount;constructor(o,s,a,n,e=y.PENDING,t,i,I,E,A,D,O,U,F,P,b,q,B){this.id=t,this.foreignId=i,this.authorId=I,this.publisherId=E,this.title=o,this.slug=s,this.summary=A,this.content=D,this.featuredImage=O,this.foreignFeaturedImage=U,this.legend=F,this.allowComments=a,this.isHeadline=n,this.status=e,this.publishedAt=P,this.deletedAt=b,this.createdAt=q,this.updatedAt=B}}const C=r=>{const{displayFormErrors:o}=p(),{request:s}=c(),{t:a}=d(),n=l(),e=m();return u({queryKey:["news-articles"],operation:"insert",isPaginated:!0,insertToPage:"first",getItemId:t=>"id"in t&&t.id?t.id:`temp-${crypto.randomUUID()}`,mutationFn:async t=>{n.start();try{const i=await s({method:"post",url:"/news-articles",data:f(t,["id"])});if(!i.success)throw new Error(i.error||a("anErrorOccurred"));return i.result.data}finally{n.finish()}},mutationOptions:{onSuccess:()=>{e.success(a("success"))},onError:t=>{switch(t?.response?.data?.errorCode){case h.FORM_INVALID_DATA:o(t?.response?.data?.data);break;default:e.error(a("anErrorOccurred"))}},...r}})},H=r=>{const{displayFormErrors:o}=p(),{request:s}=c(),{t:a}=d(),n=l(),e=m();return u({queryKey:["news-articles"],operation:"update",isPaginated:!0,getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{n.start();try{const i=await s({method:"put",url:`/news-articles/${t.id}`,data:f(t,["id"])});if(!i.success)throw new Error(i.error||a("anErrorOccurred"));return i.result.data}finally{n.finish()}},mutationOptions:{onSuccess:()=>{e.success(a("success"))},onError:t=>{switch(t?.response?.data?.errorCode){case h.FORM_INVALID_DATA:o(t?.response?.data?.data);break;default:e.error(a("anErrorOccurred"))}},...r}})},L=r=>{const{request:o}=c(),{t:s}=d(),a=l(),n=m();return u({queryKey:["news-articles"],operation:"remove",isPaginated:!0,allowEmptyPages:!1,getItemId:e=>e.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:e})=>{a.start();const t=await o({method:"delete",url:`/news-articles/${e}`});if(a.finish(),!t.success)throw new Error(t.error);return t.result?.data},mutationOptions:{onSuccess:()=>{n.success(s("success"))},onError:e=>{n.error(s("anErrorOccurred"))},...r}})},R=r=>{const{request:o}=c(),{t:s}=d(),a=l(),n=m();return u({queryKey:["news-articles"],operation:"batch",isPaginated:!0,allowEmptyPages:!1,getItemId:e=>{if(e instanceof w){if(typeof e.id!="string"&&typeof e.id!="number")throw new Error("NewsArticle ID must be string or number");return e.id}return`temp-${crypto.randomUUID()}`},getBatchData:e=>({type:"remove",ids:e}),mutationFn:async e=>{a.start();try{for(let t=0;t<e.length;t++)(await o({url:`/news-articles/${e[t]}`,method:"delete"})).success;return e}finally{a.finish()}},mutationOptions:{onSuccess:()=>{n.success(s("success"))},onError:e=>{n.error(s("anErrorOccurred"))},...r}})},T=r=>{const{request:o}=c(),{t:s}=d(),a=l(),n=m();return u({queryKey:["news-articles"],operation:"batch",isPaginated:!0,getItemId:e=>{if(e instanceof w){if(typeof e.id!="string"&&typeof e.id!="number")throw new Error("NewsArticle ID must be string or number");return e.id}return`temp-${crypto.randomUUID()}`},getBatchData:e=>({type:"update",items:e.selectedItems.map(t=>({id:t,...e.data}))}),mutationFn:async e=>{a.start();try{for(let t=0;t<e.selectedItems.length;t++)await o({url:`/news-articles/${e.selectedItems[t]}`,method:"put",data:e.data});return e}finally{a.finish()}},mutationOptions:{onSuccess:()=>{n.success(s("success"))},onError:e=>{n.error(s("anErrorOccurred"))},...r}})},K=()=>{const{request:r}=c();return g(async o=>{const s=await r({url:`/news-articles/search/${o}`});return s.failure&&s.error?[]:s.result.data})},M=()=>{const{request:r}=c();return g(async o=>{const s=await r({url:"/news-articles/list",method:"post",data:o});return s.failure&&s.error?[]:s.result.data})};export{y as N,K as a,L as b,H as c,C as d,T as e,R as f,M as u};
