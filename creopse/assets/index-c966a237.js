import{_ as Zt}from"./PageLayout.vue_vue_type_script_setup_true_lang-e9893029.js";import{p as Xe,v as Ae,f as Jt,a as ea}from"./vue_runtime-dom-c0cb2070.js";import{u as Qe,i as rt,f as qt,_ as ta,e as ut,r as Ye,c as aa,j as Rt,R as la}from"./index-55665812.js";import{_ as kt}from"./I18nInput-4dda77ea.js";import{_ as ct,a as Et,b as sa}from"./index.vue_vue_type_script_setup_true_lang-6864bd92.js";import{I as G}from"./iconify_vue-6750bec6.js";import{R as Ke}from"./response-error-code-87d1097e.js";import{M as na}from"./vue-pick-colors-f58bc48b.js";import{a as wt,d as oa}from"./pinia-5dd13ed8.js";import{_ as _e}from"./lodash-8d91e508.js";import{a as dt,b as pt,c as mt,E as Ee,N as S,_ as H,Z as Se,g as xt,V as ra,L as $t,$ as ia,a0 as ua,a1 as It,a2 as ca,F as ft,a3 as da,H as Pt,I as Lt,e as pa,k as At,G as vt,a4 as _t,W as Nt,a5 as Ht,a6 as ma,a7 as Ct,j as Ft,M as fa,a8 as va,a9 as _a,P as ga,O as ha,aa as ba,R as ya,h as wa,n as ka,o as xa}from"./naive-ui-f034a0d9.js";import{d as je,i as Ot,p as Pe,as as $a,o as M,c as oe,Y as t,aO as a,P as ce,l as U,Q as xe,a as L,F as Ie,ar as it,h as u,w as zt,v as Ce,b as Ia}from"./vue_runtime-core-4f5fb440.js";import{u as Ge}from"./vue-i18n-84a05dd5.js";import{r as i,u as e,c as ne}from"./vue_reactivity-852d8377.js";import{t as w,a as Oe,n as St}from"./vue_shared-7dcc3b7f.js";import{_ as Aa}from"./validator-c9e97e8e.js";import{s as Ca}from"./slugify-4c8e4bf3.js";import{v as Vt}from"./uuid-cf522c50.js";import{_ as Yt}from"./fawmi_vue-google-maps-f303fdec.js";import{a as za}from"./vue-router-e670704e.js";import"./browser-image-compression-a3ab6596.js";import"./moment-ea709ccd.js";import"./vueuse_core-e3c6c607.js";import"./vueuse_shared-d1f69174.js";import"./parse-domain-15b982e1.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./unhead_vue-71da354f.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./axios-8734fada.js";import"./process-199d9cab.js";import"./ckeditor_ckeditor5-vue-a01957a7.js";import"./vue-cb9e9a9a.js";import"./strip-json-comments-680ed425.js";import"./vue-draggable-next-d31a77b2.js";import"./pinia_colada-25af8b56.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-40ca5c5d.js";import"./vue3-map-chart-612bd6db.js";import"./crypto-js-a0189596.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-b49649f7.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-b91bc731.js";import"./vooks-3c892a1c.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./lodash-es-a215867d.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-d80203ee.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./googlemaps_markerclusterer-7ef0bcf9.js";import"./fast-deep-equal-d48ae8fc.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./vue-demi-71ba0ef2.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";import"./index.vue_vue_type_style_index_0_lang-3b2bf0bf.js";import"./media-library-e7aafc09.js";import"./vue-advanced-cropper-7a0dcf27.js";import"./ckeditor_ckeditor5-core-c8d003a2.js";import"./ckeditor_ckeditor5-utils-df07b536.js";import"./ckeditor_ckeditor5-engine-af85ebf5.js";import"./ckeditor_ckeditor5-ui-b7ac7aa2.js";import"./color-parse-77f70e79.js";import"./color-name-a53219e1.js";import"./color-convert-eee2eef5.js";import"./vanilla-colorful-3f59310b.js";import"./ckeditor_ckeditor5-alignment-77977f7a.js";import"./ckeditor_ckeditor5-autoformat-9f2dc9af.js";import"./ckeditor_ckeditor5-typing-70b03be4.js";import"./ckeditor_ckeditor5-basic-styles-07cd86fd.js";import"./ckeditor_ckeditor5-block-quote-41671324.js";import"./ckeditor_ckeditor5-enter-27538ad0.js";import"./ckeditor_ckeditor5-build-classic-a5a6feb5.js";import"./ckeditor_ckeditor5-code-block-eb1be514.js";import"./ckeditor_ckeditor5-editor-classic-a6d9416b.js";import"./ckeditor_ckeditor5-watchdog-33524ea7.js";import"./ckeditor_ckeditor5-essentials-567df3ec.js";import"./ckeditor_ckeditor5-clipboard-a9aafe73.js";import"./ckeditor_ckeditor5-widget-96b25423.js";import"./ckeditor_ckeditor5-select-all-4444724d.js";import"./ckeditor_ckeditor5-undo-8305cb32.js";import"./ckeditor_ckeditor5-find-and-replace-cb7562b5.js";import"./ckeditor_ckeditor5-font-48376aeb.js";import"./ckeditor_ckeditor5-heading-21a04d34.js";import"./ckeditor_ckeditor5-paragraph-94bb8d98.js";import"./ckeditor_ckeditor5-horizontal-line-83eea941.js";import"./ckeditor_ckeditor5-image-a3581c34.js";import"./ckeditor_ckeditor5-upload-bbe26b68.js";import"./ckeditor_ckeditor5-indent-d8640579.js";import"./ckeditor_ckeditor5-link-4485715b.js";import"./ckeditor_ckeditor5-list-5d66e4ae.js";import"./ckeditor_ckeditor5-media-embed-695b638e.js";import"./ckeditor_ckeditor5-remove-format-730478ce.js";import"./ckeditor_ckeditor5-source-editing-780a0683.js";import"./ckeditor_ckeditor5-special-characters-66245f76.js";import"./ckeditor_ckeditor5-table-5906711f.js";import"./popperjs_core-f3391c26.js";const Sa={class:"flex items-center"},Ma={class:"flex flex-col"},Da={class:"text-sm font-bold"},Ta={class:"text-xs font-normal"},Ua={class:"text-xs my-1"},Ra={class:"flex items-center"},Va={class:"flex flex-col"},qa={class:"text-sm font-bold"},Ea={class:"text-xs font-normal"},Pa={key:0,class:"mt-4"},La={class:"flex items-center"},Na="categories",Ha=je({__name:"index",setup(Z){const y=dt(),$=pt(),pe=mt(),{tr:W,fileUrl:F,pickByTheme:O,displayFormErrors:_}=Qe(),{request:f}=ut(),{t:c}=Ge(),{categories:R}=wt(rt()),{loadCategories:re}=rt(),{isLightTheme:P}=wt(qt()),ge=Ot("appConfig"),l=i([]),me=i(!1),z=i(""),N=i(),D=Pe(()=>{if(!z.value)return l.value;const h=l.value.filter(r=>{var x,B;return r.name.toLowerCase().includes(z.value.toLowerCase())||((x=r.description)==null?void 0:x.toLowerCase().includes(z.value.toLowerCase()))||((B=r.children)==null?void 0:B.some(A=>{var I;return A.name.toLowerCase().includes(z.value.toLowerCase())||((I=A.description)==null?void 0:I.toLowerCase().includes(z.value.toLowerCase()))}))});return N.value&&N.value.focus(),h}),V=async()=>{y.start(),me.value=!0,await re(),l.value=R.value.filter(h=>!h.parentId);for(let h=0;h<l.value.length;h++)l.value[h].children=R.value.filter(r=>r.parentId===l.value[h].id);me.value=!1,y.finish()};V();const E=i(12),b=i(1),Y=h=>{E.value=h},j=i(null),he=i(!1),o=i(!1),q=i(null),le=i(null),g=i({name:"",description:"",isActive:!0,position:0,image:"",color:""}),ie={name:[{required:!0,message:c("fillRequired")}]},J=(h,r=null)=>{q.value=_e.cloneDeep(h),h?g.value=_e.cloneDeep(h):g.value={name:"",description:"",isActive:!0,position:0,image:"",color:""},j.value=r,o.value=!0},ee=async h=>{pe.warning({title:c("confirm"),content:h.parentId?c("confirmDeleteSubCategory"):c("confirmDeleteCategory"),positiveText:c("yes"),negativeText:c("no"),onPositiveClick:async()=>{(await f({method:"delete",url:`/news-categories/${h.id}`})).success?($.success(c("success")),V()):$.error(c("anErrorOccurred"))}})},be=async()=>{var h;return(h=le.value)==null||h.validate(async r=>{var x,B,A,I,fe,T;if(!r)if(q.value)if(q.value.name!==g.value.name&&R.value.findIndex($e=>$e.name==g.value.name)>-1)$.error(c("sameCategoryNameMessage"));else{y.start(),he.value=!0;const $e={name:g.value.name,description:g.value.description,isActive:g.value.isActive,position:g.value.position,image:g.value.image,color:g.value.color,parentId:j.value},Q=await f({method:"put",url:`/news-categories/${q.value.id}`,data:$e});Q.success&&Q.result.data&&($.success(c("success")),V()),he.value=!1,y.finish(),o.value=!1}else if(R.value.findIndex($e=>$e.name==g.value.name)>-1)$.error(c("sameCategoryNameMessage"));else{y.start(),he.value=!0;const $e={name:g.value.name,description:g.value.description,isActive:g.value.isActive,position:g.value.position,image:g.value.image,color:g.value.color,parentId:j.value},Q=await f({method:"post",url:"/news-categories",data:$e});if(Q.failure&&Q.error)switch((A=(B=(x=Q.error)==null?void 0:x.response)==null?void 0:B.data)==null?void 0:A.errorCode){case Ke.FORM_INVALID_DATA:_((T=(fe=(I=Q.error)==null?void 0:I.response)==null?void 0:fe.data)==null?void 0:T.data);break;default:$.error(c("anErrorOccurred"))}else $.success(c("success")),V();he.value=!1,y.finish(),o.value=!1}}),!1},K=async(h,r)=>{(await f({method:"put",url:"/news-categories/position",data:{items:r}})).success&&V()},d=i(!1),k=async h=>{g.value.image=h,d.value=!1},X=()=>{g.value.image=""};return(h,r)=>{var st;const x=G,B=xt,A=ct,I=ra,fe=$t,T=$a("Draggable"),$e=ia,Q=ua,Ze=It,Le=ca,Je=ta,m=Et,We=kt,et=ft,gt=da,Ne=Pt,tt=Lt,ht=pa,at=At,lt=vt,bt=_t;return M(),oe(Ie,null,[t(A,{to:"#add-category-action"},{default:a(()=>[t(B,{align:"center"},{default:a(()=>[t(e(Ee),{ref_key:"searchInputRef",ref:N,value:e(z),"onUpdate:value":r[0]||(r[0]=v=>ne(z)?z.value=v:null),clearable:!0,placeholder:e(c)("search")},{suffix:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:search"})]),_:1})]),_:1},8,["value","placeholder"]),e(D).length?(M(),ce(e(H),{key:0,type:"primary",onClick:r[1]||(r[1]=v=>J(null))},{icon:a(()=>[t(e(S),{size:"18"},{default:a(()=>[t(x,{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[U(" "+w(e(c)("addCategory")),1)]),_:1})):xe("",!0)]),_:1})]),_:1}),t(Je,{appear:"",name:"slide-fade"},{default:a(()=>[L("section",null,[e(D)&&e(D).length?(M(),oe(Ie,{key:0},[t(T,{list:e(l),onChange:r[2]||(r[2]=v=>K(v,e(l)))},{default:a(()=>[(M(!0),oe(Ie,null,it(e(D).slice((e(b)-1)*e(E),e(b)*e(E)),v=>(M(),ce(fe,{key:v.id,embedded:"",size:"small",class:"mb-1"},{default:a(()=>{var nt;return[t(Q,{"default-expanded-names":(nt=v.children)!=null&&nt.length?["1"]:[],"display-directive":"show"},{"header-extra":a(({collapsed:Be})=>[t(B,{align:"center"},{default:a(()=>[t(e(Se),{size:"small",bordered:!1,type:v.isActive?"success":"error"},{default:a(()=>[U(w(v.isActive?e(c)("visible"):e(c)("hidden")),1)]),_:2},1032,["type"]),t(I,{vertical:"",class:Oe(["!mx-0",e(O)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),t(e(H),{size:"small",type:"primary",secondary:e(P),onClick:Xe(se=>J(v),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["secondary","onClick"]),t(e(H),{size:"small",type:"error",secondary:e(P),onClick:Xe(se=>ee(v),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["secondary","onClick"]),t(e(H),{size:"small",type:"info",secondary:e(P),onClick:Xe(se=>J(null,v.id),["stop"])},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:category"})]),_:1})]),default:a(()=>[U(" "+w(e(c)("subCategory"))+" ",1),t(e(Se),{size:"small",bordered:!1,type:"primary",class:"ml-1"},{default:a(()=>{var se;return[U(w((se=v.children)==null?void 0:se.length),1)]}),_:2},1024)]),_:2},1032,["secondary","onClick"])]),_:2},1024),r[16]||(r[16]=L("div",{class:"w-6"},null,-1)),t(e(S),null,{default:a(()=>[Be?(M(),ce(x,{key:0,icon:"fa-solid:chevron-left"})):(M(),ce(x,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),arrow:a(()=>r[17]||(r[17]=[L("span",null,null,-1)])),default:a(()=>[t($e,{name:"1"},{header:a(()=>[L("div",Sa,[t(e(S),{size:"21",class:"cursor-move mr-4"},{default:a(()=>[t(x,{icon:"fa-solid:grip-lines"})]),_:1}),t(I,{vertical:"",class:Oe(e(O)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),L("div",Ma,[L("span",Da,w(e(W)(v.name))+" ("+w(v.articlesCount)+" "+w(e(c)("article_s"))+") ",1),L("small",Ta,w(v.slug),1)])])]),default:a(()=>{var Be;return[v.description?(M(),oe(Ie,{key:0},[t(I,{class:Oe([e(O)("!bg-zinc-300","!bg-slate-500"),"!my-0 !h-0.5"])},null,8,["class"]),L("div",Ua,w(e(W)(v.description)),1)],64)):xe("",!0),(Be=v.children)!=null&&Be.length?(M(),oe(Ie,{key:1},[t(I,{class:Oe([e(O)("!bg-zinc-300","!bg-slate-500"),"!mt-0 !mb-2 !h-0.5"])},null,8,["class"]),t(T,{list:v.children,onChange:se=>K(se,v.children||[])},{default:a(()=>[(M(!0),oe(Ie,null,it(v.children,se=>(M(),ce(fe,{key:se.id,size:"small",class:"mb-1"},{header:a(()=>[L("div",Ra,[t(e(S),{size:"21",class:"cursor-move mr-4"},{default:a(()=>[t(x,{icon:"fa-solid:grip-lines"})]),_:1}),t(I,{vertical:"",class:Oe(e(O)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),L("div",Va,[L("span",qa,w(e(W)(se.name)),1),L("small",Ea,w(se.slug),1)])])]),"header-extra":a(()=>[t(B,{align:"center"},{default:a(()=>[t(e(Se),{size:"small",bordered:!1,type:se.isActive?"success":"error"},{default:a(()=>[U(w(se.isActive?e(c)("visible"):e(c)("hidden")),1)]),_:2},1032,["type"]),t(I,{vertical:"",class:Oe(["!mx-0",e(O)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),t(e(H),{size:"small",type:"primary",secondary:e(P),onClick:Xe(de=>J(se,v.id),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["secondary","onClick"]),t(e(H),{size:"small",type:"error",secondary:e(P),onClick:Xe(de=>ee(se),["stop"])},{default:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["secondary","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["list","onChange"])],64)):xe("",!0)]}),_:2},1024)]),_:2},1032,["default-expanded-names"])]}),_:2},1024))),128))]),_:1},8,["list"]),t(Ze,{page:e(b),"onUpdate:page":r[3]||(r[3]=v=>ne(b)?b.value=v:null),class:"mt-5 justify-end","show-size-picker":"","page-size":e(E),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(e(l).length/e(E)),"onUpdate:pageSize":Y},{prefix:a(()=>[U(w(`${e(l).length} ${e(c)("categorie_s")}`),1)]),_:1},8,["page","page-size","page-count"])],64)):(M(),ce(fe,{key:1,size:"large",class:Oe(`mb-2 !border-dashed !border-2 ${e(O)("!border-zinc-300","!border-zinc-600")}`)},{default:a(()=>[t(Le,{description:e(c)("noCategoryAvailable")},{icon:a(()=>[t(e(S),null,{default:a(()=>[e(z)?(M(),ce(x,{key:0,icon:"carbon:search"})):(M(),ce(x,{key:1,icon:"carbon:categories"}))]),_:1})]),extra:a(()=>[e(z)?xe("",!0):(M(),oe("div",Pa,[t(e(H),{size:"small",onClick:r[4]||(r[4]=v=>J(null))},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[U(" "+w(e(c)("addCategory")),1)]),_:1})]))]),_:1},8,["description"])]),_:1},8,["class"]))])]),_:1}),t(m,{show:e(d),"onUpdate:show":r[5]||(r[5]=v=>ne(d)?d.value=v:null),title:e(c)("selectImage"),"upload-config":{folder:Na,limit:0,maxSize:0,baseUrl:((st=e(ge))==null?void 0:st.apiUrl)+"/media-files/upload",excludedExtensions:[]},onSubmit:k},null,8,["show","title","upload-config"]),t(bt,{show:e(o),"onUpdate:show":r[14]||(r[14]=v=>ne(o)?o.value=v:null),loading:e(he),preset:"dialog",style:{width:"500px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:e(q)?e(j)?e(c)("editSubCategory"):e(c)("editCategory"):e(j)?e(c)("addSubCategory"):e(c)("addCategory"),"positive-text":e(c)("validate"),"negative-text":e(c)("cancel"),onPositiveClick:be,onNegativeClick:r[15]||(r[15]=v=>o.value=!1)},{default:a(()=>[t(lt,{ref_key:"formRef",ref:le,class:"mt-5",model:e(g),rules:ie,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(et,{label:e(c)("name"),path:"name"},{default:a(()=>[t(We,{modelValue:e(g).name,"onUpdate:modelValue":r[6]||(r[6]=v=>e(g).name=v),placeholder:e(c)("name"),"selector-span":5,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(et,{label:e(c)("description"),path:"description"},{default:a(()=>[t(We,{modelValue:e(g).description,"onUpdate:modelValue":r[7]||(r[7]=v=>e(g).description=v),placeholder:e(c)("description"),"selector-span":5,type:"textarea",class:"w-full",rows:3,sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(tt,{"x-gap":"12",span:24},{default:a(()=>[t(Ne,{span:12,label:e(c)("position"),path:"position"},{default:a(()=>[t(gt,{value:e(g).position,"onUpdate:value":r[8]||(r[8]=v=>e(g).position=v),placeholder:e(c)("position"),class:"w-full",min:0},null,8,["value","placeholder"])]),_:1},8,["label"]),t(Ne,{span:12,label:e(c)("color"),path:"color"},{default:a(()=>[L("div",La,[e(g).color?(M(),oe(Ie,{key:0},[t(e(H),{text:"",type:"error",style:{"font-size":"21px"},onClick:r[9]||(r[9]=v=>e(g).color="")},{default:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:trash-can"})]),_:1})]),_:1}),t(I,{vertical:""})],64)):xe("",!0),t(e(na),{value:e(g).color,"onUpdate:value":r[10]||(r[10]=v=>e(g).color=v),class:"cursor-pointer",theme:e(P)?"light":"dark","z-index":5e3,format:"hex",size:"25"},null,8,["value","theme"])])]),_:1},8,["label"])]),_:1}),t(I,{dashed:"",class:"!my-2"}),t(tt,{"x-gap":"12",span:24},{default:a(()=>[t(Ne,{span:12,label:e(c)("preview"),path:"image"},{default:a(()=>[t(B,{align:"center",justify:"center",style:{height:"100%"}},{default:a(()=>[t(ht,{class:"cursor-pointer","object-fit":"cover",style:St("border: 1px dashed "+e(O)("green","white")),size:150,src:e(F)(e(g).image||""),onClick:r[11]||(r[11]=v=>d.value=!0)},{default:a(()=>[e(g).image?xe("",!0):(M(),ce(e(S),{key:0,size:64},{default:a(()=>[t(x,{icon:"carbon:image",class:"text-gray-400"})]),_:1}))]),_:1},8,["style","src"]),e(g).image?(M(),ce(e(H),{key:0,quaternary:"",onClick:r[12]||(r[12]=v=>X())},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(x,{icon:"carbon:trash-can"})]),_:1})]),default:a(()=>[U(" "+w(e(c)("clear")),1)]),_:1})):xe("",!0)]),_:1})]),_:1},8,["label"]),t(Ne,{span:12,label:e(c)("status"),path:"isActive"},{default:a(()=>[t(at,{value:e(g).isActive,"onUpdate:value":r[13]||(r[13]=v=>e(g).isActive=v),size:"small"},{checked:a(()=>[U(w(e(c)("visible")),1)]),unchecked:a(()=>[U(w(e(c)("hidden")),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),Fa=je({__name:"index",setup(Z){const y=dt(),$=pt(),pe=mt(),{displayFormErrors:W,mergeArrays:F,tr:O}=Qe(),{request:_}=ut(),{t:f,locale:c}=Ge(),R=i(""),re=i(),P=i([]),ge=i(!1),l=Pe(()=>[{title:f("content"),key:"content",resizable:!0,width:300,fixed:"left",sortOrder:!1,sorter:"default",render(d){return u(Nt,{class:"text-xs",lineClamp:1,expandTrigger:"click",tooltip:!1},{default:()=>d.content})}},{title:f("name"),key:"name",resizable:!0,width:150,ellipsis:{tooltip:!0}},{title:f("article"),key:"article",resizable:!0,width:250,ellipsis:{tooltip:!0},render(d){return u("div",{},{default:()=>{var k;return O((k=d.article)==null?void 0:k.title)}})},sortOrder:!1,sorter:"default"},{title:f("email"),key:"email",resizable:!0,width:150,ellipsis:{tooltip:!0}},{title:f("status"),key:"isActive",width:100,render(d){return u(Se,{type:d.isActive?"success":"error",bordered:!1},{default:()=>d.isActive?f("published"):f("unpublished")})},sortOrder:!1,sorter:"default"},{title:f("lastEdition"),key:"updatedAt",width:125,render(d){return u("div",{},{default:()=>Ye(d.updatedAt,{locale:c.value})})}},{title:f("creation"),key:"createdAt",width:125,render(d){return u("div",{},{default:()=>Ye(d.createdAt,{locale:c.value})})}},{title:()=>u(Ht,{},{default:()=>[u(Ee,{ref:re,placeholder:f("search"),value:R.value,onInput:d=>{R.value=d,R.value||E(`/news-comments?pageSize=${z.value}&page=${N.value}&query=${R.value}`)},clearable:!0}),u(H,{onClick:()=>{E(`/news-comments?pageSize=${z.value}&page=${N.value}&query=${R.value}`)}},{default:()=>u(S,{color:"white"},{default:()=>u(G,{icon:"carbon:search"})})})]}),key:"actions",width:200,render(d){return u("div",{class:"flex justify-end items-center w-full"},[u(ma,{value:d.isActive?1:0,"onUpdate:value":async k=>{var h,r,x,B,A,I;y.start(),b.value=!0;const X=await _({url:`/news-comments/${d.id}`,method:"put",data:{isActive:k}});if(X.failure&&X.error)switch((x=(r=(h=X.error)==null?void 0:h.response)==null?void 0:r.data)==null?void 0:x.errorCode){case Ke.FORM_INVALID_DATA:W((I=(A=(B=X.error)==null?void 0:B.response)==null?void 0:A.data)==null?void 0:I.data);break;default:$.error(f("anErrorOccurred"))}else $.success(f("success")),E(`/news-comments?pageSize=${z.value}&page=${N.value}&query=${R.value}`);b.value=!1,y.finish()},trigger:"click",placement:"left",options:[{label:f("published"),value:1},{label:f("unpublished"),value:0}]},{default:()=>[u(H,{size:"small",type:"warning",renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:certificate-check"})})},{default:()=>f("status")})]}),u("div",{class:"w-2"}),u(H,{size:"small",type:"error",onClick:()=>{pe.warning({title:f("confirm"),content:f("confirmDeleteComment"),positiveText:f("yes"),negativeText:f("no"),onPositiveClick:async()=>{y.start(),(await _({url:`/news-comments/${d.id}`,method:"delete"})).success?$.success(f("success")):$.error(f("anErrorOccurred")),y.finish(),E(`/news-comments?pageSize=${z.value}&page=${N.value}&query=${R.value}`)}})},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:trash-can"})})})])},fixed:"right"}]),me=i(0),z=i(10),N=i(1),D=d=>{E(`/news-comments?pageSize=${z.value}&page=${d}&query=${R.value}`)},V=d=>{z.value=d,E(`/news-comments?pageSize=${z.value}&query=${R.value}`)},E=async(d=null,k=!1)=>{var h,r,x,B,A;ge.value=!0,y.start();const X=await _({url:d||`/news-comments?pageSize=${z.value}&query=${R.value}`});X.success&&X.result&&(me.value=((r=(h=X.result.data)==null?void 0:h.meta)==null?void 0:r.total)||0,N.value=((B=(x=X.result.data)==null?void 0:x.meta)==null?void 0:B.currentPage)||1,P.value=((A=X.result.data)==null?void 0:A.comments)||[]),y.finish(),ge.value=!1};E(null,!0);const b=i(!1),Y=i(!1),j=i(null),he=i(null),o=i({name:"",email:"",content:"",isActive:!0,articleId:void 0}),q={name:[{required:!0,message:f("fillRequired")}],email:[{required:!0,message:f("fillRequired")},{trigger:["input"],validator(d,k){return k&&!Aa.isEmail(k)?new Error(f("invalidEmail")):!0}}],content:[{required:!0,message:f("fillRequired")}],articleId:[{required:!0,message:f("fillRequired")}]},le=d=>{j.value=_e.cloneDeep(d),d?o.value=_e.cloneDeep(d):o.value={name:"",email:"",content:"",isActive:!0,articleId:void 0},Y.value=!0},g=async()=>{var d;return(d=he.value)==null||d.validate(async k=>{var X,h,r,x,B,A;if(!k)if(j.value)y.start(),b.value=!0,(await _({url:`/news-comments/${j.value.id}`,method:"put",data:{name:o.value.name,email:o.value.email,content:o.value.content,isActive:o.value.isActive,articleId:o.value.articleId}})).success?$.success(f("success")):$.error(f("anErrorOccurred")),b.value=!1,y.finish(),E(`/news-comments?pageSize=${z.value}&page=${N.value}&query=${R.value}`),Y.value=!1;else{y.start(),b.value=!0;const I=await _({url:"/news-comments",method:"post",data:{name:o.value.name,email:o.value.email,content:o.value.content,isActive:o.value.isActive,articleId:o.value.articleId}});if(I.failure&&I.error)switch((r=(h=(X=I.error)==null?void 0:X.response)==null?void 0:h.data)==null?void 0:r.errorCode){case Ke.FORM_INVALID_DATA:W((A=(B=(x=I.error)==null?void 0:x.response)==null?void 0:B.data)==null?void 0:A.data);break;default:$.error(f("anErrorOccurred"))}else $.success(f("success"));b.value=!1,y.finish(),E(`/news-comments?pageSize=${z.value}&page=${N.value}&query=${R.value}`),Y.value=!1}}),!1},ie=i(!1),J=i([]),ee=i([]),be=async d=>{if(!d.length){ee.value=[];return}ie.value=!0;const k=await _({url:`/news-articles/search/${d}`});k.success&&k.result&&(ee.value=k.result.data),ie.value=!1};zt(()=>o.value.articleId,async d=>{if(!d)return;ie.value=!0;const k=await _({url:"/news-articles/list",method:"post",data:{ids:[d]}});k.success&&k.result&&(J.value=k.result.data),ie.value=!1});const K=Pe(()=>F(J.value,ee.value,"id"));return(d,k)=>{const X=ct,h=Ct,r=It,x=ft,B=Ft,A=At,I=vt,fe=_t;return M(),oe(Ie,null,[t(X,{to:"#add-comment-action"},{default:a(()=>[Ce(t(e(H),{type:"primary",onClick:k[0]||(k[0]=T=>le(null))},{icon:a(()=>[t(e(S),{size:"18"},{default:a(()=>[t(e(G),{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[U(" "+w(e(f)("addComment")),1)]),_:1},512),[[Ae,!1]])]),_:1}),t(h,{"pagination-behavior-on-filter":"first",columns:e(l),data:e(P),loading:e(ge),"single-line":!1,"scroll-x":1500,striped:""},null,8,["columns","data","loading"]),t(r,{page:e(N),"onUpdate:page":[k[1]||(k[1]=T=>ne(N)?N.value=T:null),D],class:"mt-5 justify-end","show-size-picker":"","page-size":e(z),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(e(me)/e(z)),"onUpdate:pageSize":V},null,8,["page","page-size","page-count"]),t(fe,{show:e(Y),"onUpdate:show":k[7]||(k[7]=T=>ne(Y)?Y.value=T:null),loading:e(b),preset:"dialog",style:{width:"500px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:e(j)?e(f)("editComment"):e(f)("addComment"),"positive-text":e(f)("validate"),"negative-text":e(f)("cancel"),onPositiveClick:g,onNegativeClick:k[8]||(k[8]=T=>Y.value=!1)},{default:a(()=>[t(I,{ref_key:"formRef",ref:he,class:"mt-5",model:e(o),rules:q,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(x,{label:e(f)("name"),path:"name"},{default:a(()=>[t(e(Ee),{value:e(o).name,"onUpdate:value":k[2]||(k[2]=T=>e(o).name=T),placeholder:e(f)("name"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(x,{label:e(f)("email"),path:"email"},{default:a(()=>[t(e(Ee),{value:e(o).email,"onUpdate:value":k[3]||(k[3]=T=>e(o).email=T),placeholder:e(f)("email"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(x,{label:e(f)("article"),path:"article"},{default:a(()=>[t(B,{value:e(o).articleId,"onUpdate:value":k[4]||(k[4]=T=>e(o).articleId=T),options:e(K),placeholder:e(f)("article"),loading:e(ie),filterable:"",clearable:"",remote:"","value-field":"id","label-field":"fullname",class:"w-full",onSearch:be},null,8,["value","options","placeholder","loading"])]),_:1},8,["label"]),t(x,{label:e(f)("content"),path:"content"},{default:a(()=>[t(e(Ee),{value:e(o).content,"onUpdate:value":k[5]||(k[5]=T=>e(o).content=T),placeholder:e(f)("content"),type:"textarea",class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(x,{label:e(f)("status"),path:"isActive"},{default:a(()=>[t(A,{value:e(o).isActive,"onUpdate:value":k[6]||(k[6]=T=>e(o).isActive=T),size:"small"},{checked:a(()=>[U(w(e(f)("published")),1)]),unchecked:a(()=>[U(w(e(f)("unpublished")),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}});var ae=(Z=>(Z[Z.DRAFT=1]="DRAFT",Z[Z.PENDING=2]="PENDING",Z[Z.PUBLISHED=3]="PUBLISHED",Z[Z.TRASH=4]="TRASH",Z))(ae||{});const Oa=()=>{const{t:Z}=Ge(),y=[{label:Z("draft"),value:ae.DRAFT,tagType:"default"},{label:Z("pending"),value:ae.PENDING,tagType:"info"},{label:Z("published"),value:ae.PUBLISHED,tagType:"success"},{label:Z("trash"),value:ae.TRASH,tagType:"error"}];return{getNewsArticleStatusTagType:W=>{var F;return((F=y.find(O=>O.value===W))==null?void 0:F.tagType)||"default"},getNewsArticleStatusLabel:W=>{var F;return(F=y.find(O=>O.value===W))==null?void 0:F.label},newsArticleStatus:y}},Ya={key:0,class:"flex items-center gap-3"},Ka={key:1,class:"flex items-center gap-3"},Ba={class:"flex justify-end"},ja={key:0},Ga={key:0},Wa={key:0},Xa={class:"flex justify-center"},Qa={class:"text-base"},Za={class:"px-10 mt-20"},Ja={class:"w-full text-center"},el="articles",tl=je({__name:"index",setup(Z){var Mt,Dt;const y=dt(),$=pt(),pe=mt(),{displayFormErrors:W,tr:F,pickByTheme:O,fileUrl:_}=Qe(),{newsArticleStatus:f}=Oa(),{request:c}=ut(),{tags:R,orderedCategories:re}=wt(rt()),{loadCategories:P,loadTags:ge}=rt(),{t:l,locale:me}=Ge(),z=aa(),N=Ot("appConfig"),D=i([]),V=i([]),E=i([]),b=i(0),Y=n=>{let s=`${n}&query=${j.value}&status=${b.value}`;for(const C of D.value)s+=`&categories[]=${C}`;for(const C of V.value)s+=`&tags[]=${C}`;for(const C of E.value)s+=`&months[]=${C}`;return s},j=i(""),he=i(),o=i([]),q=i([]),le=i([]),g=i({}),ie=i(0),J=i(0),ee=i(!1),be=i(null),K=i(null),d=i(!1),k=Pe(()=>[{type:"selection"},{title:l("title"),key:"title",resizable:!0,width:250,fixed:"left",ellipsis:{tooltip:!0},render(n){return u("div",{},{default:()=>F(n.title)})}},{title:l("summary"),key:"summary",resizable:!0,width:200,render(n){return u(Nt,{class:"text-xs",lineClamp:1,expandTrigger:"click",tooltip:!1},{default:()=>F(n.summary)})}},{title:l("categories"),key:"categories",width:150,render(n){return u("div",{},{default:()=>{var s;return(s=n.categories)==null?void 0:s.map(C=>C.name).map(C=>u(Se,{type:"info",size:"small",class:"mr-1 mb-1"},{default:()=>F(C)}))}})}},{title:l("tags"),key:"tags",width:150,render(n){return u("div",{},{default:()=>{var s;return(s=n.tags)==null?void 0:s.map(C=>C.name).map(C=>u(Se,{type:"primary",size:"small",class:"mr-1 mb-1"},{default:()=>F(C)}))}})}},{title:l("headline"),key:"isHeadline",resizable:!0,width:150,ellipsis:{tooltip:!0},render(n){return u(Se,{type:n.isHeadline?"success":"error",bordered:!1},{default:()=>n.isHeadline?l("yes"):l("no")})}},{title:l("author"),key:"author",resizable:!0,width:150,ellipsis:{tooltip:!0},render(n){return u("div",{},{default:()=>{var s,C;return((s=n.author)==null?void 0:s.firstname)+" "+((C=n.author)==null?void 0:C.lastname)}})}},{title:l("lastEdition"),key:"updatedAt",width:125,render(n){return u("div",{},{default:()=>Ye(n.updatedAt,{locale:me.value})})}},{title:l("creation"),key:"createdAt",width:125,render(n){return u("div",{},{default:()=>Ye(n.createdAt,{locale:me.value})})}},{title:()=>u(Ht,{},{default:()=>[u(Ee,{ref:he,placeholder:l("search"),value:j.value,onInput:n=>{j.value=n,j.value||A(Y(`/news-articles?pageSize=${h.value}&page=${r.value}`))},clearable:!0}),u(H,{onClick:()=>{A(Y(`/news-articles?pageSize=${h.value}&page=${r.value}`))}},{default:()=>u(S,{color:"white"},{default:()=>u(G,{icon:"carbon:search"})})})]}),key:"actions",width:225,render(n){return u("div",{class:"flex justify-end items-center w-full"},[u(H,{size:"small",type:"warning",onClick:()=>{Ne(n)},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:edit"})})},{default:()=>l("edit")}),u("div",{class:"w-2"}),u(H,{size:"small",type:"info",onClick:()=>{be.value=n,K.value=n.status,ee.value=!0},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"mdi:equal"})})},b.value==ae.TRASH?{}:{default:()=>l("status")}),u("div",{class:"w-2"}),b.value==ae.TRASH?u(H,{size:"small",type:"error",onClick:()=>{pe.warning({title:l("confirm"),content:l("confirmDeleteComment"),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{y.start(),(await c({url:`/news-articles/${n.id}`,method:"delete"})).success?$.success(l("success")):$.error(l("anErrorOccurred")),y.finish(),A(Y(`/news-articles?pageSize=${h.value}&page=${r.value}`))}})},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:trash-can"})})}):null])},fixed:"right"}]),X=i(0),h=i(10),r=i(1),x=n=>{A(Y(`/news-articles?pageSize=${h.value}&page=${n}`))},B=n=>{h.value=n,A(Y(`/news-articles?pageSize=${h.value}`))},A=async(n=null,s=!1)=>{var te,ye,ue,we,Me,He;d.value=!0,y.start();const C=await c({url:n||Y(`/news-articles?pageSize=${h.value}`)});if(C.success&&C.result&&(X.value=((ye=(te=C.result.data)==null?void 0:te.meta)==null?void 0:ye.total)||0,r.value=((we=(ue=C.result.data)==null?void 0:ue.meta)==null?void 0:we.currentPage)||1,o.value=((Me=C.result.data)==null?void 0:Me.articles)||[]),s){const De=await c({url:"/users/type/administrators"});De.success&&De.result&&(q.value=De.result.data||[]);const Te=await c({url:"/news-articles/list/months"});Te.success&&Te.result&&(le.value=(Te.result.data||[]).map(Fe=>({label:Fe,value:Fe})));const Ue=await c({url:"/count/news-articles"});Ue.success&&Ue.result&&(J.value=Ue.result.data);const Re=await c({url:`/count/news-articles/status/${ae.DRAFT}`});Re.success&&Re.result&&(g.value[ae.DRAFT]=Re.result.data);const Ve=await c({url:`/count/news-articles/status/${ae.PUBLISHED}`});Ve.success&&Ve.result&&(g.value[ae.PUBLISHED]=Ve.result.data);const ve=await c({url:`/count/news-articles/status/${ae.PENDING}`});ve.success&&ve.result&&(g.value[ae.PENDING]=ve.result.data);const qe=await c({url:`/count/news-articles/status/${ae.TRASH}`});qe.success&&qe.result&&(g.value[ae.TRASH]=qe.result.data);const ke=await c({url:`/count/news-articles/author/${(He=z.userData)==null?void 0:He.id}`});ke.success&&ke.result&&(ie.value=ke.result.data),await P(),await ge()}ot(),y.finish(),d.value=!1};A(null,!0);const I=i(!1),fe=i(!1),T=i([]),$e=i(T.value),Q=i([]),Ze=i(Q.value),Le=i(null),Je=i(null),m=i({authorId:(Mt=z.userData)==null?void 0:Mt.id,publisherId:(Dt=z.userData)==null?void 0:Dt.id,title:"",slug:"",summary:"",content:'{"fr":""}',featuredImage:"",featuredImageUrl:"",legend:"",allowComments:!0,isHeadline:!1,status:ae.DRAFT,publishedAt:Rt(new Date,{outPattern:"YYYY-MM-DD HH:mm:ss",locale:me.value})}),We=i(m.value),et={title:[{required:!0,message:l("fillRequired")}],slug:[{required:!0,message:l("fillRequired")}],content:[{required:!0,message:l("fillRequired")}],summary:[{required:!0,message:l("fillRequired")}],featuredImage:[{required:!0,message:l("fillRequired")}],authorId:[{required:!0,message:l("fillRequired")}],publisherId:[{required:!0,message:l("fillRequired")}]},gt=Pe(()=>_e.isEqual(T.value,$e.value)&&_e.isEqual(Q.value,Ze.value)&&_e.isEqual(m.value,We.value)),Ne=n=>{var s,C,te,ye;Le.value=_e.cloneDeep(n),n?(m.value=_e.cloneDeep(n),T.value=((s=n.tags)==null?void 0:s.map(ue=>ue.id))??[],Q.value=((C=n.categories)==null?void 0:C.map(ue=>ue.id))??[]):(m.value={authorId:(te=z.userData)==null?void 0:te.id,publisherId:(ye=z.userData)==null?void 0:ye.id,title:"",slug:"",summary:"",content:'{"fr":""}',featuredImage:"",featuredImageUrl:"",legend:"",allowComments:!0,isHeadline:!1,status:ae.DRAFT,publishedAt:Rt(new Date,{outPattern:"YYYY-MM-DD HH:mm:ss",locale:me.value})},T.value=[],Q.value=[]),$e.value=_e.cloneDeep(T.value),Ze.value=_e.cloneDeep(Q.value),We.value=_e.cloneDeep(m.value),fe.value=!0},tt=async()=>{var n;return(n=Je.value)==null||n.validate(async s=>{var C,te,ye,ue,we,Me,He,De,Te,Ue,Re,Ve;if(!s)if(Le.value){y.start(),I.value=!0;const ve=await c({url:`/news-articles/${Le.value.id}`,method:"put",data:{authorId:m.value.authorId,publisherId:m.value.publisherId,title:m.value.title,slug:m.value.slug,summary:m.value.summary,content:m.value.content,featuredImage:m.value.featuredImage,legend:m.value.legend,allowComments:m.value.allowComments,isHeadline:m.value.isHeadline,status:m.value.status,publishedAt:m.value.publishedAt,categories:Q.value,tags:T.value}});if(ve.failure&&ve.error)switch((ye=(te=(C=ve.error)==null?void 0:C.response)==null?void 0:te.data)==null?void 0:ye.errorCode){case Ke.FORM_INVALID_DATA:W((Me=(we=(ue=ve.error)==null?void 0:ue.response)==null?void 0:we.data)==null?void 0:Me.data);break;default:$.error(l("anErrorOccurred"))}else $.success(l("success"));I.value=!1,y.finish(),A(Y(`/news-articles?pageSize=${h.value}&page=${r.value}`)),fe.value=!1}else{y.start(),I.value=!0;const ve=await c({url:"/news-articles",method:"post",data:{authorId:m.value.authorId,publisherId:m.value.publisherId,title:m.value.title,slug:m.value.slug,summary:m.value.summary,content:m.value.content,featuredImage:m.value.featuredImage,legend:m.value.legend,allowComments:m.value.allowComments,isHeadline:m.value.isHeadline,status:m.value.status,publishedAt:m.value.publishedAt,categories:Q.value,tags:T.value}});if(ve.failure&&ve.error)switch((Te=(De=(He=ve.error)==null?void 0:He.response)==null?void 0:De.data)==null?void 0:Te.errorCode){case Ke.FORM_INVALID_DATA:W((Ve=(Re=(Ue=ve.error)==null?void 0:Ue.response)==null?void 0:Re.data)==null?void 0:Ve.data);break;default:$.error(l("anErrorOccurred"))}else $.success(l("success"));I.value=!1,y.finish(),A(Y(`/news-articles?pageSize=${h.value}&page=${r.value}`)),fe.value=!1}}),!1},ht=async()=>{var n,s,C,te,ye,ue;if(be.value){y.start(),I.value=!0;const we=await c({url:`/news-articles/${be.value.id}`,method:"put",data:{status:K.value}});if(we.failure&&we.error)switch((C=(s=(n=we.error)==null?void 0:n.response)==null?void 0:s.data)==null?void 0:C.errorCode){case Ke.FORM_INVALID_DATA:W((ue=(ye=(te=we.error)==null?void 0:te.response)==null?void 0:ye.data)==null?void 0:ue.data);break;default:$.error(l("anErrorOccurred"))}else $.success(l("success"));A(Y(`/news-articles?pageSize=${h.value}&page=${r.value}`),!0),I.value=!1,y.finish()}be.value=null,K.value=null,ee.value=!1},at=n=>[n.parentId?u(S,{style:{verticalAlign:"-0.15em",marginRight:"4px"}},{default:()=>u(G,{icon:"mdi:arrow-right"})}):null,`${F(n.name)}`],lt=n=>u("span",{},{default:()=>`${F(n.name)||n.name}`}),bt=n=>u("span",{},{default:()=>Ye(n.label,{inPattern:"YYYY-MM",outPattern:"MMMM YYYY",locale:me.value})}),st=n=>/^[a-z0-9_-]*$/.test(n);zt(()=>m.value.title,n=>{Le.value||(m.value.slug=Ca(F(n),{trim:!0,lower:!0,strict:!0}))});const v=i(!1),nt=async n=>{m.value.featuredImage=n,v.value=!1},Be=()=>{m.value.featuredImage=""},se=i(Vt()),de=i([]),Kt=n=>n.id,Bt=n=>{de.value=n};function ot(){de.value=[],se.value=Vt()}const jt=async()=>(de.value.length?pe.warning({title:l("confirm"),content:l("deleteSelectionWarningMessage",[de.value.length]),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{I.value=!0,y.start();for(let n=0;n<de.value.length;n++)(await c({url:`/news-articles/${de.value[n]}`,method:"delete"})).success;A(null,!0),y.finish(),I.value=!1,$.success(l("success")),ot()}}):$.warning(l("noItemSelected")),!1),Gt=async()=>(de.value.length?pe.warning({title:l("confirm"),content:l("editSelectionStatusWarningMessage",[de.value.length]),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{I.value=!0,y.start();for(let n=0;n<de.value.length;n++)(await c({url:`/news-articles/${de.value[n]}`,method:"put",data:{status:K.value}})).success;A(null,!0),y.finish(),I.value=!1,ee.value=!1,$.success(l("success")),ot()}}):$.warning(l("noItemSelected")),!1);return(n,s)=>{var Ut;const C=fa,te=Ft,ye=ct,ue=va,we=_a,Me=$t,He=Ct,De=It,Te=Et,Ue=ga,Re=_t,Ve=ha,ve=xt,qe=kt,ke=ft,Fe=Pt,yt=Lt,Wt=ba,Tt=ya,Xt=vt,Qt=sa;return M(),oe(Ie,null,[t(ye,{to:"#add-article-action"},{default:a(()=>[e(de).length?(M(),oe("section",Ya,[L("span",null,w(e(l)("nbItemsSelected",[e(de).length])),1),e(b)==e(ae).TRASH?(M(),ce(e(H),{key:0,type:"error",size:"small",onClick:jt},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:trash-can"})]),_:1})]),default:a(()=>[U(" "+w(e(l)("delete")),1)]),_:1})):xe("",!0),t(e(H),{type:"info",size:"small",onClick:s[0]||(s[0]=()=>{be.value=null,K.value=null,ee.value=!0})},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"mdi:equal"})]),_:1})]),default:a(()=>[U(" "+w(e(l)("editStatus")),1)]),_:1}),t(e(H),{type:"warning",size:"small",onClick:ot},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"mdi:close"})]),_:1})]),default:a(()=>[U(" "+w(e(l)("cancelSelection")),1)]),_:1})])):(M(),oe("section",Ka,[t(te,{value:e(E),"onUpdate:value":[s[2]||(s[2]=p=>ne(E)?E.value=p:null),s[3]||(s[3]=p=>A())],"render-label":bt,options:e(le),placeholder:e(l)("months"),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"label","value-field":"value",class:"!w-[200px]"},{action:a(()=>[t(C,{size:"large",class:"w-full","default-checked":e(le).length&&e(E).length===e(le).length,"onUpdate:checked":s[1]||(s[1]=p=>{p?E.value=e(le).map(ze=>ze.value):E.value=[],A()})},{default:a(()=>[U(w(e(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","options","placeholder"]),t(te,{value:e(V),"onUpdate:value":[s[5]||(s[5]=p=>ne(V)?V.value=p:null),s[6]||(s[6]=p=>A())],"render-label":lt,placeholder:e(l)("tags"),options:e(R),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"name","value-field":"id",class:"!w-[200px]"},{action:a(()=>[t(C,{size:"large",class:"w-full","default-checked":e(R).length&&e(V).length===e(R).length,"onUpdate:checked":s[4]||(s[4]=p=>{p?V.value=e(R).map(ze=>ze.id).filter(ze=>ze):V.value=[],A()})},{default:a(()=>[U(w(e(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","placeholder","options"]),t(te,{value:e(D),"onUpdate:value":[s[8]||(s[8]=p=>ne(D)?D.value=p:null),s[9]||(s[9]=p=>A())],"render-label":at,options:e(re),placeholder:e(l)("categories"),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"name","value-field":"id",class:"!w-[250px]"},{action:a(()=>[t(C,{size:"large",class:"w-full","default-checked":e(re).length&&e(D).length===e(re).length,"onUpdate:checked":s[7]||(s[7]=p=>{p?D.value=e(re).map(ze=>ze.id).filter(ze=>ze):D.value=[],A()})},{default:a(()=>[U(w(e(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","options","placeholder"]),t(e(H),{type:"primary",onClick:s[10]||(s[10]=p=>Ne(null))},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[U(" "+w(e(l)("addArticle")),1)]),_:1})]))]),_:1}),t(Me,{size:"small",class:"mb-5"},{default:a(()=>[L("div",Ba,[t(we,{value:e(b),"onUpdate:value":[s[11]||(s[11]=p=>ne(b)?b.value=p:null),s[12]||(s[12]=p=>A())],name:"filterstatusradiobuttongroup",size:"medium",disabled:!!e(de).length},{default:a(()=>[t(ue,{value:0},{default:a(()=>[U(w(e(l)("all"))+"  ",1),e(J)?(M(),oe("span",ja," ("+w(e(J))+") ",1)):xe("",!0)]),_:1}),t(ue,{value:10},{default:a(()=>[U(w(e(l)("myArticles"))+"  ",1),e(ie)?(M(),oe("span",Ga," ("+w(e(ie))+") ",1)):xe("",!0)]),_:1}),(M(!0),oe(Ie,null,it(e(f),p=>(M(),ce(ue,{key:p.value,value:p.value},{default:a(()=>[U(w(p.label)+"  ",1),e(g)[p.value]?(M(),oe("span",Wa," ("+w(e(g)[p.value])+") ",1)):xe("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])])]),_:1}),(M(),ce(He,{key:e(se),columns:e(k),data:e(o),loading:e(d),"single-line":!1,"scroll-x":1500,"row-key":Kt,"pagination-behavior-on-filter":"first",size:"small",striped:"","onUpdate:checkedRowKeys":Bt},null,8,["columns","data","loading","row-key"])),t(De,{page:e(r),"onUpdate:page":[s[13]||(s[13]=p=>ne(r)?r.value=p:null),x],class:"mt-5 justify-end","show-size-picker":"","page-size":e(h),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(e(X)/e(h)),"onUpdate:pageSize":B},null,8,["page","page-size","page-count"]),t(Te,{show:e(v),"onUpdate:show":s[14]||(s[14]=p=>ne(v)?v.value=p:null),title:e(l)("selectImage"),"upload-config":{folder:el,limit:0,maxSize:0,baseUrl:((Ut=e(N))==null?void 0:Ut.apiUrl)+"/media-files/upload",excludedExtensions:[]},onSubmit:nt},null,8,["show","title","upload-config"]),t(Re,{show:e(ee),"onUpdate:show":s[17]||(s[17]=p=>ne(ee)?ee.value=p:null),preset:"card",style:{width:"500px"},bordered:!1,"mask-closable":!1,"close-on-esc":!1,title:e(l)("editStatus")},{default:a(()=>[t(Ue,{show:e(I)},{default:a(()=>[L("div",Xa,[t(we,{value:e(K),"onUpdate:value":[s[15]||(s[15]=p=>ne(K)?K.value=p:null),s[16]||(s[16]=()=>{e(de).length?Gt():ht()})],name:"filterstatusradiobuttongroup",size:"large"},{default:a(()=>[(M(!0),oe(Ie,null,it(e(f),p=>(M(),ce(ue,{key:p.value,value:p.value,size:"large"},{default:a(()=>[U(w(p.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),_:1},8,["show"])]),_:1},8,["show","title"]),t(Qt,{modelValue:e(fe),"onUpdate:modelValue":s[33]||(s[33]=p=>ne(fe)?fe.value=p:null),class:"w-full"},{header:a(()=>[L("div",Qa,[t(Ve,{depth:"1"},{default:a(()=>[U(w(e(Le)?e(l)("editArticle"):e(l)("addArticle")),1)]),_:1})])]),"header-extra":a(()=>[t(ve,{class:"mr-10",align:"center"},{default:a(()=>[t(e(H),{type:"success",title:e(l)("save"),loading:e(d)||e(I),disabled:e(gt),onClick:s[18]||(s[18]=p=>tt())},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:save"})]),_:1})]),default:a(()=>[U(" "+w(e(l)("save")),1)]),_:1},8,["title","loading","disabled"])]),_:1})]),default:a(()=>[L("section",Za,[t(Xt,{ref_key:"formRef",ref:Je,model:e(m),rules:et,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(yt,{cols:"5","x-gap":14,"y-gap":12,"item-responsive":""},{default:a(()=>[t(Tt,{span:"0:5 400:5 600:2 800:2"},{default:a(()=>[t(ke,{label:e(l)("title"),path:"title"},{default:a(()=>[t(qe,{modelValue:e(m).title,"onUpdate:modelValue":s[19]||(s[19]=p=>e(m).title=p),placeholder:e(l)("title"),"selector-span":4,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(ke,{label:e(l)("slug"),path:"slug"},{default:a(()=>[t(e(Ee),{value:e(m).slug,"onUpdate:value":s[20]||(s[20]=p=>e(m).slug=p),placeholder:e(l)("slug"),"allow-input":st,class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),t(yt,{"x-gap":"12",span:24},{default:a(()=>[t(Fe,{span:12,label:e(l)("status"),path:"status"},{default:a(()=>[t(te,{value:e(m).status,"onUpdate:value":s[21]||(s[21]=p=>e(m).status=p),placeholder:e(l)("status"),options:e(f),class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"]),t(Fe,{span:12,label:e(l)("author"),path:"authorId"},{default:a(()=>[t(te,{value:e(m).authorId,"onUpdate:value":s[22]||(s[22]=p=>e(m).authorId=p),placeholder:e(l)("author"),options:e(q),"label-field":"fullname","value-field":"id",class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"])]),_:1}),Ce(t(ke,{label:e(l)("publicationDate"),path:"publishedAt"},{default:a(()=>[t(Wt,{"formatted-value":e(m).publishedAt,"onUpdate:formattedValue":s[23]||(s[23]=p=>e(m).publishedAt=p),"value-format":"yyyy-MM-dd HH:mm:ss",format:"dd MMMM yyyy - HH:mm",type:"datetime",class:"w-full"},null,8,["formatted-value"])]),_:1},8,["label"]),[[Ae,e(m).status===e(ae).PUBLISHED]]),t(ke,{label:e(l)("featuredImage"),path:"featuredImage"},{default:a(()=>[t(Me,null,{default:a(()=>[L("section",Ja,[L("div",{class:"cursor-pointer w-full h-[200px] flex items-center justify-center rounded-sm",style:St(`
                      border: 1px dashed ${e(O)("green","white")};
                      background-image: url('${e(_)(e(m).featuredImageUrl||e(m).featuredImage||"")}');
                      background-position: center;
                      background-size: cover
                    `),onClick:s[24]||(s[24]=p=>v.value=!0)},[e(m).featuredImage?xe("",!0):(M(),ce(e(S),{key:0,size:64},{default:a(()=>[t(e(G),{icon:"carbon:image",class:"text-gray-400"})]),_:1}))],4),e(m).featuredImage?(M(),ce(e(H),{key:0,class:"!mt-5",quaternary:"",onClick:s[25]||(s[25]=p=>Be())},{icon:a(()=>[t(e(S),null,{default:a(()=>[t(e(G),{icon:"carbon:trash-can"})]),_:1})]),default:a(()=>[U(" "+w(e(l)("clear")),1)]),_:1})):xe("",!0)])]),_:1})]),_:1},8,["label"]),t(ke,{label:e(l)("legend"),path:"legend"},{default:a(()=>[t(qe,{modelValue:e(m).legend,"onUpdate:modelValue":s[26]||(s[26]=p=>e(m).legend=p),placeholder:e(l)("legend"),"selector-span":4,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(Tt,{span:"0:5 400:5 600:3 800:3"},{default:a(()=>[t(ke,{label:e(l)("summary"),path:"summary"},{default:a(()=>[t(qe,{modelValue:e(m).summary,"onUpdate:modelValue":s[27]||(s[27]=p=>e(m).summary=p),placeholder:e(l)("summary"),"selector-span":3,type:"textarea",class:"w-full",autosize:{minRows:3,maxRows:4},sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(ke,{label:e(l)("content"),path:"content"},{default:a(()=>[t(qe,{modelValue:e(m).content,"onUpdate:modelValue":s[28]||(s[28]=p=>e(m).content=p),"should-not-group-editor-when-full":"",placeholder:e(l)("content"),"selector-span":3,type:"editor",class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(ke,{label:e(l)("categories"),path:"categories"},{default:a(()=>[t(te,{value:e(Q),"onUpdate:value":s[29]||(s[29]=p=>ne(Q)?Q.value=p:null),"render-label":at,placeholder:e(l)("categories"),options:e(re),"max-tag-count":"responsive",filterable:"",multiple:"","label-field":"name","value-field":"id",class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"]),t(ke,{label:e(l)("tags"),path:"tags"},{default:a(()=>[t(te,{value:e(T),"onUpdate:value":s[30]||(s[30]=p=>ne(T)?T.value=p:null),"render-label":lt,placeholder:e(l)("tags"),options:e(R),"max-tag-count":"responsive",filterable:"",multiple:"",tag:"","label-field":"name","value-field":"id",class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"]),t(yt,{"x-gap":"12",span:24},{default:a(()=>[t(Fe,{"show-label":!1,span:12,path:"allowComments"},{default:a(()=>[t(C,{checked:e(m).allowComments,"onUpdate:checked":s[31]||(s[31]=p=>e(m).allowComments=p)},{default:a(()=>[U(w(e(l)("allowComments")),1)]),_:1},8,["checked"])]),_:1}),t(Fe,{"show-label":!1,span:12,path:"isHeadline"},{default:a(()=>[t(C,{checked:e(m).isHeadline,"onUpdate:checked":s[32]||(s[32]=p=>e(m).isHeadline=p)},{default:a(()=>[U(w(e(l)("headline")),1)]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"])],64)}}});const al=Yt(tl,[["__scopeId","data-v-e8682b6a"]]),ll=je({__name:"index",setup(Z){const y=dt(),$=pt(),pe=mt(),{displayFormErrors:W,tr:F}=Qe(),{request:O}=ut(),{t:_,locale:f}=Ge(),c=i(!1),R=i([]),re=i(""),P=i(),ge={pageSize:12,prefix:({itemCount:o})=>u("div",{class:"font-bold"},{default:()=>`${_("total")}: ${o}`})},l=[{title:_("name"),key:"name",resizable:!0,width:150,ellipsis:{tooltip:!0},fixed:"left",sortOrder:!1,sorter:"default",render(o){return u("div",{},{default:()=>F(o.name)})}},{title:_("description"),key:"description",resizable:!0,width:200,ellipsis:{tooltip:!0},render(o){return u("small",{},{default:()=>F(o.description)})}},{title:_("status"),key:"isActive",width:100,render(o){return u(Se,{type:o.isActive?"success":"error",bordered:!1},{default:()=>o.isActive?_("visible"):_("hidden")})},sortOrder:!1,sorter:"default"},{title:_("article_s"),key:"articlesCount",width:90,render(o){return u(Se,{type:"info",bordered:!1},{default:()=>o.articlesCount})},sortOrder:!1,sorter:"default"},{title:_("updateAt"),key:"updatedAt",width:125,render(o){return u("div",{},{default:()=>Ye(o.updatedAt,{locale:f.value,outPattern:"DD MMMM YYYY"})})}},{title:_("createdAt"),key:"createdAt",width:125,render(o){return u("div",{},{default:()=>Ye(o.createdAt,{locale:f.value,outPattern:"DD MMMM YYYY"})})}},{title:()=>u(Ee,{ref:P,placeholder:_("search"),value:re.value,onInput:o=>{re.value=o}},{suffix:()=>u(S,{},{default:()=>u(G,{icon:"carbon:search"})})}),key:"actions",width:150,render(o){return u("div",{class:"flex justify-end items-center w-full"},[u(H,{size:"small",type:"warning",onClick:()=>{j(o)},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:edit"})})}),u("div",{class:"w-2"}),u(H,{size:"small",type:"error",onClick:()=>{pe.warning({title:_("confirm"),content:_("confirmDeleteNewsTag"),positiveText:_("yes"),negativeText:_("no"),onPositiveClick:async()=>{(await O({method:"delete",url:`/news-tags/${o.id}`})).success?($.success(_("success")),z()):$.error(_("anErrorOccurred"))}})},renderIcon:()=>u(S,null,{default:()=>u(G,{icon:"carbon:trash-can"})})})])},fixed:"right"}],me=Pe(()=>{if(!re.value)return R.value;const o=R.value.filter(q=>{var le;return q.name.toLowerCase().includes(re.value.toLowerCase())||((le=q.description)==null?void 0:le.toLowerCase().includes(re.value.toLowerCase()))});return P.value&&P.value.focus(),o}),z=async()=>{c.value=!0;const o=await O({url:"/news-tags"});o.success&&o.result&&(R.value=o.result.data),c.value=!1};z();const N=i(!1),D=i(!1),V=i(null),E=i(null),b=i({name:"",description:"",isActive:!0}),Y={name:[{required:!0,message:_("fillRequired")}],description:[{required:!0,message:_("fillRequired")}]},j=o=>{V.value=_e.cloneDeep(o),o?b.value=_e.cloneDeep(o):b.value={name:"",description:"",isActive:!0},D.value=!0},he=async()=>{var o;return(o=E.value)==null||o.validate(async q=>{var le,g,ie,J,ee,be;if(!q)if(V.value)if(V.value.name!==b.value.name&&R.value.findIndex(K=>K.name==b.value.name)>-1)$.error(_("sameTagNameMessage"));else{y.start(),N.value=!0;const K={name:b.value.name,description:b.value.description,isActive:b.value.isActive},d=await O({method:"put",url:`/news-tags/${V.value.id}`,data:K});d.success&&d.result.data&&($.success(_("success")),z()),N.value=!1,y.finish(),D.value=!1}else if(R.value.findIndex(K=>K.name==b.value.name)>-1)$.error(_("sameTagNameMessage"));else{y.start(),N.value=!0;const K={name:b.value.name,description:b.value.description,isActive:b.value.isActive},d=await O({method:"post",url:"/news-tags",data:K});if(d.failure&&d.error)switch((ie=(g=(le=d.error)==null?void 0:le.response)==null?void 0:g.data)==null?void 0:ie.errorCode){case Ke.FORM_INVALID_DATA:W((be=(ee=(J=d.error)==null?void 0:J.response)==null?void 0:ee.data)==null?void 0:be.data);break;default:$.error(_("anErrorOccurred"))}else $.success(_("success")),z();N.value=!1,y.finish(),D.value=!1}}),!1};return(o,q)=>{const le=ct,g=Ct,ie=kt,J=ft,ee=At,be=vt,K=_t;return M(),oe(Ie,null,[t(le,{to:"#add-tag-action"},{default:a(()=>[t(e(H),{type:"primary",onClick:q[0]||(q[0]=d=>j(null))},{icon:a(()=>[t(e(S),{size:"18"},{default:a(()=>[t(e(G),{icon:"carbon:add-alt"})]),_:1})]),default:a(()=>[U(" "+w(e(_)("addTag")),1)]),_:1})]),_:1}),t(g,{columns:l,data:e(me),pagination:ge,loading:e(c),"single-line":!1,"scroll-x":1e3,size:"small",striped:""},null,8,["data","loading"]),t(K,{show:e(D),"onUpdate:show":q[4]||(q[4]=d=>ne(D)?D.value=d:null),loading:e(N),preset:"dialog",style:{width:"450px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:e(V)?e(_)("editTag"):e(_)("addTag"),"positive-text":e(_)("validate"),"negative-text":e(_)("cancel"),onPositiveClick:he,onNegativeClick:q[5]||(q[5]=d=>D.value=!1)},{default:a(()=>[t(be,{ref_key:"formRef",ref:E,class:"mt-5",model:e(b),rules:Y,"show-require-mark":!1,size:"medium"},{default:a(()=>[t(J,{label:e(_)("name"),path:"name"},{default:a(()=>[t(ie,{modelValue:e(b).name,"onUpdate:modelValue":q[1]||(q[1]=d=>e(b).name=d),placeholder:e(_)("name"),"selector-span":5,class:"w-full",sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(J,{label:e(_)("description"),path:"description"},{default:a(()=>[t(ie,{modelValue:e(b).description,"onUpdate:modelValue":q[2]||(q[2]=d=>e(b).description=d),placeholder:e(_)("description"),"selector-span":5,type:"textarea",class:"w-full",rows:3,sync:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(J,{label:e(_)("status"),path:"isActive"},{default:a(()=>[t(ee,{value:e(b).isActive,"onUpdate:value":q[3]||(q[3]=d=>e(b).isActive=d),size:"small"},{checked:a(()=>[U(w(e(_)("visible")),1)]),unchecked:a(()=>[U(w(e(_)("hidden")),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),sl={id:"header-btn"},nl={id:"add-article-action"},ol={id:"add-comment-action"},rl={id:"add-category-action"},il={id:"add-tag-action"},ul={key:"articles"},cl={key:"comments"},dl={key:"categories"},pl={key:"tags"},ml=je({name:la.NEWS_MANAGEMENT.NAME}),fl=je({...ml,setup(Z){Jt(D=>({ae8402e2:e(R)}));const y=["articles","categories","comments","tags"],$=D=>y.includes(D),{t:pe}=Ge(),W=za(),{is2XlScreen:F,isXlScreen:O,isLgScreen:_,isMdScreen:f,isSmScreen:c,appSecondaryColor:R}=Qe(),re=qt(),P=oa("news-management",()=>({currentMenuItemKey:i("articles")}))(),ge=(D,V)=>()=>u(S,{color:P.currentMenuItemKey==V?"white":""},{default:()=>u(G,{icon:D})}),l=(D,V)=>()=>u("span",{class:`${P.currentMenuItemKey==V?"text-white":""}`,id:_e.camelCase(V)},{default:()=>D}),me=Pe(()=>[{label:l(pe("articles"),"articles"),key:"articles",icon:ge("carbon:document","articles")},{label:l(pe("comments"),"comments"),key:"comments",icon:ge("carbon:chat","comments")},{label:l(pe("categories"),"categories"),key:"categories",icon:ge("carbon:categories","categories")},{label:l(pe("tags"),"tags"),key:"tags",icon:ge("carbon:tag","tags")}]),z=Pe(()=>re.contentLayoutSize.height-200),N=i();return zt(()=>[f.value,c.value,_.value,O.value],([D,V,E,b])=>{N.value=D||V||E||b,setTimeout(()=>{N.value=void 0},500)}),Ia(()=>{W.params.key&&$(W.params.key)&&(P.currentMenuItemKey=W.params.key)}),(D,V)=>{const E=xt,b=wa,Y=ka,j=xa,he=$t,o=Zt;return M(),ce(o,null,{"header-extra":a(()=>[t(E,null,{default:a(()=>[L("div",sl,[Ce(L("div",nl,null,512),[[Ae,e(P).currentMenuItemKey==="articles"]]),Ce(L("div",ol,null,512),[[Ae,e(P).currentMenuItemKey==="comments"]]),Ce(L("div",rl,null,512),[[Ae,e(P).currentMenuItemKey==="categories"]]),Ce(L("div",il,null,512),[[Ae,e(P).currentMenuItemKey==="tags"]])])]),_:1})]),default:a(()=>[t(he,{embedded:""},{default:a(()=>[t(j,{style:St(`height: ${e(z)}px`)},{default:a(()=>[t(j,{position:"absolute",style:{top:"0",bottom:"0"},"has-sider":""},{default:a(()=>[t(Y,{bordered:"","show-trigger":"","collapse-mode":"width","content-style":"padding: 4px",collapsed:e(N),"default-collapsed":!e(F),"collapsed-width":64,"native-scrollbar":!1,width:e(F)?300:275},{default:a(()=>[t(b,{value:e(P).currentMenuItemKey,"onUpdate:value":V[0]||(V[0]=q=>e(P).currentMenuItemKey=q),"collapsed-width":64,"collapsed-icon-size":22,options:e(me)},null,8,["value","options"])]),_:1},8,["collapsed","default-collapsed","width"]),t(j,{"content-style":"padding: 10px 24px","native-scrollbar":!1},{default:a(()=>[t(ea,{name:"slide-fade"},{default:a(()=>[Ce(L("section",ul,[t(al)],512),[[Ae,e(P).currentMenuItemKey==="articles"]]),Ce(L("section",cl,[t(Fa)],512),[[Ae,e(P).currentMenuItemKey==="comments"]]),Ce(L("section",dl,[t(Ha)],512),[[Ae,e(P).currentMenuItemKey==="categories"]]),Ce(L("section",pl,[t(ll)],512),[[Ae,e(P).currentMenuItemKey==="tags"]])]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})}}});const In=Yt(fl,[["__scopeId","data-v-b2ad2fbf"]]);export{In as default};
