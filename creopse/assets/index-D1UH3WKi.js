const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue3-ts-jsoneditor-C8auy2Cl.js","assets/jsoneditor-Cyu_lGJP.js","assets/process-Dy-TXDLF.js","assets/ckeditor5-BrgJTJSN.js","assets/ckeditor_ckeditor5-utils-DZhn28Eg.js","assets/es-toolkit-Cge3R0Vb.js","assets/ckeditor_ckeditor5-engine-BHV-Rp_a.js","assets/ckeditor_ckeditor5-widget-yxJBKz4n.js","assets/ckeditor_ckeditor5-core-CWAtyu9P.js","assets/ckeditor_ckeditor5-watchdog-D6_LaQGu.js","assets/ckeditor_ckeditor5-typing-uZoA9pnq.js","assets/ckeditor_ckeditor5-icons-BkOmZeoU.js","assets/ckeditor_ckeditor5-ui-C7Ma50Jw.js","assets/color-parse-BGABsNex.js","assets/color-name-gyPnsvCn.js","assets/color-convert-BAHQI5dc.js","assets/vanilla-colorful-PEGE98j7.js","assets/ckeditor_ckeditor5-enter-0icnFgvj.js","assets/ckeditor_ckeditor5-list-DexonytB.js","assets/ckeditor_ckeditor5-font-DKG9Ffj7.js","assets/ckeditor_ckeditor5-clipboard-CyjGvBno.js","assets/ckeditor_ckeditor5-mention-CRbwimBn.js","assets/ckeditor5-CZCgGaBk.css","assets/ckeditor_ckeditor5-vue-D9YIFk5Z.js","assets/originjs_vite-plugin-federation-DDIHa9Ih.js","assets/ckeditor_ckeditor5-integrations-common-ZttWYWgN.js","assets/lodash-es-CfVRxHJr.js","assets/export2excel-C7pSMF4U.js","assets/xlsx-DHIYx6t8.js","assets/file-saver-BpnyUUf6.js"])))=>i.map(i=>d[i]);
import{i as me}from"./ckeditor_ckeditor5-vue-D9YIFk5Z.js";import{_ as Ba,a as no,b as ri}from"./index.vue_vue_type_script_setup_true_lang-PRzHp-d9.js";import{_ as od}from"./PageLayout.vue_vue_type_script_setup_true_lang-BBrh_5H0.js";import{_ as ma}from"./I18nInput-D-9kUbEU.js";import{Q as No,e as Pe,t as ut,u as Xe,f as Mt,w as Xt,y as $n,S as So,T as gi,v as Oa,U as Ln,p as To,V as Ec,x as sd,J as rd,W as id,X as si,_ as Fa,Y as ii,Z as cd,d as dd,$ as ud,a0 as pd,R as Uc,a1 as md,a2 as Mc,A as hi,a3 as ci,a4 as Nc,a5 as fd,a6 as _d,a7 as di,a8 as Tc,a9 as vd,aa as yd,ab as gd,q as hd,I as bd,ac as kd}from"./index-BictNpzW.js";import{I as be}from"./iconify_vue-DK9FHL8l.js";import{_ as sr}from"./NaiveMobileTableAdapter.vue_vue_type_script_setup_true_lang-DIMfp6Ce.js";import{u as ke}from"./vue-i18n-DGGON2e6.js";import{a as Oe,l as ea,u as He,a0 as Rl,o as oo,af as Sa,x as hl,O as $l,Y as qa,n as Ra,B as Ye,q as pe,$ as Ea,z as ca,D as fa,E as Bn,C as ll,a5 as rr,a6 as ir,A as da,ag as wd,ab as Uo,a4 as cr,M as on,a7 as Dc,t as Ua,a3 as dr,aa as zc,a1 as ui,J as On,v as Ac,ah as xd,ai as ur,aj as pi,ak as Pc,F as mi,al as $d,am as Cd,an as Lc,V as so,W as ro,R as pr,P as Bc,Z as Do,ao as Id,ap as Oc,aq as Fc,K as fi,ar as qc,r as Rc,as as Vd,a8 as Sd,a9 as Ed,p as Ud}from"./naive-ui-U3LV0D3Q.js";import{_ as ie}from"./lodash-BQQkJTn-.js";import{_ as Cn}from"./fawmi_vue-google-maps-Cpr8dN0B.js";import{C as Ya,S as bi,p as rn,d as Md,v as cn,V as Ms,w as dn,G as fr}from"./ngneat_falso-B0jqjLBt.js";import{h as Nd}from"./moment-D0oQX5S1.js";import{_ as jc}from"./index.vue_vue_type_style_index_0_lang-DkPnkIQr.js";import{u as Kc,a as Yc}from"./article-BFmX4yib.js";import{v as ql}from"./uuid-8I8R7izr.js";import{a as Gc,u as Td}from"./tanstack_vue-query-DCl0-IN8.js";import{s as Hc}from"./slugify-yIIWNGXu.js";import{_ as Dd}from"./media-file-HhJTMxoV.js";import{r as zd}from"./vueuse_shared-x2l23lLx.js";import{_ as Mo}from"./jsoneditor-Cyu_lGJP.js";import{u as Wc}from"./vueuse_core-aA8IVeLX.js";import{_ as Qc}from"./UploadExcel-Dhcau0-q.js";import{_ as Eo}from"./validator-DwVK3abb.js";import{_ as Ad}from"./VueTelInputWrapper-DcXXo4Tq.js";import{i as Pd}from"./libphonenumber-js-Cbgs1wa0.js";import"./browser-image-compression-DsQCRm9N.js";import{u as Ld}from"./email-Bc0Anq6_.js";import{u as Bd}from"./vue-shepherd-CZJ8KBfd.js";import{u as Od}from"./vue-router-JM7pifDK.js";var xn=(u=>(u.IMAGE="image",u.VIDEO="video",u))(xn||{});const Xc=(u,e)=>No(["ad-identifiers"],async()=>{const{request:n}=Pe(),a=await n({url:"/ad-identifiers"});return a.success&&a.result.data?a.result.data:[]},{refetchOnWindowFocus:!1,...u}),Fd=(u,e)=>No(["ads"],async()=>{const{request:n}=Pe(),a=await n({url:"/ads"});return a.success&&a.result.data?a.result.data:[]},{refetchOnWindowFocus:!1,...u}),qd=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe();return ut({queryKey:["ad-identifiers"],operation:"insert",getItemId:l=>l.id,mutationFn:async l=>{const t=await n({method:"post",url:"/ad-identifiers",data:l});if(t.failure&&t.error)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:l=>{l?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(l?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Rd=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe();return ut({queryKey:["ad-identifiers"],operation:"update",getItemId:l=>l.id,mutationFn:async l=>{const t=await n({method:"put",url:`/ad-identifiers/${l.id}`,data:l});if(t.failure&&t.error)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:l=>{l?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(l?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},jd=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe();return ut({queryKey:["ad-identifiers"],operation:"remove",getItemId:o=>o.id,mutationFn:async({id:o})=>{const l=await e({method:"delete",url:`/ad-identifiers/${o}`});if(!l.success)throw new Error(l.error);return l.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:o=>{a.error(n("anErrorOccurred"))},...u}})},{useModel:Kd,defineComponent:Yd}=await me("vue"),{unref:nt,resolveComponent:nh,createVNode:xt,toDisplayString:io,createTextVNode:_r,withCtx:Rt,renderList:Gd,Fragment:ki,openBlock:co,createElementBlock:vr,createElementVNode:zo,createCommentVNode:Hd,normalizeClass:wi,createBlock:yr,isRef:Wd}=await me("vue"),Qd={class:"flex items-center justify-between"},Xd={class:"flex flex-col"},Jd={class:"text-sm font-bold"},Zd={class:"text-xs font-normal"},eu={key:0,class:"text-xs font-bold"},{ref:Ao}=await me("vue"),tu=Yd({__name:"Identifiers",props:{show:{type:Boolean,default:!1,required:!0},showModifiers:{}},emits:["update:show"],setup(u){const{t:e}=ke(),{pickByTheme:n,formatKey:a}=Xe(),o=Kd(u,"show"),{data:l,isPending:t}=Xc(),{mutate:c}=jd(),{mutate:fe}=qd(),{mutate:ae}=Rd(),ce=ea(),A=He(),ne=Ao(!1),O=Ao(!1),I=Ao(null),d=Ao(null),F=Ao({id:"",reusable:!1,contentType:xn.IMAGE,contentSize:"",params:[]}),te={id:[{required:!0,message:e("fillRequired")}]},s=W=>{I.value=ie.cloneDeep(W),F.value=ie.cloneDeep(W||{id:"",reusable:!1,contentType:xn.IMAGE,contentSize:"",params:[]}),O.value=!0},re=async()=>(d.value?.validate(async W=>{if(!W){A.start(),ne.value=!0;const x={id:F.value.id,reusable:F.value.reusable,contentType:F.value.contentType,contentSize:F.value.contentSize,params:F.value.params};I.value?ae(x,{onSuccess:()=>{O.value=!1}}):fe(x,{onSuccess:()=>{O.value=!1}}),ne.value=!1,A.finish()}}),!1),D=async W=>{ce.warning({title:e("confirm"),content:e("confirmDeleteAdIdentifier"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{c({id:W.id})}})};return(W,x)=>{const N=be,q=Ye,H=$l,K=qa,oe=Ra,g=pe,P=hl,y=Sa,h=Ea,Y=oo,U=Rl,R=ll,J=Bn,T=fa,C=ir,b=rr,z=wd,xe=da,M=ca;return co(),vr(ki,null,[xt(U,{show:o.value,"onUpdate:show":x[2]||(x[2]=$=>o.value=$),preset:"card",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,closable:!1,title:nt(e)("adIdentifiers")},{"header-extra":Rt(()=>[xt(H,{align:"center"},{default:Rt(()=>[xt(q,{secondary:"",size:"small",type:"primary",disabled:nt(t),onClick:x[0]||(x[0]=$=>s(null))},{default:Rt(()=>[xt(N,{icon:"carbon:add-alt",class:"mr-1"}),_r(" "+io(nt(e)("add")),1)]),_:1},8,["disabled"]),xt(q,{secondary:"",size:"small",type:"error",disabled:nt(t),onClick:x[1]||(x[1]=$=>o.value=!1)},{default:Rt(()=>[xt(N,{icon:"carbon:close",class:"mr-1"}),_r(" "+io(nt(e)("close")),1)]),_:1},8,["disabled"])]),_:1})]),default:Rt(()=>[xt(Y,{show:nt(t)},{default:Rt(()=>[nt(l)?.length?(co(),yr(y,{key:0,style:{"max-height":"400px"}},{default:Rt(()=>[(co(!0),vr(ki,null,Gd(nt(l),$=>(co(),yr(P,{key:$.id,embedded:"",size:"small",class:"mb-2"},{default:Rt(()=>[zo("div",Qd,[zo("div",Xd,[zo("span",Jd,io($.id),1),zo("div",null,[zo("span",Zd,io($.contentType===nt(xn).IMAGE?nt(e)("image"):nt(e)("video")),1),$.contentSize?(co(),vr("span",eu," Â ("+io($.contentSize)+") ",1)):Hd("",!0)])]),xt(H,null,{default:Rt(()=>[xt(K,{size:"medium",bordered:!1,type:$.reusable?"info":"warning"},{default:Rt(()=>[_r(io($.reusable?nt(e)("reusable"):nt(e)("notReusable")),1)]),_:2},1032,["type"]),xt(oe,{vertical:"",class:wi(["!mx-0",nt(n)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),xt(q,{size:"small",type:"warning",secondary:"",onClick:i=>s($)},{default:Rt(()=>[xt(g,null,{default:Rt(()=>[xt(N,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),xt(q,{size:"small",type:"error",secondary:"",onClick:i=>D($)},{default:Rt(()=>[xt(g,null,{default:Rt(()=>[xt(N,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1})):(co(),yr(P,{key:1,size:"large",class:wi(`mb-2 !border-dashed !border-2 ${nt(n)("!border-zinc-300","!border-zinc-600")}`)},{default:Rt(()=>[xt(h,{description:nt(e)("noIdentifierAdded")},{icon:Rt(()=>[xt(g,{size:"60"},{default:Rt(()=>[xt(N,{icon:"mdi:identifier"})]),_:1})]),_:1},8,["description"])]),_:1},8,["class"]))]),_:1},8,["show"])]),_:1},8,["show","title"]),xt(U,{show:nt(O),"onUpdate:show":x[8]||(x[8]=$=>Wd(O)?O.value=$:null),loading:nt(ne),preset:"dialog",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:nt(I)?nt(e)("editAdIdentifier"):nt(e)("addAdIdentifier"),"positive-text":nt(e)("validate"),"negative-text":nt(e)("cancel"),onPositiveClick:re,onNegativeClick:x[9]||(x[9]=$=>O.value=!1)},{default:Rt(()=>[xt(M,{ref_key:"formRef",ref:d,model:nt(F),rules:te,"show-require-mark":!1,size:"medium",class:"my-5"},{default:Rt(()=>[xt(T,{span:24,"x-gap":"12"},{default:Rt(()=>[xt(J,{span:16,label:nt(e)("identifier"),path:"id"},{default:Rt(()=>[xt(R,{value:nt(F).id,placeholder:nt(e)("identifier"),disabled:nt(I)!=null,class:"w-full","onUpdate:value":x[3]||(x[3]=$=>nt(F).id=nt(a)($))},null,8,["value","placeholder","disabled"])]),_:1},8,["label"]),xt(J,{span:8,label:nt(e)("contentSize"),path:"contentSize"},{default:Rt(()=>[xt(R,{value:nt(F).contentSize,"onUpdate:value":x[4]||(x[4]=$=>nt(F).contentSize=$),placeholder:nt(e)("contentSize"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),xt(T,{span:24,"x-gap":"12"},{default:Rt(()=>[xt(J,{span:12,label:nt(e)("status"),path:"reusable"},{default:Rt(()=>[xt(b,{value:nt(F).reusable,"onUpdate:value":x[5]||(x[5]=$=>nt(F).reusable=$),name:"reusable",class:"w-full"},{default:Rt(()=>[xt(C,{value:!1,label:nt(e)("notReusable"),class:"w-[50%]"},null,8,["label"]),xt(C,{value:!0,label:nt(e)("reusable"),class:"w-[50%]"},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"]),xt(J,{span:12,label:nt(e)("contentType"),path:"contentType"},{default:Rt(()=>[xt(b,{value:nt(F).contentType,"onUpdate:value":x[6]||(x[6]=$=>nt(F).contentType=$),name:"contentType",class:"w-full"},{default:Rt(()=>[xt(C,{value:nt(xn).IMAGE,label:nt(e)("image"),class:"w-[50%]"},null,8,["value","label"]),xt(C,{value:nt(xn).VIDEO,label:nt(e)("video"),class:"w-[50%]"},null,8,["value","label"])]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),xt(xe,{label:nt(e)("settings"),path:"params"},{default:Rt(()=>[xt(z,{value:nt(F).params,"onUpdate:value":x[7]||(x[7]=$=>nt(F).params=$),type:"primary"},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),lu=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["ads"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/ads",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},au=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["ads"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/ads/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},nu=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["ads"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/ads/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},{defineComponent:ou}=await me("vue"),{unref:se,createVNode:rt,withCtx:$t,toDisplayString:Fn,createTextVNode:qn,openBlock:Ga,createBlock:Ns,createCommentVNode:gr,resolveComponent:oh,isRef:uo,Fragment:Ts,createElementBlock:po,normalizeStyle:xi,createElementVNode:hr,renderList:su}=await me("vue"),ru={key:1,class:"w-full flex flex-gap-8 items-center justify-start"},iu={id:"video",autoplay:"",controls:"",style:{width:"100%"}},cu=["src"],{inject:du,ref:ua,h:pl,computed:$i}=await me("vue"),uu=ou({__name:"index",setup(u){const e=Oe(),n=ea(),a=du("appConfig"),{data:o}=Xc(),{data:l,isPending:t}=Fd(),{mutate:c,isPending:fe}=nu(),{mutate:ae,isPending:ce}=lu(),{mutate:A,isPending:ne}=au(),{tr:O,fileUrl:I,pickByTheme:d,appSecondaryColor:F,isInDevMode:te}=Xe(),{t:s,locale:re}=ke(),D=ua(""),W=ua(),x={pageSize:12,prefix:({itemCount:$})=>pl("div",{class:"font-bold"},{default:()=>`${s("total")}: ${$}`})},N=[{title:s("preview"),key:"image",width:200,fixed:"left",render($){return $.adIdentifier?.contentType==xn.IMAGE?pl(Uo,{src:$.contentUrl??"",objectFit:"cover",width:200,height:100}):pl("div",{style:{width:"200px",height:"100px"},class:"flex items-center justify-center border border-solid border-gray-300"},[pl(pe,{size:50,color:F.value},{default:()=>pl(be,{icon:"carbon:document-video"})})])}},{title:s("identifier"),key:"pid",width:150,fixed:"left",render($){return pl("small",{},{default:()=>$.pid})}},{title:s("title"),key:"title",width:150,ellipsis:{tooltip:!0},resizable:!0,sortOrder:!1,sorter:"default",render($){return pl("div",{},{default:()=>O($.title)})}},{title:s("description"),key:"description",resizable:!0,width:200,ellipsis:{tooltip:!0},render($){return pl("small",{},{default:()=>O($.description)})}},{title:s("status"),key:"isActive",width:100,render($){return pl(qa,{type:$.display?"success":"warning",bordered:!1},{default:()=>$.display?s("visible"):s("hidden")})},sortOrder:!1,sorter:"default"},{title:s("updateAt"),key:"updatedAt",width:125,render($){return pl("div",{},{default:()=>$n($.updatedAt,{locale:re.value,outPattern:"DD MMMM YYYY"})})}},{title:s("createdAt"),key:"createdAt",width:125,render($){return pl("div",{},{default:()=>$n($.createdAt,{locale:re.value,outPattern:"DD MMMM YYYY"})})}},{title:()=>pl(ll,{ref:W,placeholder:s("search"),value:D.value,onInput:$=>{D.value=$}},{suffix:()=>pl(pe,{},{default:()=>pl(be,{icon:"carbon:search"})})}),key:"actions",width:150,render($){return pl("div",{class:"flex justify-end items-center w-full"},[pl(Ye,{size:"small",type:"warning",secondary:!0,onClick:()=>{R($)},renderIcon:()=>pl(pe,null,{default:()=>pl(be,{icon:"carbon:edit"})})}),pl("div",{class:"w-2"}),pl(Ye,{size:"small",type:"error",secondary:!0,onClick:()=>{n.warning({title:s("confirm"),content:s("confirmDeleteAd"),positiveText:s("yes"),negativeText:s("no"),onPositiveClick:async()=>{$.id&&c({id:$.id})}})},renderIcon:()=>pl(pe,null,{default:()=>pl(be,{icon:"carbon:trash-can"})})})])},fixed:"right"}],q=$i(()=>{if(!D.value)return l.value;const $=l.value?.filter(i=>i.pid.toLowerCase().includes(D.value.toLowerCase())||i.title.toLowerCase().includes(D.value.toLowerCase())||i.description?.toLowerCase().includes(D.value.toLowerCase()));return W.value&&W.value.focus(),$}),H=ua(!1),K=ua(!1),oe=ua(xn.IMAGE),g=ua(),P=ua(null),y=ua(null),h=ua({pid:"",title:"",description:"",content:"",display:!0,data:{},broadcastStart:null,broadcastEnd:null}),Y={pid:[{required:!0,message:s("fillRequired")}],title:[{required:!0,message:s("fillRequired")}],content:[{required:!0,message:s("fillRequired")}]},U=$i({get:()=>!h.value.broadcastStart||!h.value.broadcastEnd?null:[h.value.broadcastStart||"",h.value.broadcastEnd||""],set:$=>{$?(h.value.broadcastStart=$[0],h.value.broadcastEnd=$[1]):(h.value.broadcastStart=null,h.value.broadcastEnd=null)}}),R=$=>{P.value=ie.cloneDeep($),$?(h.value=ie.cloneDeep($),$.data||(h.value.data={})):h.value={pid:"",title:"",description:"",content:"",display:!0,data:{},broadcastStart:null,broadcastEnd:null},g.value=o.value?.find(i=>i.id==h.value.pid)?.params,H.value=!0},J=$=>pl("span",{},{default:()=>$.id+($.contentSize?` (${$.contentSize})`:"")}),T=async()=>(y.value?.validate(async $=>{if(!$){const i={pid:h.value.pid,title:h.value.title,display:h.value.display,content:h.value.content,description:h.value.description,data:h.value.data,broadcastStart:h.value.broadcastStart,broadcastEnd:h.value.broadcastEnd};P.value?P.value.title!==h.value.title&&(l.value||[]).findIndex(k=>k.title==h.value.title)>-1?e.error(s("sameAdTitleMessage")):A({id:P.value.id,...i},{onSuccess:()=>{}}):(l.value||[]).findIndex(k=>k.title==h.value.title)>-1?e.error(s("sameAdTitleMessage")):ae(i,{onSuccess:()=>{}}),H.value=!1}}),!1),C=ua(!1),b=ua(!1),z=ua(!1),xe=ua(""),M=ua("");return($,i)=>{const k=$l,Q=Ba,B=cr,ge=sr,De=ma,he=da,ve=Dc,gt=Ua,ct=Bn,we=ir,qe=rr,$e=fa,Qe=on,L=dr,V=ca,w=Rl,et=no;return Ga(),po(Ts,null,[rt(Q,{to:"#alt-action"},{default:$t(()=>[rt(k,null,{default:$t(()=>[se(te)?(Ga(),Ns(se(Ye),{key:0,secondary:"",type:"warning",onClick:i[0]||(i[0]=Ee=>K.value=!0)},{default:$t(()=>[rt(se(pe),{size:"26"},{default:$t(()=>[rt(se(be),{icon:"carbon:id"})]),_:1}),qn(" "+Fn(se(s)("identifiers")),1)]),_:1})):gr("",!0),rt(se(Ye),{type:"primary",secondary:"",onClick:i[1]||(i[1]=Ee=>R(null))},{icon:$t(()=>[rt(se(pe),{size:"18"},{default:$t(()=>[rt(se(be),{icon:"carbon:add-alt"})]),_:1})]),default:$t(()=>[qn(" "+Fn(se(s)("addAd")),1)]),_:1})]),_:1})]),_:1}),rt(ge,null,{default:$t(()=>[rt(B,{columns:N,data:se(q),pagination:x,loading:se(t),"single-line":!1,"scroll-x":1500,size:"small",striped:""},null,8,["data","loading"])]),_:1}),rt(w,{show:se(H),"onUpdate:show":i[12]||(i[12]=Ee=>uo(H)?H.value=Ee:null),loading:se(ce)||se(ne)||se(fe),preset:"dialog",style:{width:"1200px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:se(P)?se(s)("editAd"):se(s)("addAd"),"positive-text":se(s)("validate"),"negative-text":se(s)("cancel"),onPositiveClick:T,onNegativeClick:i[13]||(i[13]=Ee=>H.value=!1)},{default:$t(()=>[rt(V,{ref_key:"formRef",ref:y,class:"mt-5",model:se(h),rules:Y,"show-require-mark":!1,size:"medium"},{default:$t(()=>[rt($e,{cols:"24","x-gap":12},{default:$t(()=>[rt(Qe,{span:"12"},{default:$t(()=>[rt(he,{"show-label":!1,path:"title"},{default:$t(()=>[rt(De,{modelValue:se(h).title,"onUpdate:modelValue":i[2]||(i[2]=Ee=>se(h).title=Ee),placeholder:se(s)("title"),class:"w-full",sync:""},{label:$t(()=>[qn(Fn(se(s)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),rt(he,{"show-label":!1,path:"description"},{default:$t(()=>[rt(De,{modelValue:se(h).description,"onUpdate:modelValue":i[3]||(i[3]=Ee=>se(h).description=Ee),placeholder:se(s)("description"),type:"textarea",class:"w-full",rows:3,sync:""},{label:$t(()=>[qn(Fn(se(s)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),rt(he,{label:se(s)("broadcastPeriod"),path:"broadcastPeriod"},{default:$t(()=>[rt(ve,{"formatted-value":se(U),"onUpdate:formattedValue":i[4]||(i[4]=Ee=>uo(U)?U.value=Ee:null),"value-format":"yyyy-MM-dd HH:mm:ss",format:"dd MMMM yyyy",type:"daterange",class:"w-full"},null,8,["formatted-value"])]),_:1},8,["label"]),rt($e,{"x-gap":"12",span:24},{default:$t(()=>[rt(ct,{span:12,label:se(s)("identifier"),path:"pid"},{default:$t(()=>[rt(gt,{value:se(h).pid,"onUpdate:value":[i[5]||(i[5]=Ee=>se(h).pid=Ee),i[6]||(i[6]=()=>{g.value=se(o)?.find(Ee=>Ee.id==se(h).pid)?.params})],"render-label":J,options:se(o)?.map(Ee=>({...Ee,disabled:!Ee.reusable&&(Ee.adsCount||0)>0})),placeholder:se(s)("identifier"),placement:"bottom","label-field":"id","value-field":"id",class:"w-full",filterable:""},null,8,["value","options","placeholder"])]),_:1},8,["label"]),rt(ct,{span:12,label:se(s)("status"),path:"display"},{default:$t(()=>[rt(qe,{value:se(h).display,"onUpdate:value":i[7]||(i[7]=Ee=>se(h).display=Ee),name:"display",class:"w-full"},{default:$t(()=>[rt(we,{value:!1,label:se(s)("hidden"),class:"w-[50%]"},null,8,["label"]),rt(we,{value:!0,label:se(s)("visible"),class:"w-[50%]"},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"])]),_:1})]),_:1}),rt(Qe,{span:"12"},{default:$t(()=>[rt(he,{label:se(s)("content"),path:"content"},{default:$t(()=>[se(oe)==se(xn).VIDEO?(Ga(),Ns(L,{key:0},{default:$t(()=>[rt(se(Ye),{secondary:"",type:"primary",onClick:i[8]||(i[8]=()=>{b.value=!0})},{default:$t(()=>[qn(Fn(se(s)("select")),1)]),_:1}),rt(se(ll),{value:se(h).content?se(So)(se(h).content):"",placeholder:se(s)("videoname"),style:{width:"50%"},readonly:""},null,8,["value","placeholder"]),se(h).content?(Ga(),po(Ts,{key:0},[rt(se(Ye),{type:"primary",ghost:"",onClick:i[9]||(i[9]=()=>{xe.value=se(s)("video"),M.value=se(I)(se(h).content),z.value=!0})},{icon:$t(()=>[rt(se(pe),null,{default:$t(()=>[rt(se(be),{icon:"carbon:play-filled"})]),_:1})]),default:$t(()=>[qn(" "+Fn(se(s)("play")),1)]),_:1}),rt(se(Ye),{type:"primary",ghost:"",onClick:i[10]||(i[10]=()=>{se(h).content=""})},{icon:$t(()=>[rt(se(pe),null,{default:$t(()=>[rt(se(be),{icon:"carbon:trash-can"})]),_:1})]),default:$t(()=>[qn(" "+Fn(se(s)("clear")),1)]),_:1})],64)):gr("",!0)]),_:1})):(Ga(),po("div",ru,[hr("div",{class:"cursor-pointer w-full h-[150px]",onClick:i[11]||(i[11]=()=>{C.value=!0})},[se(h).content?(Ga(),Ns(se(Uo),{key:0,"object-fit":"cover","preview-disabled":"",class:"p-1 content-image",style:xi("border: 1px dashed "+se(d)("green","white")),src:se(I)(se(h).content||"")},null,8,["style","src"])):(Ga(),po("div",{key:1,class:"w-full h-full flex items-center justify-center",style:xi("border: 1px dashed "+se(d)("green","white"))},[rt(se(pe),{size:64},{default:$t(()=>[rt(se(be),{icon:"carbon:image",class:"text-gray-400"})]),_:1})],4))])]))]),_:1},8,["label"]),se(g)&&Array.isArray(se(g))?(Ga(),Ns(he,{key:0,label:se(s)("data"),path:"data"},{default:$t(()=>[rt($e,{"x-gap":"12","y-gap":"12",span:24,class:"w-full"},{default:$t(()=>[(Ga(!0),po(Ts,null,su(se(g),(Ee,st)=>(Ga(),po(Ts,{key:st},[rt(Qe,{span:10},{default:$t(()=>[rt(se(ll),{value:Ee,placeholder:Ee,class:"w-full",readonly:""},null,8,["value","placeholder"])]),_:2},1024),rt(Qe,{span:14},{default:$t(()=>[rt(se(ll),{value:se(h).data[Ee],"onUpdate:value":G=>se(h).data[Ee]=G,class:"w-full"},null,8,["value","onUpdate:value"])]),_:2},1024)],64))),128))]),_:1})]),_:1},8,["label"])):gr("",!0)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),rt(w,{show:se(z),"onUpdate:show":i[14]||(i[14]=Ee=>uo(z)?z.value=Ee:null),preset:"card",style:{width:"600px"},bordered:!1,"mask-closable":!1,"close-on-esc":!1,title:se(xe)},{default:$t(()=>[hr("video",iu,[hr("source",{src:se(M)},null,8,cu)])]),_:1},8,["show","title"]),rt(et,{show:se(C),"onUpdate:show":i[15]||(i[15]=Ee=>uo(C)?C.value=Ee:null),title:se(s)("selectImage"),"display-images":!0,"display-videos":!1,"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"images",limit:0,maxSize:0,baseUrl:se(a)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:i[16]||(i[16]=Ee=>{se(h).content=Ee,C.value=!1})},null,8,["show","title","upload-config"]),rt(et,{show:se(b),"onUpdate:show":i[17]||(i[17]=Ee=>uo(b)?b.value=Ee:null),title:se(s)("selectVideo"),"display-images":!1,"display-videos":!0,"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"videos",limit:0,maxSize:0,baseUrl:se(a)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:i[18]||(i[18]=Ee=>{se(h).content=Ee,b.value=!1})},null,8,["show","title","upload-config"]),rt(tu,{show:se(K),"onUpdate:show":i[19]||(i[19]=Ee=>uo(K)?K.value=Ee:null)},null,8,["show"])],64)}}}),pu=Cn(uu,[["__scopeId","data-v-d7bbc8c8"]]),Ci=u=>{const e=Nd();switch(u){case"text":return fr({min:40,max:80});case"i18n-text":return`{ "fr": "${fr({min:40,max:80})}", "en": "${fr({min:40,max:80})}" }`;case"textarea":return dn();case"i18n-textarea":return`{ "fr": "${dn()}", "en": "${dn()}" }`;case"number":return Ya({min:10,max:1e4});case"checkbox":return bi();case"single-select":return rn();case"multi-select":return[rn(),rn(),rn()];case"date":return e.format("YYYY-MM-DD");case"daterange":return[e.format("YYYY-MM-DD"),e.add(5,"years").format("YYYY-MM-DD")];case"datetime":return e.format("YYYY-MM-DD HH:mm:ss");case"datetimerange":return[e.format("YYYY-MM-DD HH:mm:ss"),e.clone().add(5,"years").format("YYYY-MM-DD HH:mm:ss")];case"year":return e.format("YYYY");case"yearrange":return[e.format("YYYY"),e.clone().add(5,"years").format("YYYY")];case"month":return e.format("YYYY-MM");case"monthrange":return[e.format("YYYY-MM"),e.clone().add(5,"years").format("YYYY-MM")];case"quarter":return`${e.format("YYYY")}-Q${e.quarter()}`;case"quarterrange":const n=e.clone().add(5,"years");return[`${e.format("YYYY")}-Q${e.quarter()}`,`${n.format("YYYY")}-Q${n.quarter()}`];case"week":return`${e.format("YYYY")}-${e.week()}`;case"editor":return`<p>${dn()}</p><p>${dn()}</p>`;case"i18n-editor":return`{ "fr": "<p>${dn()}</p><p>${dn()}</p>", "en": "<p>${dn()}</p><p>${dn()}</p>" }`;case"image":return cn({width:1200,height:800});case"gallery":return[cn({width:1200,height:800}),cn({width:1200,height:800}),cn({width:1200,height:800}),cn({width:1200,height:800})];case"news-article":return Ya({min:0,max:10});case"news-articles":{let o=Ya({min:0,max:5});return[o,o+1,o+2]}case"news-category":return Ya({min:0,max:10});case"news-categories":{let o=Ya({min:0,max:5});return[o,o+1,o+2]}case"news-tag":return Ya({min:0,max:10});case"news-tags":{let o=Ya({min:0,max:5});return[o,o+1,o+2]}case"icon":return Ms();case"icons":return[Ms(),Ms(),Ms()];case"albums":return[{name:"album",medias:[cn(),cn(),cn(),cn()]}];case"audio":return"https://raw.githubusercontent.com/TestFileHub/FileHub/main/mp3/mp31mb.mp3";case"video":return"https://testfilehub.github.io/files/MP4/1mb.MP4";case"document":return"https://raw.githubusercontent.com/TestFileHub/FileHub/main/pdf/pdf1mb.pdf";case"file":return"https://testfilehub.github.io/files/TXT/1mb.TXT";case"color":return Md();case"content-model-item":return;case"content-model-items":return[];case"menu-item-link":return 0;case"list":return[{value:rn()},{value:rn()},{value:rn()}];case"i18n-list":return[{value:`{ "fr": "${rn()}", en: "${rn()}" }`}];case"switch":return bi();case"slider":return Ya({min:0,max:100});case"range-slider":return[Ya({min:0,max:100}),Ya({min:0,max:100})];case"gradient":return"linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 100%)";default:return u}},{useModel:mu,mergeModels:fu,defineComponent:_u}=await me("vue"),{toDisplayString:Ds,createElementVNode:br,resolveComponent:vu,createVNode:ta,withCtx:bl,unref:Wl,createTextVNode:kr,openBlock:Ma,createBlock:Po,createCommentVNode:zs,renderList:Ii,Fragment:Vi,createElementBlock:mo,createSlots:yu,isRef:Si}=await me("vue"),{defineComponent:gu,ref:As,inject:hu}=await me("vue"),bu={class:"w-full"},ku={class:"mb-2"},wu={class:"text-base text-left"},xu=["src","onClick"],$u=["src"],Cu=gu({name:"AlbumsPicker"}),Iu=_u({...Cu,props:fu({uploadFolder:{default:"albums"},readonly:{type:Boolean,default:!1},title:{default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(u){const e=mu(u,"modelValue"),n=u,{t:a}=ke(),{fileUrl:o}=Xe(),l=As(!1),t=As(!1),c=As(0),fe=As(""),ae=hu("appConfig"),ce=()=>{e.value&&Array.isArray(e.value)?e.value.push({name:"",medias:[]}):e.value=[{name:"",medias:[]}]},A=I=>{e.value&&Array.isArray(e.value)?e.value.splice(I,1):e.value=[]},ne=(I,d)=>{e.value&&Array.isArray(e.value[d].medias)?e.value[d].medias.splice(I,1):e.value&&(e.value[d].medias=[])},O=I=>{const d=I.split(".")?.pop()?.toLowerCase()||"";return["jpg","jpeg","png","gif","bmp","svg"].includes(d)?"image":["mp4","avi","mov","mkv","wmv","flv"].includes(d)?"video":"unknown"};return(I,d)=>{const F=be,te=pe,s=Ye,re=ma,D=Uo,W=vu("Draggable"),x=zc,N=Sa,q=hl,H=no,K=Rl;return Ma(),mo("section",bu,[br("section",ku,[ta(q,{size:"small",segmented:e.value&&e.value.length>0},{header:bl(()=>[br("div",wu,Ds(n.title),1)]),"header-extra":bl(()=>[n.readonly?zs("",!0):(Ma(),Po(s,{key:0,quaternary:"",onClick:ce},{icon:bl(()=>[ta(te,{size:"18"},{default:bl(()=>[ta(F,{icon:"carbon:folder-add"})]),_:1})]),default:bl(()=>[kr(" "+Ds(Wl(a)("addAlbum")),1)]),_:1}))]),default:bl(()=>[(Ma(!0),mo(Vi,null,Ii(e.value,(oe,g)=>(Ma(),Po(q,{key:g,size:"small",embedded:"",hoverable:"",segmented:oe.medias&&oe.medias.length>0,class:"mb-4"},yu({header:bl(()=>[ta(re,{modelValue:oe.name,"onUpdate:modelValue":P=>oe.name=P,placeholder:Wl(a)("albumName"),disabled:n.readonly,class:"!max-w-[350px]",sync:""},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])]),default:bl(()=>[ta(N,{style:{"max-height":"100%"}},{default:bl(()=>[oe.medias&&oe.medias.length>0?(Ma(),Po(x,{key:0,"show-toolbar":"","show-toolbar-tooltip":""},{default:bl(()=>[ta(W,{list:oe.medias,class:"w-full grid grid-cols-3 gap-4"},{default:bl(()=>[(Ma(!0),mo(Vi,null,Ii(oe.medias,(P,y)=>(Ma(),mo("div",{key:"img-"+y,class:"relative border-dotted border border-green-500 h-[120px] w-full picked-item"},[O(P)==="image"?(Ma(),Po(D,{key:0,"object-fit":"cover",src:Wl(o)(P)},null,8,["src"])):(Ma(),mo("video",{key:1,muted:"",src:Wl(o)(P),class:"w-full h-[120px] object-cover cursor-pointer",onClick:()=>{fe.value=Wl(o)(P),t.value=!0}},null,8,xu)),n.readonly?zs("",!0):(Ma(),Po(s,{key:2,strong:"",circle:"",color:"black",style:{position:"absolute",top:"4px",right:"4px"},onClick:h=>ne(y,g)},{icon:bl(()=>[ta(te,null,{default:bl(()=>[ta(F,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"]))]))),128))]),_:2},1032,["list"])]),_:2},1024)):zs("",!0)]),_:2},1024)]),_:2},[n.readonly?void 0:{name:"header-extra",fn:bl(()=>[ta(s,{quaternary:"",class:"mr-2",onClick:()=>{c.value=g,l.value=!0}},{icon:bl(()=>[ta(te,null,{default:bl(()=>[ta(F,{icon:"carbon:add-alt"})]),_:1})]),default:bl(()=>[kr(" "+Ds(Wl(a)("add")),1)]),_:2},1032,["onClick"]),d[3]||(d[3]=br("div",{class:"w-2"},null,-1)),ta(s,{quaternary:"",type:"error",onClick:P=>A(g)},{icon:bl(()=>[ta(te,null,{default:bl(()=>[ta(F,{icon:"carbon:trash-can"})]),_:1})]),default:bl(()=>[kr(" "+Ds(Wl(a)("delete")),1)]),_:2},1032,["onClick"])]),key:"0"}]),1032,["segmented"]))),128))]),_:1},8,["segmented"])]),ta(H,{show:Wl(l),"onUpdate:show":d[0]||(d[0]=oe=>Si(l)?l.value=oe:null),title:Wl(a)("select"),"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"albums",limit:0,maxSize:0,baseUrl:Wl(ae)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:d[1]||(d[1]=oe=>{e.value&&Array.isArray(e.value[Wl(c)].medias)?e.value[Wl(c)].medias.push(oe):e.value&&(e.value[Wl(c)].medias=[oe]),l.value=!1})},null,8,["show","title","upload-config"]),ta(K,{show:Wl(t),"onUpdate:show":d[2]||(d[2]=oe=>Si(t)?t.value=oe:null),preset:"card",style:{width:"500px"},title:Wl(a)("video"),bordered:!1,"mask-closable":!1,"close-on-esc":""},{default:bl(()=>[Wl(fe)?(Ma(),mo("video",{key:0,controls:"",autoplay:"",class:"w-full",src:Wl(fe)},null,8,$u)):zs("",!0)]),_:1},8,["show","title"])])}}}),Vu=Cn(Iu,[["__scopeId","data-v-d07ac32a"]]),{useModel:Su,mergeModels:Eu,defineComponent:Uu}=await me("vue"),{toDisplayString:Ei,createElementVNode:Ui,resolveComponent:Mu,createVNode:un,withCtx:Na,unref:Lo,createTextVNode:Nu,openBlock:fo,createBlock:wr,createCommentVNode:xr,renderList:Tu,Fragment:Du,createElementBlock:$r,isRef:zu}=await me("vue"),{defineComponent:Au,inject:Pu,ref:Lu}=await me("vue"),Bu={class:"w-full"},Ou={class:"mb-2"},Fu={class:"text-base text-left"},qu=Au({name:"GridImagesPicker"}),Ru=Uu({...qu,props:Eu({uploadFolder:{default:"images"},readonly:{type:Boolean,default:!1},title:{default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(u){const e=Su(u,"modelValue"),n=Pu("appConfig"),a=u,{t:o}=ke(),{fileUrl:l}=Xe(),t=Lu(!1),c=ae=>{Array.isArray(e.value)?e.value.splice(ae,1):e.value=[]},fe=async ae=>{Array.isArray(e.value)?e.value.push(...ae):e.value=[...ae],t.value=!1};return(ae,ce)=>{const A=be,ne=pe,O=Ye,I=Uo,d=Mu("Draggable"),F=zc,te=Sa,s=hl,re=no;return fo(),$r("section",Bu,[Ui("section",Ou,[un(s,{size:"small",embedded:"",hoverable:"",segmented:e.value&&e.value.length>0},{header:Na(()=>[Ui("div",Fu,Ei(a.title),1)]),"header-extra":Na(()=>[a.readonly?xr("",!0):(fo(),wr(O,{key:0,quaternary:"",onClick:ce[0]||(ce[0]=D=>t.value=!0)},{icon:Na(()=>[un(ne,{size:"18"},{default:Na(()=>[un(A,{icon:"carbon:add-alt"})]),_:1})]),default:Na(()=>[Nu(" "+Ei(Lo(o)("add")),1)]),_:1}))]),default:Na(()=>[un(te,{style:{"max-height":"100%"}},{default:Na(()=>[e.value&&e.value.length?(fo(),wr(F,{key:0,"show-toolbar":"","show-toolbar-tooltip":""},{default:Na(()=>[un(d,{list:e.value,class:"w-full grid grid-cols-3 gap-4"},{default:Na(()=>[(fo(!0),$r(Du,null,Tu(e.value,(D,W)=>(fo(),$r("div",{key:"img-"+W,class:"relative border-dotted border border-green-500 h-[120px] picked-item"},[un(I,{width:"100","object-fit":"cover",src:Lo(l)(D)},null,8,["src"]),a.readonly?xr("",!0):(fo(),wr(O,{key:0,strong:"",circle:"",color:"black",style:{position:"absolute",top:"4px",right:"4px"},onClick:x=>c(W)},{icon:Na(()=>[un(ne,null,{default:Na(()=>[un(A,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"]))]))),128))]),_:1},8,["list"])]),_:1})):xr("",!0)]),_:1})]),_:1},8,["segmented"])]),un(re,{show:Lo(t),"onUpdate:show":ce[1]||(ce[1]=D=>zu(t)?t.value=D:null),title:Lo(o)("selectImage"),"upload-config":{folder:"images",limit:0,maxSize:0,baseUrl:Lo(n)?.apiUrl+"/media-files/upload",excludedExtensions:[]},"selection-multiple":"",onSubmit:fe},null,8,["show","title","upload-config"])])}}}),ju=Cn(Ru,[["__scopeId","data-v-721b1ffd"]]);var Zl=(u=>(u.EXTERNAL_LINK="external-link",u.PAGE_LINK="page-link",u.CONTENT_LINK="content-link",u))(Zl||{}),Dl=(u=>(u.NEWS_TAG="news-tag",u.NEWS_CATEGORY="news-category",u.NEWS_ARTICLE="news-article",u.CONTENT_MODEL="content-model",u))(Dl||{});const Ss=()=>{const{t:u}=ke(),{tr:e}=Xe(),n=(t,c)=>{if(c&&c.titleFieldName)return gi(t.contentModelData.index[c.titleFieldName])?e(t.contentModelData.index[c.titleFieldName]):t.contentModelData.index[c.titleFieldName];if(t.contentModelData&&t.contentModelData.index){const fe=["title","titre","name","nom","label","text","texte","slug","subject","sujet","summary","description","content","body"];for(const ae of fe)if(t.contentModelData.index[ae])return gi(t.contentModelData.index[ae])?e(t.contentModelData.index[ae]):t.contentModelData.index[ae]}return e(t.title)},a=[{label:u("contentModel"),value:Dl.CONTENT_MODEL,tagType:"warning"},{label:u("newsArticle"),value:Dl.NEWS_ARTICLE,tagType:"info"},{label:u("newsCategory"),value:Dl.NEWS_CATEGORY,tagType:"success"},{label:u("newsTag"),value:Dl.NEWS_TAG,tagType:"error"}];return{contentTypes:a,getContentTypeLabel:t=>a.find(c=>c.value===t)?.label,getContentTypeTagType:t=>a.find(c=>c.value===t)?.tagType||"default",extractItemTitle:n}};class Ku{id;contentModelId;title;contentModelData;data;isActive;createdAt;updatedAt;contentModel;relatedItems;relatedTo;constructor(e,n,a,o,l,t,c,fe){this.id=t,this.contentModelId=l,this.title=e,this.data=o,this.contentModelData=n,this.isActive=a,this.createdAt=c,this.updatedAt=fe}}const Yu=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["content-model","items"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/content-model/items",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Jc=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["content-model","items"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/content-model/items/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Gu=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["content-model","items"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/content-model/items/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},Hu=u=>{const{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return ut({queryKey:["content-model","items"],operation:"batch",isPaginated:!0,allowEmptyPages:!1,getItemId:l=>{if(l instanceof Ku){if(typeof l.id!="string"&&typeof l.id!="number")throw new Error("ContentModelItem ID must be string or number");return l.id}return`temp-${crypto.randomUUID()}`},getBatchData:l=>({type:"remove",ids:Object.keys(l).filter(t=>l[t])}),mutationFn:async l=>{a.start();const t=Object.keys(l).filter(c=>l[c]);try{for(const c of t)await e({method:"delete",url:`/content-model/items/${c}`});return t}finally{a.finish()}},mutationOptions:{onSuccess:()=>{o.success(n("success"))},onError:l=>{o.error(n("anErrorOccurred"))},...u}})},_i=()=>{const{request:u}=Pe();return Oa(async({query:e,contentModelId:n})=>{const a=await u({url:`/content-model-items/search/${e}/${n}`});return a.failure&&a.error?[]:a.result.data})},Zc=()=>{const{request:u}=Pe();return Oa(async e=>{const n=await u({url:"/content-model-items/list",method:"post",data:e});return n.failure&&n.error?[]:n.result.data})},{defineComponent:Wu}=await me("vue"),{unref:p,renderList:Qu,Fragment:Bo,openBlock:Je,createElementBlock:Ha,resolveComponent:Mi,createBlock:vt,createCommentVNode:_o,createVNode:pt,withCtx:ht,normalizeStyle:Cr,createElementVNode:Oo,toDisplayString:xa,createTextVNode:$a,isRef:Rn}=await me("vue"),Xu={key:4,class:"w-full"},Ju={key:5,class:"w-full"},Zu={key:23,class:"w-full flex flex-gap-8 items-center justify-start"},ep=["onClick"],tp={key:0,class:"w-full"},lp={id:"music",preload:"all",autoplay:"",controls:"",style:{width:"100%"}},ap=["src"],np={id:"video",autoplay:"",controls:"",style:{width:"100%"}},op=["src"],{defineComponent:sp,inject:rp,ref:Il,h:pn,watch:Ni,computed:Fo,onMounted:ip}=await me("vue"),{storeToRefs:cp}=await me("pinia"),dp=sp({name:"FormGenerator"}),up=Wu({...dp,props:{modelValue:{},useJson:{type:Boolean,default:!1},items:{},formStyle:{default:void 0},labelStyle:{default:void 0}},emits:["update:modelValue","update"],setup(u,{emit:e}){const n=u,a=e,{t:o,locale:l}=ke(),{tr:t,pickByTheme:c,fileUrl:fe,mergeArrays:ae}=Xe(),{extractItemTitle:ce}=Ss(),{data:A}=Ln(),ne=rp("appConfig");let O=[];if(typeof n.items=="string")try{O=JSON.parse(n.items)}catch{O=[]}else O=ie.cloneDeep(n.items);let I={};if(n.useJson)try{I=JSON.parse(n.modelValue)}catch{I={}}const d=Il(""),F=Il(ql()),te=Il(null),s=Il(n.useJson?I:n.modelValue),re={};O.forEach(_=>{_.key in s.value||(_.defaultValue?["gallery","news-articles","news-categories","icons","albums","checkbox","switch","range-slider"].includes(_.type)?s.value[_.key]=JSON.parse(_.defaultValue):_.type=="number"||_.type=="slider"?s.value[_.key]=parseFloat(_.defaultValue):_.type=="content-model-item"?s.value[_.key]=void 0:_.type=="content-model-items"?s.value[_.key]=[]:_.type=="list"?s.value[_.key]=_.defaultValue.split(",").map(E=>({value:E})):_.type=="i18n-list"?s.value[_.key]=_.defaultValue.split(",").map(E=>({value:`{ "fr": "${E}", "en": "${E}" }`})):s.value[_.key]=_.defaultValue:["text","textarea","editor","i18n-text","i18n-textarea","i18n-editor","image","icon","audio","video","color","gradient"].includes(_.type)?s.value[_.key]="":["number","slider"].includes(_.type)?s.value[_.key]=0:["checkbox","switch"].includes(_.type)?s.value[_.key]=!1:["gallery","news-articles","news-categories","content-model-items","icons","albums","list","i18n-list"].includes(_.type)?s.value[_.key]=[]:["range-slider"].includes(_.type)?s.value[_.key]=[0,100]:s.value[_.key]=void 0),_.required&&(re[_.key]=[{required:!0,message:o("fillRequired")}]),F.value=ql()});const D=["fullscreen","|","heading","|","addCreopseMedia","|","uploadImage","|","bold","italic","underline","strikethrough","code","subscript","superscript","selectAll","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","horizontalLine","blockQuote","bulletedList","numberedList","alignment","|","outdent","indent","|","link","insertTable","mediaEmbed","|","undo","redo"],W=_=>pn("span",{},{default:()=>t(_.label)});Ni(()=>s.value,_=>{const E=n.useJson?JSON.stringify(_):_,m=async()=>{if(O.length==0)return!0;let ue=!1;try{await te.value?.validate(Ie=>{ue=!Ie})}catch{ue=!1}return ue};a("update:modelValue",E),a("update",E,m)},{immediate:!0,deep:!0});const{isLightTheme:x}=cp(To()),N=Il(!1),q=Il(!1),H=Il(!1),K=Il(""),oe=Il(""),g=Il(!1),P=Il(!1),y=Il(""),h=Il(""),Y=Il(!1),U=_=>{window.open(_,"_blank")},R=Il(!1),J=Il([]),{data:T,isPending:C}=Ec();Ni(()=>T.value,_=>{const E=ie.cloneDeep(_);if(E){J.value=[];for(let m=0;m<E?.length;m++)switch(E[m].targetType){case Zl.EXTERNAL_LINK:J.value.findIndex(ue=>ue.url===E[m].url)===-1&&J.value.push(E[m]);break;case Zl.PAGE_LINK:J.value.findIndex(ue=>ue.path===E[m].path)===-1&&J.value.push(E[m]);break}}},{immediate:!0,deep:!0});const b=Il([]),z=Il([]),{mutateAsync:xe,isPending:M}=_i(),{mutateAsync:$,isPending:i}=Zc(),k=Fo(()=>M.value||i.value),Q=async(_,E)=>{if(!_.length){z.value=[];return}z.value=await xe({query:_,contentModelId:E})},B=Fo(()=>ae(b.value,z.value,"id")),ge=Il([]),De=Il([]),{mutateAsync:he,isPending:ve}=Kc(),{mutateAsync:gt,isPending:ct}=Yc(),we=Fo(()=>ct.value||ve.value),qe=async _=>{if(!_.length){De.value=[];return}De.value=await gt(_)},$e=Fo(()=>ae(ge.value,De.value,"id")),Qe=sd({enabled:!1}),L=rd({enabled:!1});ip(async()=>{O.find(_=>_.type==="news-categories"||_.type==="news-category")&&(Qe.refetch(),L.refetch());for(let _=0;_<O.length;_++)if(O[_].type==="news-articles"||O[_].type==="news-article"){const E=s.value[O[_].key],m=await he({ids:O[_].type==="news-articles"?E:[E]});m&&(ge.value=ae(ge.value,m,"id"))}else if(O[_].type==="content-model-items"||O[_].type==="content-model-item"){const E=s.value[O[_].key],m=await $({ids:O[_].type==="content-model-items"?E:[E]});m&&(b.value=ae(b.value,m,"id"))}});const V=_=>pn("span",{},{default:()=>`${t(_.name)}`}),w=_=>pn("span",{},{default:()=>`${t(_.title)}`}),et=_=>pn("span",{},{default:()=>`${t(_.name)}`}),Ee=_=>Fo(()=>pn("span",{},{default:()=>ce(_,A.value?.find(E=>E.id===_.contentModelId))})),st=({option:_})=>pn("div",{style:{display:"flex",alignItems:"center"}},[`${t(_.title)}`]),G=_=>pn("div",{style:{marginLeft:"12px",padding:"4px 0"}},[pn("div",{},{default:()=>`${t(_.title)}`}),pn("small",{},{default:()=>`${_.targetType==Zl.EXTERNAL_LINK?_.url:_.path}`})]);return(_,E)=>{const m=ll,ue=ma,Ie=jc,Et=ui,_a=On,jl=Ac,Kl=$l,Cl=xd,Ft=Dc,Yl=Ua,_l=Uo,ul=be,Ot=pe,Yt=Ye,Le=ju,Gl=Mi("IconPicker"),sn=Vu,wa=dr,ja=Mi("color-picker"),at=ur,_e=da,qt=ca,va=Rl,Ka=no;return Je(),Ha(Bo,null,[(Je(),vt(qt,{ref_key:"formRef",ref:te,key:p(F),model:p(s),rules:re,"show-label":!0,"require-mark-placement":"right-hanging","label-placement":"left","label-align":"left","label-width":"auto",size:"medium",style:Cr(n.formStyle)},{default:ht(()=>[(Je(!0),Ha(Bo,null,Qu(p(O),(r,Es)=>(Je(),vt(_e,{key:Es,label:p(t)(r.label),path:r.key,"label-style":n.labelStyle,"show-require-mark":r.required,class:"w-full"},{default:ht(()=>[r.type=="text"?(Je(),vt(m,{key:0,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),maxlength:r.settings?.maxLength||void 0,minlength:r.settings?.minLength||void 0,clearable:r.settings?.clearable||!1,type:"text",class:"w-full"},null,8,["value","onUpdate:value","placeholder","maxlength","minlength","clearable"])):r.type=="i18n-text"?(Je(),vt(ue,{key:1,modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),class:"w-full",sync:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])):r.type=="textarea"?(Je(),vt(m,{key:2,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),maxlength:r.settings?.maxLength||void 0,minlength:r.settings?.minLength||void 0,clearable:r.settings?.clearable||!1,type:"textarea",class:"w-full"},null,8,["value","onUpdate:value","placeholder","maxlength","minlength","clearable"])):r.type=="i18n-textarea"?(Je(),vt(ue,{key:3,modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),type:"textarea",class:"w-full",rows:3,sync:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])):r.type=="editor"?(Je(),Ha("div",Xu,[pt(Ie,{modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),"toolbar-items":D,"should-not-group-when-full":!1,"enable-upload":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):r.type=="i18n-editor"?(Je(),Ha("div",Ju,[pt(ue,{modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),type:"editor",class:"w-full",sync:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):r.type=="number"?(Je(),vt(Et,{key:6,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,max:r.settings?.max||void 0,min:r.settings?.min||void 0,step:r.settings?.step||1,clearable:r.settings?.clearable||!1,placeholder:p(t)(r.label),class:"w-full"},null,8,["value","onUpdate:value","max","min","step","clearable","placeholder"])):r.type=="checkbox"?(Je(),vt(_a,{key:7,checked:p(s)[r.key],"onUpdate:checked":Z=>p(s)[r.key]=Z,"checked-value":r.settings?.["checked-value"]||!0,"unchecked-value":r.settings?.["unchecked-value"]||!1,class:"w-full"},null,8,["checked","onUpdate:checked","checked-value","unchecked-value"])):r.type=="switch"?(Je(),vt(Kl,{key:8},{default:ht(()=>[pt(jl,{value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,"checked-value":r.settings?.["checked-value"]||!0,"unchecked-value":r.settings?.["unchecked-value"]||!1,class:"w-full"},null,8,["value","onUpdate:value","checked-value","unchecked-value"])]),_:2},1024)):r.type=="slider"?(Je(),vt(Cl,{key:9,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,min:r.settings?.min||0,max:r.settings?.max||100,step:r.settings?.step||1,class:"w-full"},null,8,["value","onUpdate:value","min","max","step"])):r.type=="range-slider"?(Je(),vt(Cl,{key:10,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,min:r.settings?.min||0,max:r.settings?.max||100,step:r.settings?.step||1,class:"w-full",range:""},null,8,["value","onUpdate:value","min","max","step"])):r.type=="date"?(Je(),vt(Ft,{key:11,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-MM-dd",format:r.settings?.format||"dd MMMM yyyy",type:"date",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","format","clearable"])):r.type=="daterange"?(Je(),vt(Ft,{key:12,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-MM-dd",format:r.settings?.format||"dd MMMM yyyy",type:"daterange",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","format","clearable"])):r.type=="datetime"?(Je(),vt(Ft,{key:13,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-MM-dd HH:mm:ss",format:r.settings?.format||"dd MMMM yyyy HH:mm:ss",type:"datetime",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","format","clearable"])):r.type=="datetimerange"?(Je(),vt(Ft,{key:14,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-MM-dd HH:mm:ss",format:r.settings?.format||"dd MMMM yyyy HH:mm:ss",type:"datetimerange",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","format","clearable"])):r.type=="year"?(Je(),vt(Ft,{key:15,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy",type:"year",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable"])):r.type=="yearrange"?(Je(),vt(Ft,{key:16,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy",type:"yearrange",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable"])):r.type=="month"?(Je(),vt(Ft,{key:17,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-MM",type:"month",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable"])):r.type=="monthrange"?(Je(),vt(Ft,{key:18,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-MM",type:"monthrange",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable"])):r.type=="quarter"?(Je(),vt(Ft,{key:19,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-Q",type:"quarter",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable"])):r.type=="quarterrange"?(Je(),vt(Ft,{key:20,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,"value-format":"yyyy-Q",type:"quarterrange",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable"])):r.type=="week"?(Je(),vt(Ft,{key:21,"formatted-value":p(s)[r.key],"onUpdate:formattedValue":Z=>p(s)[r.key]=Z,type:"week",clearable:r.settings?.clearable||!0,placeholder:p(o)("selectWeek"),class:"w-full"},null,8,["formatted-value","onUpdate:formattedValue","clearable","placeholder"])):r.type=="single-select"||r.type=="multi-select"?(Je(),vt(Yl,{key:22,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,options:(r.options||[])?.map(Z=>{if(r.type=="multi-select"&&r.settings&&p(s)[r.key]){const Hl=r.settings?.max||1/0;return{...Z,disabled:p(s)[r.key].length>=Hl&&!p(s)[r.key].includes(Z.value)}}return Z}),multiple:r.type=="multi-select",placeholder:p(t)(r.label),"render-label":W,"label-field":"label","value-field":"value",filterable:"",clearable:r.settings?.clearable||!0,"max-tag-count":r.settings?.["max-tag-count"]||void 0,class:"w-full"},null,8,["value","onUpdate:value","options","multiple","placeholder","clearable","max-tag-count"])):r.type=="image"?(Je(),Ha("div",Zu,[Oo("div",{class:"cursor-pointer w-[25%] h-[100px]",onClick:()=>{d.value=r.key,N.value=!0}},[p(s)[r.key]?(Je(),vt(_l,{key:0,"object-fit":"cover","preview-disabled":"",class:"p-1",style:Cr("border: 1px dashed "+p(c)("green","white")),src:p(fe)(p(s)[r.key]||"")},null,8,["style","src"])):(Je(),Ha("div",{key:1,class:"w-full h-full flex items-center justify-center",style:Cr("border: 1px dashed "+p(c)("green","white"))},[pt(Ot,{size:64},{default:ht(()=>[pt(ul,{icon:"carbon:image",class:"text-gray-400"})]),_:1})],4))],8,ep),p(s)[r.key]?(Je(),vt(Yt,{key:0,quaternary:"",onClick:()=>{d.value=r.key,p(s)[p(d)]=""}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:trash-can"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("clear")),1)]),_:2},1032,["onClick"])):_o("",!0)])):r.type=="gallery"?(Je(),vt(Le,{key:24,modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,"upload-folder":"images",title:p(t)(r.label)},null,8,["modelValue","onUpdate:modelValue","title"])):r.type=="news-category"||r.type=="news-categories"?(Je(),vt(Yl,{key:25,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,options:(p(Qe).data.value||[])?.map(Z=>{if(r.type=="news-categories"&&r.settings&&p(s)[r.key]){const Hl=r.settings?.max||1/0;return{...Z,disabled:p(s)[r.key].length>=Hl&&!p(s)[r.key].includes(Z.id)}}return Z}),multiple:r.type=="news-categories",placeholder:p(t)(r.label),"render-label":V,"label-field":"name","value-field":"id",filterable:"",clearable:r.settings?.clearable||!0,"max-tag-count":r.settings?.["max-tag-count"]||void 0,class:"w-full"},null,8,["value","onUpdate:value","options","multiple","placeholder","clearable","max-tag-count"])):r.type=="news-tag"||r.type=="news-tags"?(Je(),vt(Yl,{key:26,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,options:(p(L).data.value||[])?.map(Z=>{if(r.type=="news-tags"&&r.settings&&p(s)[r.key]){const Hl=r.settings?.max||1/0;return{...Z,disabled:p(s)[r.key].length>=Hl&&!p(s)[r.key].includes(Z.id)}}return Z}),multiple:r.type=="news-tags",placeholder:p(t)(r.label),"render-label":et,"label-field":"name","value-field":"id",filterable:"",clearable:r.settings?.clearable||!0,"max-tag-count":r.settings?.["max-tag-count"]||void 0,class:"w-full"},null,8,["value","onUpdate:value","options","multiple","placeholder","clearable","max-tag-count"])):r.type=="news-article"||r.type=="news-articles"?(Je(),vt(Yl,{key:27,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,options:(p($e)||[])?.map(Z=>{if(r.type=="news-articles"&&r.settings&&p(s)[r.key]){const Hl=r.settings?.max||1/0;return{...Z,disabled:p(s)[r.key].length>=Hl&&!p(s)[r.key].includes(Z.id)}}return Z}),multiple:r.type=="news-articles",placeholder:p(t)(r.label),"render-label":w,loading:p(we),"value-field":"id",filterable:"",clearable:r.settings?.clearable||!0,"max-tag-count":r.settings?.["max-tag-count"]||void 0,remote:"",class:"w-full",onSearch:qe},null,8,["value","onUpdate:value","options","multiple","placeholder","loading","clearable","max-tag-count"])):r.type=="icon"||r.type=="icons"?(Je(),vt(Gl,{key:28,modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),multiple:r.type=="icons","icons-list-placeholder":p(o)("enterIconNameInSearchBar"),"search-placeholder":p(o)("search"),"empty-text":p(o)("noIconsFound"),"icon-library":r.settings?.library||"all",clearable:r.settings?.clearable||!0},null,8,["modelValue","onUpdate:modelValue","placeholder","multiple","icons-list-placeholder","search-placeholder","empty-text","icon-library","clearable"])):r.type=="albums"?(Je(),vt(sn,{key:29,modelValue:p(s)[r.key],"onUpdate:modelValue":Z=>p(s)[r.key]=Z,"upload-folder":"albums",title:""},null,8,["modelValue","onUpdate:modelValue"])):r.type=="audio"?(Je(),vt(wa,{key:30},{default:ht(()=>[pt(Yt,{type:"primary",secondary:"",onClick:()=>{d.value=r.key,g.value=!0}},{default:ht(()=>[$a(xa(p(o)("select")),1)]),_:2},1032,["onClick"]),pt(m,{value:p(s)[r.key]?p(So)(p(s)[r.key]):"",placeholder:p(o)("audioname"),style:{width:"50%"},readonly:""},null,8,["value","placeholder"]),p(s)[r.key]?(Je(),Ha(Bo,{key:0},[pt(Yt,{type:"primary",ghost:"",onClick:()=>{y.value=p(t)(r.label),h.value=p(fe)(p(s)[r.key]),P.value=!0}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:play"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("play")),1)]),_:2},1032,["onClick"]),pt(Yt,{type:"primary",ghost:"",onClick:()=>{d.value=r.key,p(s)[p(d)]=""}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:trash-can"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("clear")),1)]),_:2},1032,["onClick"])],64)):_o("",!0)]),_:2},1024)):r.type=="video"?(Je(),vt(wa,{key:31},{default:ht(()=>[pt(Yt,{type:"primary",secondary:"",onClick:()=>{d.value=r.key,q.value=!0}},{default:ht(()=>[$a(xa(p(o)("select")),1)]),_:2},1032,["onClick"]),pt(m,{value:p(s)[r.key]?p(So)(p(s)[r.key]):"",placeholder:p(o)("videoname"),style:{width:"50%"},readonly:""},null,8,["value","placeholder"]),p(s)[r.key]?(Je(),Ha(Bo,{key:0},[pt(Yt,{type:"primary",ghost:"",onClick:()=>{K.value=p(t)(r.label),oe.value=p(fe)(p(s)[r.key]),H.value=!0}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:play"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("play")),1)]),_:2},1032,["onClick"]),pt(Yt,{type:"primary",ghost:"",onClick:()=>{d.value=r.key,p(s)[p(d)]=""}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:trash-can"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("clear")),1)]),_:2},1032,["onClick"])],64)):_o("",!0)]),_:2},1024)):r.type=="document"?(Je(),vt(wa,{key:32},{default:ht(()=>[pt(Yt,{type:"primary",secondary:"",onClick:()=>{d.value=r.key,Y.value=!0}},{default:ht(()=>[$a(xa(p(o)("select")),1)]),_:2},1032,["onClick"]),pt(m,{value:p(s)[r.key]?p(So)(p(s)[r.key]):"",placeholder:p(o)("docname"),style:{width:"50%"},readonly:""},null,8,["value","placeholder"]),p(s)[r.key]?(Je(),Ha(Bo,{key:0},[pt(Yt,{type:"primary",ghost:"",onClick:Z=>U(p(fe)(p(s)[r.key]))},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"mdi:open-in-new"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("open")),1)]),_:2},1032,["onClick"]),pt(Yt,{type:"primary",ghost:"",onClick:()=>{d.value=r.key,p(s)[p(d)]=""}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:trash-can"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("clear")),1)]),_:2},1032,["onClick"])],64)):_o("",!0)]),_:2},1024)):r.type=="file"?(Je(),vt(wa,{key:33},{default:ht(()=>[pt(Yt,{type:"primary",secondary:"",onClick:()=>{d.value=r.key,R.value=!0}},{default:ht(()=>[$a(xa(p(o)("select")),1)]),_:2},1032,["onClick"]),pt(m,{value:p(s)[r.key]?p(So)(p(s)[r.key]):"",placeholder:p(o)("filename"),style:{width:"50%"},readonly:""},null,8,["value","placeholder"]),p(s)[r.key]?(Je(),vt(Yt,{key:0,type:"primary",ghost:"",onClick:()=>{d.value=r.key,p(s)[p(d)]=""}},{icon:ht(()=>[pt(Ot,null,{default:ht(()=>[pt(ul,{icon:"carbon:trash-can"})]),_:1})]),default:ht(()=>[$a(" "+xa(p(o)("clear")),1)]),_:2},1032,["onClick"])):_o("",!0)]),_:2},1024)):r.type=="color"||r.type=="gradient"?(Je(),vt(ja,{key:34,"pure-color":p(s)[r.key],"onUpdate:pureColor":Z=>p(s)[r.key]=Z,"default-pure-color":"#00000000","picker-type":"chrome","use-type":r.type=="color"?"pure":"gradient",format:r.type=="color"?"hex":"rgb",shape:"circle","z-index":5e3,theme:p(x)?"white":"black",lang:p(l)},null,8,["pure-color","onUpdate:pureColor","use-type","format","theme","lang"])):r.type=="content-model-item"||r.type=="content-model-items"?(Je(),vt(Yl,{key:35,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,options:(p(B)||[])?.map(Z=>{if(r.type=="content-model-items"&&r.settings&&p(s)[r.key]){const Hl=r.settings?.max||1/0;return{...Z,disabled:p(s)[r.key].length>=Hl&&!p(s)[r.key].includes(Z.id)}}return Z}),multiple:r.type=="content-model-items",placeholder:p(t)(r.label),"render-label":Z=>Ee(Z).value,loading:p(k),"value-field":"id",filterable:"",clearable:r.settings?.clearable||!0,"max-tag-count":r.settings?.["max-tag-count"]||void 0,remote:"",class:"w-full",onSearch:Z=>Q(Z,r.defaultValue)},null,8,["value","onUpdate:value","options","multiple","placeholder","render-label","loading","clearable","max-tag-count","onSearch"])):r.type=="menu-item-link"?(Je(),vt(Yl,{key:36,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,options:p(J)||[],placeholder:p(t)(r.label),"render-label":G,"render-tag":st,loading:p(C),"label-field":"title","value-field":"id",filterable:"",clearable:r.settings?.clearable||!0,class:"w-full"},null,8,["value","onUpdate:value","options","placeholder","loading","clearable"])):r.type=="list"?(Je(),vt(at,{key:37,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),max:r.settings?.max||void 0,min:r.settings?.min||void 0,"on-create":()=>({value:""}),"show-sort-button":""},{default:ht(({value:Z})=>[r.settings?.type=="editor"?(Je(),Ha("div",tp,[pt(Ie,{modelValue:Z.value,"onUpdate:modelValue":Hl=>Z.value=Hl,"toolbar-items":D,"should-not-group-when-full":!1,"enable-upload":""},null,8,["modelValue","onUpdate:modelValue"])])):(Je(),vt(m,{key:1,value:Z.value,"onUpdate:value":Hl=>Z.value=Hl,type:r.settings?.type||"text",class:"w-full"},null,8,["value","onUpdate:value","type"]))]),_:2},1032,["value","onUpdate:value","placeholder","max","min"])):r.type=="i18n-list"?(Je(),vt(at,{key:38,value:p(s)[r.key],"onUpdate:value":Z=>p(s)[r.key]=Z,placeholder:p(t)(r.label),max:r.settings?.max||void 0,min:r.settings?.min||void 0,"on-create":()=>({value:""}),"show-sort-button":""},{default:ht(({value:Z})=>[pt(ue,{modelValue:Z.value,"onUpdate:modelValue":Hl=>Z.value=Hl,type:r.settings?.type||"text",class:"w-full",sync:""},null,8,["modelValue","onUpdate:modelValue","type"])]),_:2},1032,["value","onUpdate:value","placeholder","max","min"])):_o("",!0)]),_:2},1032,["label","path","label-style","show-require-mark"]))),128))]),_:1},8,["model","style"])),pt(va,{show:p(P),"onUpdate:show":E[0]||(E[0]=r=>Rn(P)?P.value=r:null),preset:"card",style:{width:"500px"},bordered:!1,"mask-closable":!1,"close-on-esc":!1,title:p(y)},{default:ht(()=>[Oo("audio",lp,[Oo("source",{src:p(h)},null,8,ap)])]),_:1},8,["show","title"]),pt(va,{show:p(H),"onUpdate:show":E[1]||(E[1]=r=>Rn(H)?H.value=r:null),preset:"card",style:{width:"600px"},bordered:!1,"mask-closable":!1,"close-on-esc":!1,title:p(K)},{default:ht(()=>[Oo("video",np,[Oo("source",{src:p(oe)},null,8,op)])]),_:1},8,["show","title"]),pt(Ka,{show:p(N),"onUpdate:show":E[2]||(E[2]=r=>Rn(N)?N.value=r:null),title:p(o)("selectImage"),"display-images":!0,"display-videos":!1,"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"images",limit:0,maxSize:0,baseUrl:p(ne)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:E[3]||(E[3]=r=>{p(s)[p(d)]=r,N.value=!1})},null,8,["show","title","upload-config"]),pt(Ka,{show:p(q),"onUpdate:show":E[4]||(E[4]=r=>Rn(q)?q.value=r:null),title:p(o)("selectVideo"),"display-images":!1,"display-videos":!0,"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"videos",limit:0,maxSize:0,baseUrl:p(ne)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:E[5]||(E[5]=r=>{p(s)[p(d)]=r,q.value=!1})},null,8,["show","title","upload-config"]),pt(Ka,{show:p(g),"onUpdate:show":E[6]||(E[6]=r=>Rn(g)?g.value=r:null),title:p(o)("selectAudio"),"display-images":!1,"display-videos":!1,"display-audios":!0,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"audios",limit:0,maxSize:0,baseUrl:p(ne)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:E[7]||(E[7]=r=>{p(s)[p(d)]=r,g.value=!1})},null,8,["show","title","upload-config"]),pt(Ka,{show:p(Y),"onUpdate:show":E[8]||(E[8]=r=>Rn(Y)?Y.value=r:null),title:p(o)("selectDocument"),"display-images":!1,"display-videos":!1,"display-audios":!1,"display-documents":!0,"display-other-types":!1,"upload-config":{folder:"images",limit:0,maxSize:0,baseUrl:p(ne)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:E[9]||(E[9]=r=>{p(s)[p(d)]=r,Y.value=!1})},null,8,["show","title","upload-config"]),pt(Ka,{show:p(R),"onUpdate:show":E[10]||(E[10]=r=>Rn(R)?R.value=r:null),title:p(o)("selectFile"),"upload-config":{folder:"files",limit:0,maxSize:0,baseUrl:p(ne)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:E[11]||(E[11]=r=>{p(s)[p(d)]=r,R.value=!1})},null,8,["show","title","upload-config"])],64)}}}),Vs=Cn(up,[["__scopeId","data-v-e0ec8f81"]]),{defineComponent:pp}=await me("vue"),{unref:Vt,resolveComponent:sh,createVNode:zl,withCtx:Gt,openBlock:Al,createBlock:Ta,createCommentVNode:Ti,renderList:Ps,Fragment:vo,createElementBlock:jn,toDisplayString:yo,createTextVNode:qo,isRef:mp,createSlots:fp,createElementVNode:Ir,vShow:Vr,withDirectives:Sr,Transition:Er}=await me("vue"),_p={key:0},vp={class:"absolute top-14 left-0 right-0 z-10 px-7 pt-2 pb-1 w-full bg-white dark:bg-black"},{ref:yp,inject:In,watch:gp,reactive:Kn}=await me("vue"),hp=pp({__name:"SectionDetails",props:{slug:{},linkId:{},pageId:{}},setup(u){const e=u,{t:n}=ke(),{tr:a,editKeysToCamelCase:o}=Xe(),l=yp("index"),t=In("formValueValidate1"),c=In("formValueValidate2"),fe=In("formValueValidate3"),ae=In("initialSettings"),ce=In("initialData"),A=In("settings"),ne=In("data"),O=In("refreshKey"),{data:I,isPending:d}=id({slug:e.slug,linkId:e.linkId,pageId:e.pageId});return gp(()=>I?.value,F=>{const te=ie.cloneDeep(F),s=te?.pages?.length?te?.pages[0].pivot:null;te&&ne&&s&&(ie.isObject(s?.data)&&si(s?.data)?ne.value=Kn(s?.data):ne.value=Kn({}),ie.forIn(o(te.dataStructure),(re,D)=>{(!ne.value[D]||Array.isArray(ne.value[D])&&ne.value[D].length==0)&&(D==="index"?ne.value[D]=Kn({}):ne.value[D]=Kn([]))})),ce&&ne&&(ce.value=ie.cloneDeep(ne.value)),te&&A&&(ie.isObject(s?.settings)&&si(s?.settings)?A.value=Kn(s?.settings):A.value=Kn({}),ie.forIn(o(te.settingsStructure),(re,D)=>{A.value[D]||(A.value[D]=Kn({}))})),ae&&A&&(ae.value=ie.cloneDeep(A.value)),O&&(O.value=ql())},{immediate:!0,deep:!0}),(F,te)=>{const s=oo,re=$l,D=be,W=pe,x=Pc,N=Ye,q=pi,H=hl,K=qa,oe=Fa,g=mi;return Vt(d)?(Al(),Ta(re,{key:0,align:"center",justify:"center",class:"min-h-[50vh]"},{default:Gt(()=>[zl(s)]),_:1})):(Al(),jn(vo,{key:1},[Vt(o)(Vt(I)?.dataStructure)?(Al(),jn("section",_p,[Ir("div",vp,[zl(q,{value:Vt(l),"onUpdate:value":te[1]||(te[1]=P=>mp(l)?l.value=P:null),type:"card",size:"small"},fp({default:Gt(()=>[(Al(!0),jn(vo,null,Ps(Vt(o)(Vt(I)?.dataStructure),(P,y)=>(Al(),Ta(x,{key:y,name:String(y)},{default:Gt(()=>[String(y)==="index"?(Al(),Ta(W,{key:0,class:"mr-1"},{default:Gt(()=>[zl(D,{icon:"carbon:types"})]),_:1})):Ti("",!0),qo(" "+yo(String(y)==="index"?Vt(n)("general"):Vt(a)(P.title)),1)]),_:2},1032,["name"]))),128)),zl(x,{name:"_settings"},{default:Gt(()=>[zl(W,{class:"mr-1"},{default:Gt(()=>[zl(D,{icon:"carbon:settings"})]),_:1}),qo(" "+yo(Vt(n)("settings")),1)]),_:1})]),_:2},[Vt(l)!=="index"?{name:"suffix",fn:Gt(()=>[zl(N,{quaternary:"",size:"small",onClick:te[0]||(te[0]=()=>Vt(ne)[Vt(l)].push({}))},{icon:Gt(()=>[zl(W,null,{default:Gt(()=>[zl(D,{icon:"carbon:add-alt"})]),_:1})]),default:Gt(()=>[qo(" "+yo(Vt(n)("add")),1)]),_:1})]),key:"0"}:void 0]),1032,["value"])]),zl(oe,{appear:"",name:"slide-fade"},{default:Gt(()=>[Ir("section",null,[(Al(!0),jn(vo,null,Ps(Vt(o)(Vt(I)?.dataStructure),(P,y)=>(Al(),jn(vo,{key:y},[String(y)==="index"?(Al(),Ta(Er,{key:0,name:"slide-fade",mode:"out-in"},{default:Gt(()=>[Sr(zl(H,{size:"small",class:"mb-2",embedded:""},{default:Gt(()=>[(Al(),Ta(Vs,{key:`${Vt(O)}-${y}-form-1`,modelValue:Vt(ne)[y],"onUpdate:modelValue":h=>Vt(ne)[y]=h,items:P,onUpdate:(h,Y)=>{t.value=Y}},null,8,["modelValue","onUpdate:modelValue","items","onUpdate"]))]),_:2},1536),[[Vr,Vt(l)==="index"]])]),_:2},1024)):(Al(),Ta(Er,{key:1,name:"slide-fade",mode:"out-in"},{default:Gt(()=>[Sr(zl(H,{size:"small",class:"mb-2",embedded:""},{default:Gt(()=>[(Al(!0),jn(vo,null,Ps(Vt(ne)[y],(h,Y)=>(Al(),Ta(H,{key:Y,size:"small",class:"mb-2"},{header:Gt(()=>[zl(K,{size:"medium",type:"info"},{default:Gt(()=>[qo(yo(String(Y+1)),1)]),_:2},1024)]),"header-extra":Gt(()=>[zl(N,{secondary:"",type:"error",size:"small",onClick:()=>Vt(ne)[y].splice(Y,1)},{icon:Gt(()=>[zl(W,null,{default:Gt(()=>[zl(D,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),default:Gt(()=>[(Al(),Ta(Vs,{key:`${Vt(O)}-${y}-${Y}-form-2`,modelValue:Vt(ne)[y][Y],"onUpdate:modelValue":U=>Vt(ne)[y][Y]=U,items:P.items,onUpdate:(U,R)=>{c.value=R}},null,8,["modelValue","onUpdate:modelValue","items","onUpdate"]))]),_:2},1024))),128))]),_:2},1536),[[Vr,Vt(l)===String(y)]])]),_:2},1024))],64))),128)),zl(Er,{name:"slide-fade",mode:"out-in"},{default:Gt(()=>[Sr(zl(H,{size:"small",class:"mb-2",embedded:""},{default:Gt(()=>[(Al(!0),jn(vo,null,Ps(Vt(o)(Vt(I)?.settingsStructure),(P,y)=>(Al(),Ta(H,{key:y,size:"small",class:"mb-2"},{header:Gt(()=>[Ir("span",null,yo(Vt(a)(P.title)),1)]),default:Gt(()=>[Vt(A)[y]?(Al(),Ta(Vs,{key:`${Vt(O)}-${y}-form-3`,modelValue:Vt(A)[y],"onUpdate:modelValue":h=>Vt(A)[y]=h,items:P.items,onUpdate:(h,Y)=>{fe.value=Y}},null,8,["modelValue","onUpdate:modelValue","items","onUpdate"])):Ti("",!0)]),_:2},1024))),128))]),_:1},512),[[Vr,Vt(l)==="_settings"]])]),_:1})])]),_:1})])):(Al(),Ta(g,{key:1,type:"warning","show-icon":""},{default:Gt(()=>[qo(yo(Vt(n)("noDataStructure")),1)]),_:1}))],64))}}}),bp=Cn(hp,[["__scopeId","data-v-5b0abd29"]]),kp=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["pages"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/pages",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},ed=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["pages"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/pages/${t.slug}`,data:Xt(t,["id","slug"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},wp=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["pages"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({slug:l})=>{o.start();const t=await e({method:"delete",url:`/pages/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},xp=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["sections"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/sections",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},td=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["sections"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/sections/${t.slug}`,data:Xt(t,["id","slug"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},$p=()=>{const{request:u}=Pe(),{t:e}=ke(),n=Gc(),a=He(),o=Oe();return Oa(async l=>{const t=await u({url:`/sections/${l.slug}/data-source-page`,method:"put",data:l.data});if(t.failure&&t.error)throw new Error(t.error);return t.result.data},{onMutate:()=>a.start(),onSettled:()=>a.finish(),onSuccess:(l,t)=>{n.invalidateQueries({queryKey:["pages"]}),n.invalidateQueries({queryKey:["sections"]}),o.success(e("success"))},onError:(l,t)=>{o.error(e("unableToUpdateSettings"))}})},Cp=()=>{const{request:u}=Pe(),{t:e}=ke(),n=Gc(),a=He(),o=Oe();return Oa(async l=>{const t=await u({url:`/sections/${l.slug}/duplicate`,method:"put",data:l.data});if(t.failure&&t.error)throw new Error(t.error);return t.result.data},{onMutate:()=>a.start(),onSettled:()=>a.finish(),onSuccess:(l,t)=>{n.invalidateQueries({queryKey:["pages"]}),n.invalidateQueries({queryKey:["sections"]}),o.success(e("success"))},onError:(l,t)=>{o.error(e("unableToUpdateSettings"))}})},{defineComponent:Ip}=await me("vue"),{unref:Se,resolveComponent:Vp,createVNode:Ve,withCtx:Te,toDisplayString:Vl,createTextVNode:na,normalizeClass:go,openBlock:al,createBlock:Ca,createCommentVNode:Ls,vShow:Sp,withDirectives:Ep,createElementVNode:Pl,renderList:Bs,Fragment:Ro,createElementBlock:Ia,withModifiers:Di,isRef:zi}=await me("vue"),Up={class:"absolute top-0 left-0 z-10 w-full"},Mp={class:"flex items-center justify-between ml-1 mr-2.5"},Np={key:0},Tp={key:1},Dp={key:0},zp={class:"flex items-center"},Ap={class:"text-base"},Pp={class:"absolute top-[-10px] right-[-10px] z-[10]"},Lp={class:"flex items-center justify-center cursor-pointer gap-2"},Bp={key:1},Op={class:"mt-4"},Fp={key:2,class:"mt-2 text-xs"},qp={class:"my-8"},Rp={class:"flex items-center justify-between"},jp={class:"text-base"},Kp={class:"my-8"},Yp={class:"flex items-center justify-between"},Gp={class:"text-base"},{ref:Ll,watch:Hp,computed:jo,provide:Vn}=await me("vue"),Wp=Ip({__name:"index",props:{slug:{},openFormModal:{type:Function}},emits:["delete"],setup(u,{emit:e}){const n=ea(),{t:a}=ke(),o=u,l=e,t=Ll(ql()),c=Ll({}),fe=Ll({}),ae=Ll({}),ce=Ll({}),A=Ll(),ne=Ll(),O=Ll(),I=Ll([]),d=Ll([]),F=Ll({}),te=Ll({}),{tr:s,pickByTheme:re,editKeysToCamelCase:D}=Xe(),{data:W}=ii(),{data:x,isPending:N}=cd(o.slug),{mutate:q,isPending:H}=ed(),{mutate:K,isPending:oe}=wp(),{mutate:g,isPending:P}=$p(),{mutate:y,isPending:h}=td(),{mutate:Y,isPending:U}=Cp();Hp(()=>x.value,G=>{const _=ie.cloneDeep(G);if(_&&Array.isArray(_?.sections)){const E=_.sections;if(Array.isArray(_?.sectionsOrder)){I.value=[];for(const m of _.sectionsOrder)if(m){const ue=E.find(Ie=>`${Ie.slug}__${Ie.pivot?.linkId}`===m);ue&&I.value.push(ue)}for(const m of E)I.value.map(ue=>`${ue.slug}__${ue.pivot?.linkId}`).includes(`${m.slug}__${m.pivot?.linkId}`)||I.value.push(m)}else I.value=ie.cloneDeep(E);if(Array.isArray(_.sectionsDisabled))for(const m of _.sections)m&&(F.value[`${m.slug}__${m.pivot?.linkId}`]=!_.sectionsDisabled.includes(`${m.slug}__${m.pivot?.linkId}`));else for(const m of _.sections)m&&(F.value[`${m.slug}__${m.pivot?.linkId}`]=!0)}te.value=ie.cloneDeep(F.value),d.value=ie.cloneDeep(I.value),t.value=ql()},{immediate:!0,deep:!0});const R=jo(()=>ie.isEqual(c.value,ae.value)&&ie.isEqual(fe.value,ce.value)&&ie.isEqual(I.value,d.value)&&ie.isEqual(F.value,te.value)),J=async()=>{const G=A.value&&await A.value(),_=ne.value&&await ne.value(),E=O.value&&await O.value(),m=async()=>{L.value&&y({slug:L.value.slug,dataSourceLinkId:L.value.pivot?.dataSourceLinkId,dataSourcePageId:L.value.pivot?.dataSourcePageId,settings:fe.value,data:c.value}),q({slug:o.slug,sectionsOrder:I.value.map(ue=>`${ue.slug}__${ue.pivot?.linkId}`),sectionsDisabled:Object.keys(F.value).filter(ue=>!F.value[ue])})};!L.value||(!A.value||G)&&(!ne.value||_)&&(!O.value||E)?await m():n.warning({title:a("confirm"),content:a("mandatoryFieldsNotFilledInConfirmation"),positiveText:a("yes"),negativeText:a("cancel"),onPositiveClick:async()=>{await m()}})},T=G=>{const m=I.value.filter(ue=>ue.id===G.id).map(ue=>ue.pivot?.createdAt||ue.pivot?.updatedAt||"").sort((ue,Ie)=>new Date(ue).getTime()-new Date(Ie).getTime()).indexOf(G.pivot?.createdAt||G.pivot?.updatedAt||"");return G.pivot?.linkId=="default"?s(G.title):s(G.title)+" ("+(m+1)+")"},C=async G=>{n.warning({title:a("confirm"),content:a("confirmDeletePage"),positiveText:a("yes"),negativeText:a("no"),onPositiveClick:async()=>{G.id&&K({id:G.id,slug:G.slug},{onSuccess:()=>{l("delete",x.value)}})}})},b=Ll([]),z=Ll(!1),xe=()=>{b.value=[],I.value.forEach(G=>{G.id&&b.value.push(G.id)}),z.value=!0},M=G=>{G.id&&(b.value.includes(G.id)?b.value=b.value.filter(_=>_!==G.id):b.value.push(G.id))},$=G=>jo({get:()=>G.id?b.value.includes(G.id):!1,set:_=>{G.id&&(_?b.value=b.value.filter(E=>E!==G.id):b.value.includes(G.id)||b.value.push(G.id))}}),i=async()=>{q({slug:o.slug,sectionsIds:b.value})},k=Ll(0),Q=Ll([]),B=Ll(!1),ge=G=>{k.value=G,Q.value=[],B.value=!0},De=G=>{G.id&&(Q.value.includes(G.id)?Q.value=Q.value.filter(_=>_!==G.id):Q.value.push(G.id))},he=G=>jo({get:()=>G.id?Q.value.includes(G.id):!1,set:_=>{G.id&&(_?Q.value=Q.value.filter(E=>E!==G.id):Q.value.includes(G.id)||Q.value.push(G.id))}}),ve=async()=>{const G=I.value.map(m=>`${m.slug}__${m.pivot?.linkId}`),_=Q.value.map(m=>{const ue=W.value?.find(Ie=>Ie.id===m);return`${ue?.slug}__${ue?.pivot?.linkId}`}),E=[...G.slice(0,k.value),..._,...G.slice(k.value)];q({slug:o.slug,sectionsIds:[...I.value.map(m=>m.id),...Q.value],sectionsOrder:E})},gt=jo(()=>(W.value||[]).filter(G=>!I.value.find(_=>_.id===G.id))),ct=G=>G.map(_=>{const ue=G.filter(Ie=>Ie.id===_.id).map(Ie=>Ie.pivot?.createdAt||Ie.pivot?.updatedAt||"").sort((Ie,Et)=>new Date(Ie).getTime()-new Date(Et).getTime()).indexOf(_.pivot?.createdAt||_.pivot?.updatedAt||"");return{label:(x.value?.id==_.id?a("currentPage"):s(_.title))+(_.pivot?.linkId!="default"?" ("+(ue+1)+")":""),value:_.id+"__"+_.pivot?.linkId}}),we=async(G,_)=>{const E=_?.split("__")||[],m=E.length?E[0]:null,ue=E.length>1?E[1]:null;R.value?g({slug:G.slug,data:{pageId:x.value?.id,linkId:G.pivot?.linkId,sourcePageId:m,sourceLinkId:ue}}):n.warning({title:a("confirm"),content:a("confirmUpdateDataSourcePage"),positiveText:a("yes"),negativeText:a("cancel"),onPositiveClick:()=>g({slug:G.slug,data:{pageId:x.value?.id,linkId:G.pivot?.linkId,sourcePageId:m,sourceLinkId:ue}})})},qe=G=>{n.warning({title:a("confirm"),content:a("confirmRemoveSection"),positiveText:a("remove"),negativeText:a("cancel"),onPositiveClick:()=>q({slug:o.slug,removedSectionsIds:[{id:G.id,linkId:G.pivot?.linkId}]})})},$e=G=>{n.warning({title:a("confirm"),content:a("confirmDuplicateSection"),positiveText:a("duplicate"),negativeText:a("cancel"),onPositiveClick:()=>Y({slug:G.slug,data:{pageId:x.value?.id,linkId:G.pivot?.linkId}})})},Qe=G=>{n.warning({title:a("confirm"),content:a("confirmFillInFakeData"),positiveText:a("generate"),negativeText:a("cancel"),onPositiveClick:()=>{const _={};ie.forIn(D(G?.dataStructure),(E,m)=>{if(m==="index"){_[m]={};for(const ue of E)_.index[ue.key]=Ci(ue.type)}else{_[m]=[];for(let ue=0;ue<3;ue++){const Ie={};for(const Et of E.items)Ie[Et.key]=Ci(Et.type);_[m].push(Ie)}}}),y({slug:G.slug,dataSourceLinkId:G.pivot?.dataSourceLinkId,dataSourcePageId:G.pivot?.dataSourcePageId,data:_})}})},L=Ll(null),V=G=>{L.value=G},w=()=>{L.value&&(L.value=null)},{getSettingValue:et}=dd(),Ee=()=>{const G=`${ud(pd())}/${(et("basePath")||"creopse")+Uc.VISUAL_EDITOR.PATH}?page=${x.value?.slug}`;md(G,[],{target:"_blank",method:"GET"})},st=jo(()=>H.value||oe.value||h.value||P.value||U.value);return Vn("refreshKey",t),Vn("formValueValidate1",A),Vn("formValueValidate2",ne),Vn("formValueValidate3",O),Vn("initialSettings",ce),Vn("initialData",ae),Vn("settings",fe),Vn("data",c),(G,_)=>{const E=be,m=pe,ue=Ye,Ie=Ra,Et=$l,_a=Ba,jl=Cd,Kl=Fa,Cl=$d,Ft=hl,Yl=Lc,_l=On,ul=qa,Ot=Ua,Yt=ro,Le=so,Gl=Vp("Draggable"),sn=Ea,wa=Sa,ja=Rl;return al(),Ia(Ro,null,[Ve(_a,{to:"#alt-action"},{default:Te(()=>[Ve(Et,{align:"center"},{default:Te(()=>[Ve(ue,{secondary:"",type:"error",disabled:Se(st),onClick:_[0]||(_[0]=at=>Se(x)?C(Se(x)):null)},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:trash-can"})]),_:1})]),default:Te(()=>[na(" "+Vl(Se(a)("delete")),1)]),_:1},8,["disabled"]),Ve(ue,{secondary:"",type:"info",disabled:Se(st),onClick:_[1]||(_[1]=at=>Se(x)?G.openFormModal(Se(x)):null)},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:edit"})]),_:1})]),default:Te(()=>[na(" "+Vl(Se(a)("editPage")),1)]),_:1},8,["disabled"]),Ve(Ie,{vertical:"",class:go(Se(re)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),Ve(ue,{secondary:"",type:"primary",loading:Se(st),disabled:Se(R),onClick:_[2]||(_[2]=at=>J())},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:save"})]),_:1})]),default:Te(()=>[na(" "+Vl(Se(a)("save")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),Pl("section",Up,[Ve(Ft,{size:"small",bordered:!1,embedded:"",class:"!rounded-none"},{default:Te(()=>[Pl("div",Mp,[Ve(Cl,null,{default:Te(()=>[Ve(jl,{onClick:_[3]||(_[3]=at=>w())},{default:Te(()=>[Ve(m,{class:"mr-1"},{default:Te(()=>[Ve(E,{icon:"carbon:document"})]),_:1}),na(" "+Vl(Se(s)(Se(x)?.title)),1)]),_:1}),Ve(Kl,{appear:"",name:"slide-fade"},{default:Te(()=>[Se(L)?(al(),Ca(jl,{key:0},{default:Te(()=>[na(Vl(T(Se(L))),1)]),_:1})):Ls("",!0)]),_:1})]),_:1}),Ve(Et,null,{default:Te(()=>[Ep(Ve(ue,{onClick:_[4]||(_[4]=at=>Ee()),size:"small",secondary:"",type:"success"},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:view"})]),_:1})]),default:Te(()=>[na(" "+Vl(Se(a)("openVisualEditor")),1)]),_:1},512),[[Sp,!1]]),Se(L)?(al(),Ca(ue,{key:0,onClick:_[5]||(_[5]=at=>w()),size:"small",secondary:"",type:"warning",title:Se(a)("exit")},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:exit"})]),_:1})]),_:1},8,["title"])):Ls("",!0)]),_:1})])]),_:1})]),Pl("div",{class:go(`${Se(L)?"h-[90px]":"h-[50px]"}`)},null,2),Se(L)?(al(),Ca(bp,{key:0,"page-id":Se(x)?.id,slug:Se(L)?.slug,"link-id":Se(L)?.pivot?.dataSourceLinkId},null,8,["page-id","slug","link-id"])):(al(),Ca(Kl,{key:1,appear:"",name:"slide-fade"},{default:Te(()=>[Pl("section",null,[Se(N)?(al(),Ia("section",Np,[(al(),Ia(Ro,null,Bs(7,at=>Ve(Yl,{key:at,height:"50px",width:"100%",sharp:!1,class:"mb-2"})),64))])):(al(),Ia("section",Tp,[Se(x)&&Array.isArray(Se(x).sections)&&Se(x).sections.length?(al(),Ia("section",Dp,[Ve(Gl,{list:Se(I)},{default:Te(()=>[(al(!0),Ia(Ro,null,Bs(Se(I),(at,_e)=>(al(),Ia("section",{key:at.id},[Ve(Ft,{hoverable:"",embedded:"",size:"small",class:"my-1"},{default:Te(()=>[Ve(Le,{"default-expanded-names":[],"display-directive":"show"},{"header-extra":Te(({collapsed:qt})=>[Ve(Et,{align:"center",justify:"space-between"},{default:Te(()=>[Ve(ue,{secondary:"",type:"primary",size:"small",onClick:Di(va=>V(at),["stop"])},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:archive"})]),_:1})]),default:Te(()=>[na(" "+Vl(Se(a)("dataAndSettings")),1)]),_:2},1032,["onClick"]),Ve(m,null,{default:Te(()=>[qt?(al(),Ca(E,{key:0,icon:"fa-solid:chevron-left"})):(al(),Ca(E,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),_:2},1024)]),arrow:Te(()=>_[13]||(_[13]=[Pl("span",null,null,-1)])),default:Te(()=>[Ve(Yt,{name:"1"},{header:Te(()=>[Pl("div",zp,[Ve(m,{size:"21",class:"cursor-move mr-4"},{default:Te(()=>[Ve(E,{icon:"fa-solid:grip-lines"})]),_:1}),Ve(_l,{checked:Se(F)[`${at.slug}__${at.pivot?.linkId}`],"onUpdate:checked":qt=>Se(F)[`${at.slug}__${at.pivot?.linkId}`]=qt,size:"small",class:"mr-4",onClick:_[6]||(_[6]=Di(()=>{},["stop"]))},{default:Te(()=>[na(Vl(Se(a)("display")),1)]),_:2},1032,["checked","onUpdate:checked"]),Ve(ul,{size:"small",type:"info"},{default:Te(()=>[na(Vl(_e+1),1)]),_:2},1024),Ve(Ie,{vertical:"",class:go(Se(re)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),Pl("span",Ap,Vl(T(at)),1)])]),default:Te(()=>[Ve(Et,null,{default:Te(()=>[Ve(ue,{size:"small",type:"error",secondary:"",onClick:qt=>qe(at)},{default:Te(()=>[Ve(m,{size:"18",class:"mr-1"},{default:Te(()=>[Ve(E,{icon:"carbon:close"})]),_:1}),na(" "+Vl(Se(a)("removeSection")),1)]),_:2},1032,["onClick"]),Ve(ue,{size:"small",type:"warning",secondary:"",onClick:qt=>$e(at)},{default:Te(()=>[Ve(m,{size:"18",class:"mr-1"},{default:Te(()=>[Ve(E,{icon:"carbon:partition-same"})]),_:1}),na(" "+Vl(Se(a)("duplicateSection")),1)]),_:2},1032,["onClick"]),Ve(ue,{size:"small",type:"info",secondary:"",onClick:qt=>Qe(at)},{default:Te(()=>[Ve(m,{size:"18",class:"mr-1"},{default:Te(()=>[Ve(E,{icon:"carbon:magic-wand"})]),_:1}),na(" "+Vl(Se(a)("fillInFakeData")),1)]),_:2},1032,["onClick"]),Ve(Ie,{vertical:"",class:go(Se(re)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),Ve(Et,{align:"center"},{default:Te(()=>[Pl("span",null,Vl(Se(a)("dataSourcePage")),1),Ve(Ot,{value:`${at.pivot?.dataSourcePageId}__${at.pivot?.dataSourceLinkId}`,options:ct(at.pages||[]),placeholder:Se(a)("select"),"label-field":"label","value-field":"value",filterable:"",size:"small",class:"!w-[225px]","onUpdate:value":qt=>we(at,qt)},null,8,["value","options","placeholder","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),_e<Se(I).length-1?(al(),Ia("div",{key:0,class:go(`relative border-dashed border-y-2 h-1.5  ${Se(re)("!border-zinc-300","!border-zinc-600")}`)},[Pl("div",Pp,[Ve(ue,{size:"tiny",type:"info",title:Se(a)("insertSections"),onClick:qt=>ge(_e+1)},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:insert-page"})]),_:1})]),_:2},1032,["title","onClick"])])],2)):Ls("",!0)]))),128))]),_:1},8,["list"]),Ve(Ft,{size:"small",class:"mb-2 !border-dashed !border-2",onClick:_[7]||(_[7]=at=>xe())},{default:Te(()=>[Pl("div",Lp,[Ve(m,{size:"20"},{default:Te(()=>[Ve(E,{icon:"carbon:row"})]),_:1}),na(" "+Vl(Se(a)("insertOrRemoveSections")),1)])]),_:1})])):(al(),Ia("section",Bp,[Ve(Ft,{size:"large",class:go(`mb-2 !border-dashed !border-2 ${Se(re)("!border-zinc-300","!border-zinc-600")}`)},{default:Te(()=>[Ve(sn,{description:Se(a)("noSectionOnThisPage")},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:page-break"})]),_:1})]),extra:Te(()=>[Pl("div",Op,[Ve(ue,{size:"small",secondary:"",onClick:_[8]||(_[8]=at=>xe())},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:row"})]),_:1})]),default:Te(()=>[na(" "+Vl(Se(a)("insertSections")),1)]),_:1})])]),_:1},8,["description"])]),_:1},8,["class"])])),Se(x)?(al(),Ia("div",Fp,[na(Vl(Se(a)("dataRetrievalSlug"))+": ",1),Pl("b",null,Vl(Se(x).slug),1)])):Ls("",!0)]))])]),_:1})),Ve(ja,{show:Se(z),"onUpdate:show":_[9]||(_[9]=at=>zi(z)?z.value=at:null),loading:Se(H)||Se(P),preset:"dialog",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Se(a)("insertOrRemoveSections"),"positive-text":Se(a)("validate"),"negative-text":Se(a)("cancel"),onPositiveClick:i,onNegativeClick:_[10]||(_[10]=at=>z.value=!1)},{default:Te(()=>[Pl("section",qp,[Se(W)?.length?(al(),Ca(wa,{key:0,style:{"max-height":"400px"}},{default:Te(()=>[(al(!0),Ia(Ro,null,Bs(Se(W),at=>(al(),Ca(Ft,{key:at.id,hoverable:"",embedded:"",size:"small",class:"mb-2 cursor-pointer",onClick:_e=>M(at)},{default:Te(()=>[Pl("div",Rp,[Pl("span",jp,Vl(Se(s)(at.title)),1),Ve(_l,{checked:$(at).value,"onUpdate:checked":_e=>$(at).value=_e,size:"medium"},null,8,["checked","onUpdate:checked"])])]),_:2},1032,["onClick"]))),128))]),_:1})):(al(),Ca(sn,{key:1,description:Se(a)("noAvailableSection")},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:list-boxes"})]),_:1})]),_:1},8,["description"]))])]),_:1},8,["show","loading","title","positive-text","negative-text"]),Ve(ja,{show:Se(B),"onUpdate:show":_[11]||(_[11]=at=>zi(B)?B.value=at:null),loading:Se(H)||Se(P),preset:"dialog",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Se(a)("insertSections"),"positive-text":Se(a)("validate"),"negative-text":Se(a)("cancel"),onPositiveClick:ve,onNegativeClick:_[12]||(_[12]=at=>B.value=!1)},{default:Te(()=>[Pl("section",Kp,[Se(gt)?.length?(al(),Ca(wa,{key:0,style:{"max-height":"400px"}},{default:Te(()=>[(al(!0),Ia(Ro,null,Bs(Se(gt),at=>(al(),Ca(Ft,{key:at.id,hoverable:"",embedded:"",size:"small",class:"mb-2 cursor-pointer",onClick:_e=>De(at)},{default:Te(()=>[Pl("div",Yp,[Pl("span",Gp,Vl(Se(s)(at.title)),1),Ve(_l,{checked:he(at).value,"onUpdate:checked":_e=>he(at).value=_e,size:"medium"},null,8,["checked","onUpdate:checked"])])]),_:2},1032,["onClick"]))),128))]),_:1})):(al(),Ca(sn,{key:1,description:Se(a)("noAvailableSection")},{icon:Te(()=>[Ve(m,null,{default:Te(()=>[Ve(E,{icon:"carbon:list-boxes"})]),_:1})]),_:1},8,["description"]))])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),Qp=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menu-item-groups"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/menu-item-groups",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Xp=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menu-item-groups"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/menu-item-groups/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Jp=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["menu-item-groups"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/menu-item-groups/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},{useModel:Zp,defineComponent:em}=await me("vue"),{unref:Lt,resolveComponent:rh,createVNode:nl,toDisplayString:ho,createTextVNode:Ko,withCtx:ml,renderList:tm,Fragment:Ai,openBlock:Yo,createElementBlock:Pi,createElementVNode:Ur,createBlock:Mr,normalizeClass:lm,isRef:am}=await me("vue"),{ref:Os}=await me("vue"),nm={class:"flex items-center justify-between"},om={class:"flex flex-col"},sm={class:"text-sm font-bold"},rm=em({__name:"ItemGroups",props:{show:{type:Boolean,default:!1,required:!0},showModifiers:{}},emits:["update:show"],setup(u){const{t:e}=ke(),{pickByTheme:n,tr:a}=Xe(),o=Zp(u,"show"),{data:l,isPending:t}=Mc(),{mutate:c,isPending:fe}=Qp(),{mutate:ae,isPending:ce}=Xp(),{mutate:A,isPending:ne}=Jp(),O=ea(),I=Os(!1),d=Os(null),F=Os(null),te=Os({name:"",description:""}),s={name:[{required:!0,message:e("fillRequired")}]},re=x=>{d.value=ie.cloneDeep(x),te.value=ie.cloneDeep(x||{name:"",description:""}),I.value=!0},D=async()=>(F.value?.validate(async x=>{if(!x){const N={name:te.value.name,description:te.value.description};d.value?ae({id:d.value.id,...N},{onSuccess:()=>{I.value=!1}}):c(N,{onSuccess:()=>{I.value=!1}})}}),!1),W=async x=>{O.warning({title:e("confirm"),content:e("confirmDeleteMenuItemGroup"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{x.id&&A({id:x.id})}})};return(x,N)=>{const q=be,H=Ye,K=$l,oe=pr,g=pe,P=hl,y=Sa,h=Ea,Y=oo,U=Rl,R=ma,J=da,T=ca;return Yo(),Pi(Ai,null,[nl(U,{show:o.value,"onUpdate:show":N[2]||(N[2]=C=>o.value=C),preset:"card",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,closable:!1,title:Lt(e)("menuItemGroups")},{"header-extra":ml(()=>[nl(K,{align:"center"},{default:ml(()=>[nl(H,{secondary:"",size:"small",type:"primary",disabled:Lt(t),onClick:N[0]||(N[0]=C=>re(null))},{default:ml(()=>[nl(q,{icon:"carbon:add-alt",class:"mr-1"}),Ko(" "+ho(Lt(e)("add")),1)]),_:1},8,["disabled"]),nl(H,{secondary:"",size:"small",type:"error",disabled:Lt(t),onClick:N[1]||(N[1]=C=>o.value=!1)},{default:ml(()=>[nl(q,{icon:"carbon:close",class:"mr-1"}),Ko(" "+ho(Lt(e)("close")),1)]),_:1},8,["disabled"])]),_:1})]),default:ml(()=>[nl(Y,{show:Lt(t)},{default:ml(()=>[Lt(l)?.length?(Yo(),Mr(y,{key:0,style:{"max-height":"400px"}},{default:ml(()=>[(Yo(!0),Pi(Ai,null,tm(Lt(l),C=>(Yo(),Mr(P,{key:C.id,embedded:"",size:"small",class:"mb-2"},{default:ml(()=>[Ur("div",nm,[Ur("div",om,[Ur("span",sm,ho(Lt(a)(C.name)),1),nl(oe,{"line-clamp":"1",style:{"max-width":"240px"},class:"text-xs font-normal"},{default:ml(()=>[Ko(ho(Lt(a)(C.description)),1)]),_:2},1024)]),nl(K,null,{default:ml(()=>[nl(H,{size:"small",type:"warning",secondary:"",onClick:b=>re(C)},{default:ml(()=>[nl(g,null,{default:ml(()=>[nl(q,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),nl(H,{size:"small",type:"error",secondary:"",onClick:b=>W(C)},{default:ml(()=>[nl(g,null,{default:ml(()=>[nl(q,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1})):(Yo(),Mr(P,{key:1,size:"large",class:lm(`mb-2 !border-dashed !border-2 ${Lt(n)("!border-zinc-300","!border-zinc-600")}`)},{default:ml(()=>[nl(h,{description:Lt(e)("noMenuItemGroupAdded")},{icon:ml(()=>[nl(g,null,{default:ml(()=>[nl(q,{icon:"carbon:tag-group"})]),_:1})]),_:1},8,["description"])]),_:1},8,["class"]))]),_:1},8,["show"])]),_:1},8,["show","title"]),nl(U,{show:Lt(I),"onUpdate:show":N[5]||(N[5]=C=>am(I)?I.value=C:null),loading:Lt(fe)||Lt(ce)||Lt(ne),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Lt(d)?Lt(e)("editMenuItemGroup"):Lt(e)("addMenuItemGroup"),"positive-text":Lt(e)("validate"),"negative-text":Lt(e)("cancel"),onPositiveClick:D,onNegativeClick:N[6]||(N[6]=C=>I.value=!1)},{default:ml(()=>[nl(T,{ref_key:"formRef",ref:F,model:Lt(te),rules:s,"show-require-mark":!1,size:"medium",class:"my-5"},{default:ml(()=>[nl(J,{"show-label":!1,path:"name"},{default:ml(()=>[nl(R,{modelValue:Lt(te).name,"onUpdate:modelValue":N[3]||(N[3]=C=>Lt(te).name=C),placeholder:Lt(e)("name"),class:"w-full",sync:""},{label:ml(()=>[Ko(ho(Lt(e)("name")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),nl(J,{"show-label":!1,path:"description"},{default:ml(()=>[nl(R,{modelValue:Lt(te).description,"onUpdate:modelValue":N[4]||(N[4]=C=>Lt(te).description=C),placeholder:Lt(e)("description"),type:"textarea",class:"w-full",rows:3,sync:""},{label:ml(()=>[Ko(ho(Lt(e)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),{useModel:Li,mergeModels:im,defineComponent:cm}=await me("vue"),{unref:Ht,resolveComponent:ih,createVNode:mn,withCtx:Yn,isRef:dm,Fragment:um,openBlock:Go,createElementBlock:pm,createCommentVNode:Fs,createBlock:qs}=await me("vue"),{ref:Ho,computed:Wo,onMounted:mm,h:Qo}=await me("vue"),fm=cm({__name:"ContentFormItems",props:{"content-type":{default:Dl.CONTENT_MODEL},"content-typeModifiers":{},"content-id":{default:void 0},"content-idModifiers":{}},emits:im(["update"],["update:content-type","update:content-id"]),setup(u,{emit:e}){const{t:n}=ke(),{tr:a,mergeArrays:o}=Xe(),{contentTypes:l,extractItemTitle:t}=Ss(),{data:c}=Ln(),fe=e,ae=Li(u,"content-type"),ce=Li(u,"content-id"),A=Ho(),ne=Ho([]),O=Ho([]),{mutateAsync:I,isPending:d}=_i(),{mutateAsync:F,isPending:te}=Zc(),s=Wo(()=>d.value||te.value),re=async(C,b)=>{if(!C.length){O.value=[];return}O.value=await I({query:C,contentModelId:b})},D=Wo(()=>o(ne.value,O.value,"id")),W=Ho([]),x=Ho([]),{mutateAsync:N,isPending:q}=Kc(),{mutateAsync:H,isPending:K}=Yc(),oe=Wo(()=>K.value||q.value),g=async C=>{if(!C.length){x.value=[];return}x.value=await H(C)},P=Wo(()=>o(W.value,x.value,"id")),{categories:y}=hi(),{tags:h}=hi();mm(async()=>{const C=await N({ids:ce.value?[ce.value]:[]});C&&(W.value=o(W.value,C,"id"));const b=await F({ids:ce.value?[ce.value]:[]});b&&(ne.value=o(ne.value,b,"id"),A.value=ne.value.find(z=>z.id===ce.value)?.contentModelId)});const Y=C=>Qo("span",{},{default:()=>`${a(C.name)}`}),U=C=>Qo("span",{},{default:()=>`${a(C.title)}`}),R=C=>Qo("span",{},{default:()=>`${a(C.name)}`}),J=C=>Qo("span",{},{default:()=>a(C.title)}),T=C=>Wo(()=>Qo("span",{},{default:()=>t(C,c.value?.find(b=>b.id===C.contentModelId))}));return(C,b)=>{const z=Ua,xe=Bn,M=fa;return Go(),qs(M,{"x-gap":"12",span:24},{default:Yn(()=>[mn(xe,{span:8,label:Ht(n)("contentType"),path:"contentType"},{default:Yn(()=>[mn(z,{value:ae.value,"onUpdate:value":[b[0]||(b[0]=$=>ae.value=$),b[1]||(b[1]=()=>ce.value=void 0)],options:Ht(l)||[],placeholder:Ht(n)("select"),"label-field":"label","value-field":"value",filterable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"]),ae.value===Ht(Dl).CONTENT_MODEL?(Go(),pm(um,{key:0},[mn(xe,{span:8,label:Ht(n)("contentModel")},{default:Yn(()=>[mn(z,{value:Ht(A),"onUpdate:value":b[2]||(b[2]=$=>dm(A)?A.value=$:null),options:Ht(c),placeholder:Ht(n)("search"),"render-label":J,"label-field":"title","value-field":"id",filterable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"]),mn(xe,{span:8,label:Ht(n)("item"),path:"contentId"},{default:Yn(()=>[mn(z,{value:ce.value,"onUpdate:value":[b[3]||(b[3]=$=>ce.value=$),b[5]||(b[5]=($,i)=>fe("update",$,i,ae.value))],options:Ht(D)||[],placeholder:Ht(n)("search"),"render-label":$=>T($).value,loading:Ht(s),"value-field":"id",filterable:"",remote:"",class:"w-full",onSearch:b[4]||(b[4]=$=>re($,Ht(A)))},null,8,["value","options","placeholder","render-label","loading"])]),_:1},8,["label"])],64)):Fs("",!0),ae.value===Ht(Dl).NEWS_ARTICLE?(Go(),qs(xe,{key:1,span:16,label:Ht(n)("newsArticle"),path:"contentId"},{default:Yn(()=>[mn(z,{value:ce.value,"onUpdate:value":[b[6]||(b[6]=$=>ce.value=$),b[7]||(b[7]=($,i)=>fe("update",$,i,ae.value))],options:Ht(P)||[],placeholder:Ht(n)("search"),"render-label":U,loading:Ht(oe),"value-field":"id",filterable:"",remote:"",class:"w-full",onSearch:g},null,8,["value","options","placeholder","loading"])]),_:1},8,["label"])):Fs("",!0),ae.value===Ht(Dl).NEWS_CATEGORY?(Go(),qs(xe,{key:2,span:16,label:Ht(n)("newsCategory"),path:"contentId"},{default:Yn(()=>[mn(z,{value:ce.value,"onUpdate:value":[b[8]||(b[8]=$=>ce.value=$),b[9]||(b[9]=($,i)=>fe("update",$,i,ae.value))],options:Ht(y)||[],placeholder:Ht(n)("select"),"render-label":Y,"label-field":"name","value-field":"id",filterable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"])):Fs("",!0),ae.value===Ht(Dl).NEWS_TAG?(Go(),qs(xe,{key:3,span:16,label:Ht(n)("newsTag"),path:"contentId"},{default:Yn(()=>[mn(z,{value:ce.value,"onUpdate:value":[b[10]||(b[10]=$=>ce.value=$),b[11]||(b[11]=($,i)=>fe("update",$,i,ae.value))],options:Ht(h)||[],placeholder:Ht(n)("select"),"render-label":R,"label-field":"name","value-field":"id",filterable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"])):Fs("",!0)]),_:1})}}}),_m=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menu","items"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/menu/items",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},vm=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menu","items"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/menu/items/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},ym=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["menu","items"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/menu/items/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},gm=()=>{const{request:u}=Pe(),e=He();return Oa(async n=>{const a=await u({method:"put",url:"/menu/items/position",data:n});if(a.failure&&a.error)throw new Error(a.error);return a.result.data},{onMutate:()=>e.start(),onSettled:()=>e.finish()})},{useModel:hm,defineComponent:bm}=await me("vue"),{unref:v,resolveComponent:Nr,createVNode:X,withCtx:ye,toDisplayString:ol,createTextVNode:la,openBlock:Jt,createBlock:fn,createCommentVNode:Gn,isRef:Rs,renderList:js,Fragment:Wa,createElementBlock:aa,normalizeClass:Hn,withModifiers:Xo,createElementVNode:Nl}=await me("vue"),km={key:0},wm={class:"flex items-center"},xm={class:"flex flex-col"},$m={class:"text-sm font-bold"},Cm={key:0,class:"text-sm"},Im={class:"text-xs font-normal"},Vm={class:"text-xs my-1"},Sm={class:"flex items-center"},Em={class:"flex flex-col"},Um={class:"text-sm font-bold"},Mm={class:"text-xs font-normal"},Nm={key:0,class:"mt-4"},Tm={class:"my-8"},Dm={class:"flex items-center justify-between"},zm={class:"flex flex-col"},Am={class:"text-sm font-bold"},Pm={class:"text-xs font-normal"},Lm={class:"flex items-center"},Bm={key:0},Om={key:1},Fm={key:2},{storeToRefs:qm}=await me("pinia"),{ref:ya,watch:Rm,computed:Jo,h:Bi}=await me("vue"),jm=bm({__name:"Items",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(u){const{t:e,locale:n}=ke(),{extractItemTitle:a}=Ss(),{tr:o,pickByTheme:l}=Xe(),{isLightTheme:t}=qm(To()),{data:c,isPending:fe}=ci(),{data:ae}=Ln(),{data:ce,isPending:A}=Mc(),{data:ne,isFetching:O,refetch:I}=Ec({enabled:!1}),{mutate:d,isPending:F}=_m(),{mutate:te,isPending:s}=vm(),{mutate:re,isPending:D}=ym(),{mutate:W}=gm(),x=Oe(),N=ea(),q=hm(u,"modelValue"),H=ya([]),K=ya([]),oe=ya(""),g=ya();let P=ya(!0);Rm(()=>O.value,L=>{L||(P.value=!1)});const y=Jo(()=>{if(!oe.value)return H.value;const L=H.value.filter(V=>V.title.toLowerCase().includes(oe.value.toLowerCase())||V.description?.toLowerCase().includes(oe.value.toLowerCase())||V.children.some(w=>w.title.toLowerCase().includes(oe.value.toLowerCase())||w.description?.toLowerCase().includes(oe.value.toLowerCase())));return g.value&&g.value.focus(),L}),h=async()=>{await I(),H.value=ne.value?.filter(L=>!L.parentId&&L.menuId===q.value?.id)||[];for(let L=0;L<H.value.length;L++)H.value[L].children=ne.value?.filter(V=>V.parentId===H.value[L].id&&V.menuId===q.value?.id)||[];K.value=ne.value?.filter(L=>L.menuId!==q.value?.id)||[]};h();const Y=ya(12),U=ya(1),R=L=>{Y.value=L},J={title:"",path:"/",url:"https://",description:"",isActive:!0,isVisible:!0,color:"",icon:"",position:0,targetType:Zl.PAGE_LINK,menuItemGroupId:void 0,sectionKey:void 0,pageId:void 0,contentType:Dl.CONTENT_MODEL,contentId:void 0},T=ya(null),C=ya(!1),b=ya(!1),z=ya(null),xe=ya(null),M=ya(J),$=Jo(()=>{const L={title:[{required:!0,message:e("fillRequired")}]};return M.value.targetType===Zl.PAGE_LINK?(L.pageId=[{required:!0,message:e("fillRequired")}],L.path=[{required:!0,message:e("fillRequired")}]):M.value.targetType===Zl.EXTERNAL_LINK?L.url=[{required:!0,message:e("fillRequired")}]:M.value.targetType===Zl.CONTENT_LINK&&(L.contentId=[{required:!0,message:e("fillRequired")}],L.contentType=[{required:!0,message:e("fillRequired")}]),L}),i=Jo(()=>c.value?.find(L=>L.id==M.value.pageId)?.slug||""),{data:k,isPending:Q}=Td({queryKey:["pages",i],queryFn:async()=>{const{request:L}=Pe(),V=await L({url:`/pages/${i.value}`});return V.success&&V.result.data?V.result.data:null},enabled:Jo(()=>!!i.value)}),B=Jo(()=>k.value?.sections?.map(L=>{const et=(k.value?.sections?.filter(Ee=>Ee.id===L.id)?.map(Ee=>Ee.pivot?.createdAt||Ee.pivot?.updatedAt||"")?.sort((Ee,st)=>new Date(Ee).getTime()-new Date(st).getTime())||[]).indexOf(L.pivot?.createdAt||L.pivot?.updatedAt||"");return{label:L.pivot?.linkId=="default"?o(L.title):o(L.title)+" ("+(et+1)+")",value:L.slug+"__"+L.pivot?.linkId}})||[]),ge=(L,V=null)=>{z.value=ie.cloneDeep(L),T.value=V,L?(M.value=ie.cloneDeep(L),C.value=!0):(M.value=ie.cloneDeep(J),K.value.length>0?b.value=!0:C.value=!0)},De=async L=>{N.warning({title:e("confirm"),content:L.parentId?e("confirmDeleteMenuSubItem"):e("confirmDeleteMenuItem"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{L.id&&re({id:L.id})}})},he=async L=>{d({title:L.title,path:L.path,url:L.url,description:L.description,isActive:!0,isVisible:!0,color:L.color,icon:L.icon,position:L.position,targetType:L.targetType,parentId:T.value,menuId:q.value?.id,sectionKey:L.sectionKey,menuItemGroupId:L.menuItemGroupId,pageId:L.pageId},{onSuccess(){h(),b.value=!1}})},ve=async()=>(xe.value?.validate(async L=>{if(!L){const V={title:M.value.title,path:M.value.path,url:M.value.url,description:M.value.description,isActive:M.value.isActive,isVisible:M.value.isVisible,color:M.value.color,icon:M.value.icon,position:M.value.position,targetType:M.value.targetType,parentId:T.value,menuId:q.value?.id,sectionKey:M.value.sectionKey,menuItemGroupId:M.value.menuItemGroupId,pageId:M.value.pageId,contentId:M.value.contentId,contentType:M.value.contentType};z.value?z.value.title!==M.value.title&&H.value.findIndex(w=>w.title==M.value.title)>-1?x.error(e("sameMenuItemTitleMessage")):te({id:z.value.id,...V},{onSuccess(){h()}}):H.value.findIndex(w=>w.title==M.value.title)>-1?x.error(e("sameMenuItemTitleMessage")):d(V,{onSuccess(){h()}}),C.value=!1}}),!1),gt=async(L,V)=>{W({items:V},{onSuccess(){h()}})},ct=L=>Bi("span",{},{default:()=>o(L.title)}),we=L=>Bi("span",{},{default:()=>o(L.name)}),qe=L=>/^\/[a-zA-Z0-9/\-_{}?]*$/.test(L),$e=L=>{if(L.targetType==Zl.EXTERNAL_LINK)return L.url;if(L.targetType==Zl.PAGE_LINK)return L.path;if(L.targetType==Zl.CONTENT_LINK)switch(L.contentType){case Dl.CONTENT_MODEL:return e("contentModel");case Dl.NEWS_CATEGORY:return e("newsCategory");case Dl.NEWS_ARTICLE:return e("newsArticle");case Dl.NEWS_TAG:return e("newsTag")}return""},Qe=async(L,V,w)=>{if(!o(M.value.title))switch(w){case Dl.CONTENT_MODEL:M.value.title=a(V,ae.value?.find(et=>et.id===V.contentModelId));break;case Dl.NEWS_ARTICLE:M.value.title=V.title;break;case Dl.NEWS_CATEGORY:case Dl.NEWS_TAG:M.value.title=V.name;break}};return(L,V)=>{const w=be,et=$l,Ee=Ba,st=Bc,G=Lc,_=qa,E=Ra,m=hl,ue=Nr("Draggable"),Ie=ro,Et=so,_a=Do,jl=Ea,Kl=Fa,Cl=Sa,Ft=Rl,Yl=ma,_l=da,ul=ui,Ot=Bn,Yt=ir,Le=rr,Gl=fa,sn=Nr("IconPicker"),wa=Nr("color-picker"),ja=Ua,at=ca;return Jt(),aa(Wa,null,[X(Ee,{to:"#alt-action"},{default:ye(()=>[X(et,{align:"center"},{default:ye(()=>[v(y).length?(Jt(),fn(v(Ye),{key:0,secondary:"",type:"primary",onClick:V[0]||(V[0]=_e=>ge(null))},{icon:ye(()=>[X(v(pe),{size:"18"},{default:ye(()=>[X(w,{icon:"carbon:add-alt"})]),_:1})]),default:ye(()=>[la(" "+ol(v(e)("addMenuItem")),1)]),_:1})):Gn("",!0)]),_:1})]),_:1}),X(st,{class:"mt-2 mb-5",onBack:V[2]||(V[2]=_e=>q.value=null)},{title:ye(()=>[la(ol(v(o)(q.value?.title)),1)]),back:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"ic:baseline-arrow-back-ios"})]),_:1})]),extra:ye(()=>[X(v(ll),{ref_key:"searchInputRef",ref:g,value:v(oe),"onUpdate:value":V[1]||(V[1]=_e=>Rs(oe)?oe.value=_e:null),clearable:!0,placeholder:v(e)("search")},{suffix:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:search"})]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),X(Kl,{appear:"",name:"slide-fade"},{default:ye(()=>[Nl("section",null,[v(P)?(Jt(),aa("section",km,[(Jt(),aa(Wa,null,js(7,_e=>X(G,{key:_e,height:"50px",width:"100%",sharp:!1,class:"mb-2"})),64))])):(Jt(),aa(Wa,{key:1},[v(y)&&v(y).length?(Jt(),aa(Wa,{key:0},[X(ue,{list:v(H),onChange:V[3]||(V[3]=_e=>gt(_e,v(H)))},{default:ye(()=>[(Jt(!0),aa(Wa,null,js(v(y).slice((v(U)-1)*v(Y),v(U)*v(Y)),_e=>(Jt(),fn(m,{key:_e.id,embedded:"",size:"small",class:"mb-1"},{default:ye(()=>[X(Et,{"default-expanded-names":_e.children.length>0?["1"]:[],"display-directive":"show"},{"header-extra":ye(({collapsed:qt})=>[X(et,{align:"center"},{default:ye(()=>[X(_,{size:"small",bordered:!1,type:_e.isActive?"success":"error"},{default:ye(()=>[la(ol(_e.isActive?v(e)("published"):v(e)("unpublished")),1)]),_:2},1032,["type"]),X(_,{size:"small",bordered:!1,type:_e.isVisible?"info":"warning"},{default:ye(()=>[la(ol(_e.isVisible?v(e)("visible"):v(e)("hidden")),1)]),_:2},1032,["type"]),X(E,{vertical:"",class:Hn(["!mx-0",v(l)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),X(v(Ye),{size:"small",type:"primary",secondary:"",onClick:Xo(va=>ge(_e),["stop"])},{default:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),X(v(Ye),{size:"small",type:"error",secondary:"",onClick:Xo(va=>De(_e),["stop"])},{default:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"]),X(v(Ye),{size:"small",type:"info",secondary:"",onClick:Xo(va=>ge(null,_e.id),["stop"])},{icon:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:category"})]),_:1})]),default:ye(()=>[la(" "+ol(v(e)("subMenuItem"))+" ",1),X(_,{size:"small",bordered:!1,type:"primary",class:"ml-1"},{default:ye(()=>[la(ol(_e.children.length),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024),V[27]||(V[27]=Nl("div",{class:"w-6"},null,-1)),X(v(pe),null,{default:ye(()=>[qt?(Jt(),fn(w,{key:0,icon:"fa-solid:chevron-left"})):(Jt(),fn(w,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),arrow:ye(()=>V[28]||(V[28]=[Nl("span",null,null,-1)])),default:ye(()=>[X(Ie,{name:"1"},{header:ye(()=>[Nl("div",wm,[X(v(pe),{size:"21",class:"cursor-move mr-4"},{default:ye(()=>[X(w,{icon:"fa-solid:grip-lines"})]),_:1}),X(E,{vertical:"",class:Hn(v(l)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),Nl("div",xm,[Nl("div",null,[Nl("span",$m,ol(v(o)(_e.title)),1),_e.group?(Jt(),aa("span",Cm," Â ("+ol(v(o)(_e.group?.name))+") ",1)):Gn("",!0)]),Nl("small",Im,ol($e(_e)),1)])])]),default:ye(()=>[_e.description?(Jt(),aa(Wa,{key:0},[X(E,{class:Hn([v(l)("!bg-zinc-300","!bg-slate-500"),"!my-0 !h-0.5"])},null,8,["class"]),Nl("div",Vm,ol(v(o)(_e.description)),1)],64)):Gn("",!0),_e.children.length?(Jt(),aa(Wa,{key:1},[X(E,{class:Hn([v(l)("!bg-zinc-300","!bg-slate-500"),"!mt-0 !mb-2 !h-0.5"])},null,8,["class"]),X(ue,{list:_e.children,onChange:qt=>gt(qt,_e.children)},{default:ye(()=>[(Jt(!0),aa(Wa,null,js(_e.children,qt=>(Jt(),fn(m,{key:qt.id,size:"small",class:"mb-1"},{header:ye(()=>[Nl("div",Sm,[X(v(pe),{size:"21",class:"cursor-move mr-4"},{default:ye(()=>[X(w,{icon:"fa-solid:grip-lines"})]),_:1}),X(E,{vertical:"",class:Hn(v(l)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),Nl("div",Em,[Nl("span",Um,ol(v(o)(qt.title)),1),Nl("small",Mm,ol($e(qt)),1)])])]),"header-extra":ye(()=>[X(et,{align:"center"},{default:ye(()=>[X(_,{size:"small",bordered:!1,type:qt.isActive?"success":"error"},{default:ye(()=>[la(ol(qt.isActive?v(e)("published"):v(e)("unpublished")),1)]),_:2},1032,["type"]),X(_,{size:"small",bordered:!1,type:qt.isVisible?"info":"warning"},{default:ye(()=>[la(ol(qt.isVisible?v(e)("visible"):v(e)("hidden")),1)]),_:2},1032,["type"]),X(E,{vertical:"",class:Hn(["!mx-0",v(l)("!bg-zinc-400","!bg-slate-500")])},null,8,["class"]),X(v(Ye),{size:"small",type:"primary",secondary:"",onClick:Xo(va=>ge(qt,_e.id),["stop"])},{default:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),X(v(Ye),{size:"small",type:"error",secondary:"",onClick:Xo(va=>De(qt),["stop"])},{default:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["list","onChange"])],64)):Gn("",!0)]),_:2},1024)]),_:2},1032,["default-expanded-names"])]),_:2},1024))),128))]),_:1},8,["list"]),X(_a,{page:v(U),"onUpdate:page":V[4]||(V[4]=_e=>Rs(U)?U.value=_e:null),class:"mt-5 justify-end","show-size-picker":"","page-size":v(Y),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(v(H).length/v(Y)),"onUpdate:pageSize":R},{prefix:ye(()=>[la(ol(`${v(H).length} ${v(e)("menuItem_s")}`),1)]),_:1},8,["page","page-size","page-count"])],64)):(Jt(),fn(m,{key:1,size:"large",class:Hn(`mb-2 !border-dashed !border-2 ${v(l)("!border-zinc-300","!border-zinc-600")}`)},{default:ye(()=>[X(jl,{description:v(e)("noMenuItemAvailable")},{icon:ye(()=>[X(v(pe),null,{default:ye(()=>[v(oe)?(Jt(),fn(w,{key:0,icon:"carbon:search"})):(Jt(),fn(w,{key:1,icon:"carbon:menu"}))]),_:1})]),extra:ye(()=>[v(oe)?Gn("",!0):(Jt(),aa("div",Nm,[X(v(Ye),{size:"small",secondary:"",onClick:V[5]||(V[5]=_e=>ge(null))},{icon:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:add-alt"})]),_:1})]),default:ye(()=>[la(" "+ol(v(e)("addMenuItem")),1)]),_:1})]))]),_:1},8,["description"])]),_:1},8,["class"]))],64))])]),_:1}),X(Ft,{show:v(b),"onUpdate:show":V[6]||(V[6]=_e=>Rs(b)?b.value=_e:null),loading:v(F)||v(s)||v(D),preset:"dialog",style:{width:"600px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:v(e)("menuItems"),"positive-text":v(T)?v(e)("createSubMenuItem"):v(e)("createMenuItem"),"negative-text":v(e)("cancel"),onPositiveClick:V[7]||(V[7]=()=>{b.value=!1,C.value=!0}),onNegativeClick:V[8]||(V[8]=_e=>b.value=!1)},{default:ye(()=>[Nl("section",Tm,[X(Cl,{style:{"max-height":"400px"}},{default:ye(()=>[(Jt(!0),aa(Wa,null,js(v(K),_e=>(Jt(),fn(m,{key:_e.id,embedded:"",size:"small",class:"mb-2"},{default:ye(()=>[Nl("div",Dm,[Nl("div",zm,[Nl("span",Am,ol(v(o)(_e.title)),1),Nl("small",Pm,ol($e(_e)),1)]),X(v(Ye),{size:"small",type:"primary",secondary:"",onClick:qt=>he(_e)},{icon:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:add-alt"})]),_:1})]),default:ye(()=>[la(" "+ol(v(e)("add")),1)]),_:2},1032,["onClick"])])]),_:2},1024))),128))]),_:1})])]),_:1},8,["show","loading","title","positive-text","negative-text"]),X(Ft,{show:v(C),"onUpdate:show":V[25]||(V[25]=_e=>Rs(C)?C.value=_e:null),loading:v(F)||v(s)||v(D),preset:"dialog",style:{width:"650px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:v(z)?v(T)?v(e)("editSubMenuItem"):v(e)("editMenuItem"):v(T)?v(K).length?v(e)("createSubMenuItem"):v(e)("addSubMenuItem"):v(K).length?v(e)("createMenuItem"):v(e)("addMenuItem"),"positive-text":v(e)("validate"),"negative-text":v(e)("cancel"),onPositiveClick:ve,onNegativeClick:V[26]||(V[26]=_e=>C.value=!1)},{default:ye(()=>[X(at,{ref_key:"formRef",ref:xe,class:"mt-5",model:v(M),rules:v($),"show-require-mark":!1,size:"medium"},{default:ye(()=>[X(_l,{"show-label":!1,path:"title"},{default:ye(()=>[X(Yl,{modelValue:v(M).title,"onUpdate:modelValue":V[9]||(V[9]=_e=>v(M).title=_e),placeholder:v(e)("title"),class:"w-full",sync:""},{label:ye(()=>[la(ol(v(e)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),X(_l,{"show-label":!1,path:"description"},{default:ye(()=>[X(Yl,{modelValue:v(M).description,"onUpdate:modelValue":V[10]||(V[10]=_e=>v(M).description=_e),placeholder:v(e)("description"),type:"textarea",class:"w-full",rows:2,sync:""},{label:ye(()=>[la(ol(v(e)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),X(Gl,{"x-gap":"12",span:24},{default:ye(()=>[X(Ot,{span:5,label:v(e)("position"),path:"position"},{default:ye(()=>[X(ul,{value:v(M).position,"onUpdate:value":V[11]||(V[11]=_e=>v(M).position=_e),placeholder:v(e)("position"),class:"w-full",min:0},null,8,["value","placeholder"])]),_:1},8,["label"]),X(Ot,{span:10,label:v(e)("publication"),path:"isActive"},{default:ye(()=>[X(Le,{value:v(M).isActive,"onUpdate:value":V[12]||(V[12]=_e=>v(M).isActive=_e),name:"isActive",class:"w-full"},{default:ye(()=>[X(Yt,{value:!1,label:v(e)("unpublished"),class:"w-[50%]"},null,8,["label"]),X(Yt,{value:!0,label:v(e)("published"),class:"w-[50%]"},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"]),X(Ot,{span:9,label:v(e)("visibility"),path:"isVisible"},{default:ye(()=>[X(Le,{value:v(M).isVisible,"onUpdate:value":V[13]||(V[13]=_e=>v(M).isVisible=_e),name:"isVisible",class:"w-full"},{default:ye(()=>[X(Yt,{value:!1,label:v(e)("hidden"),class:"w-[50%]"},null,8,["label"]),X(Yt,{value:!0,label:v(e)("visible"),class:"w-[50%]"},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),X(E,{class:"!my-2"}),X(Gl,{"x-gap":"12",span:24},{default:ye(()=>[X(Ot,{span:10,label:v(e)("icon"),path:"icon"},{default:ye(()=>[X(sn,{modelValue:v(M).icon,"onUpdate:modelValue":V[14]||(V[14]=_e=>v(M).icon=_e),placeholder:v(e)("icon"),"icons-list-placeholder":v(e)("enterIconNameInSearchBar"),"search-placeholder":v(e)("search"),"empty-text":v(e)("noIconsFound"),"selector-height":32,"icon-library":"all",clearable:""},null,8,["modelValue","placeholder","icons-list-placeholder","search-placeholder","empty-text"])]),_:1},8,["label"]),X(Ot,{span:4,label:v(e)("color"),path:"color"},{default:ye(()=>[Nl("div",Lm,[v(M).color?(Jt(),aa(Wa,{key:0},[X(v(Ye),{text:"",type:"error",style:{"font-size":"21px"},onClick:V[15]||(V[15]=_e=>v(M).color="")},{default:ye(()=>[X(v(pe),null,{default:ye(()=>[X(w,{icon:"carbon:trash-can"})]),_:1})]),_:1}),X(E,{vertical:""})],64)):Gn("",!0),X(wa,{"pure-color":v(M).color,"onUpdate:pureColor":V[16]||(V[16]=_e=>v(M).color=_e),"default-pure-color":"#00000000","picker-type":"chrome","use-type":"pure",format:"hex",shape:"circle","z-index":5e3,theme:v(t)?"white":"black",lang:v(n)},null,8,["pure-color","theme","lang"])])]),_:1},8,["label"]),X(Ot,{span:10,label:v(e)("group"),path:"menuItemGroupId"},{default:ye(()=>[X(ja,{value:v(M).menuItemGroupId,"onUpdate:value":V[17]||(V[17]=_e=>v(M).menuItemGroupId=_e),options:v(ce),placeholder:v(e)("group"),"render-label":we,loading:v(A),"label-field":"name","value-field":"id",filterable:"",clearable:"",size:"small",class:"w-full"},null,8,["value","options","placeholder","loading"])]),_:1},8,["label"]),X(Ot,{span:24,label:v(e)("targetType"),path:"targetType"},{default:ye(()=>[X(Le,{value:v(M).targetType,"onUpdate:value":V[18]||(V[18]=_e=>v(M).targetType=_e),class:"w-full",size:"small"},{default:ye(()=>[X(Yt,{value:v(Zl).PAGE_LINK,class:"w-[33.33%]"},{default:ye(()=>[la(ol(v(e)("pageLink")),1)]),_:1},8,["value"]),X(Yt,{value:v(Zl).CONTENT_LINK,class:"w-[33.33%]"},{default:ye(()=>[la(ol(v(e)("contentLink")),1)]),_:1},8,["value"]),X(Yt,{value:v(Zl).EXTERNAL_LINK,class:"w-[33.33%]"},{default:ye(()=>[la(ol(v(e)("externalLink")),1)]),_:1},8,["value"])]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),X(Kl,{appear:"",name:"slide-fade"},{default:ye(()=>[v(M).targetType===v(Zl).PAGE_LINK?(Jt(),aa("section",Bm,[X(Gl,{"x-gap":"12",span:24},{default:ye(()=>[X(Ot,{span:12,label:v(e)("page"),path:"pageId"},{default:ye(()=>[X(ja,{value:v(M).pageId,"onUpdate:value":V[19]||(V[19]=_e=>v(M).pageId=_e),options:v(c)||[],placeholder:v(e)("selectPage"),"render-label":ct,loading:v(fe),"label-field":"title","value-field":"id",filterable:"",clearable:"",class:"w-full"},null,8,["value","options","placeholder","loading"])]),_:1},8,["label"]),X(Ot,{span:12,label:v(e)("section"),path:"sectionKey"},{default:ye(()=>[X(ja,{value:v(M).sectionKey,"onUpdate:value":V[20]||(V[20]=_e=>v(M).sectionKey=_e),options:v(B),placeholder:v(e)("selectSection"),disabled:!v(M).pageId,loading:v(Q),"label-field":"label","value-field":"value",filterable:"",clearable:"",class:"w-full"},null,8,["value","options","placeholder","disabled","loading"])]),_:1},8,["label"])]),_:1}),X(_l,{label:v(e)("path"),path:"path"},{default:ye(()=>[X(v(ll),{value:v(M).path,"onUpdate:value":V[21]||(V[21]=_e=>v(M).path=_e),placeholder:v(e)("path"),"allow-input":qe,class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"])])):v(M).targetType===v(Zl).CONTENT_LINK?(Jt(),aa("section",Om,[X(fm,{"content-type":v(M).contentType,"onUpdate:contentType":V[22]||(V[22]=_e=>v(M).contentType=_e),"content-id":v(M).contentId,"onUpdate:contentId":V[23]||(V[23]=_e=>v(M).contentId=_e),onUpdate:Qe},null,8,["content-type","content-id"])])):v(M).targetType===v(Zl).EXTERNAL_LINK?(Jt(),aa("section",Fm,[X(_l,{label:v(e)("url"),path:"url"},{default:ye(()=>[X(v(ll),{value:v(M).url,"onUpdate:value":V[24]||(V[24]=_e=>v(M).url=_e),placeholder:v(e)("url"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"])])):Gn("",!0)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),Km=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menu-locations"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/menu-locations",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Ym=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menu-locations"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/menu-locations/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Gm=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["menu-locations"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/menu-locations/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},{useModel:Hm,defineComponent:Wm}=await me("vue"),{unref:Bt,resolveComponent:ch,createVNode:Wt,withCtx:sl,toDisplayString:Zo,createTextVNode:Ks,renderList:Qm,Fragment:Oi,openBlock:es,createElementBlock:Fi,createElementVNode:Tr,createBlock:Dr,normalizeClass:Xm,isRef:Jm}=await me("vue"),{ref:Ys}=await me("vue"),Zm={class:"flex items-center justify-between"},ef={class:"flex flex-col"},tf={class:"text-sm font-bold"},lf=Wm({__name:"Locations",props:{show:{type:Boolean,default:!1,required:!0},showModifiers:{}},emits:["update:show"],setup(u){const{t:e}=ke(),{pickByTheme:n,tr:a,formatKey:o}=Xe(),l=Hm(u,"show"),{data:t,isPending:c}=Nc(),{mutate:fe,isPending:ae}=Km(),{mutate:ce,isPending:A}=Ym(),{mutate:ne,isPending:O}=Gm(),I=ea(),d=Ys(!1),F=Ys(null),te=Ys(null),s=Ys({name:"",description:""}),re={name:[{required:!0,message:e("fillRequired")}]},D=N=>{F.value=ie.cloneDeep(N),s.value=ie.cloneDeep(N||{name:"",description:""}),d.value=!0},W=async()=>(te.value?.validate(async N=>{if(!N){const q={name:s.value.name,description:s.value.description};F.value?ce({id:F.value.id,data:q},{onSuccess:()=>{d.value=!1}}):fe(q,{onSuccess:()=>{d.value=!1}})}}),!1),x=async N=>{I.warning({title:e("confirm"),content:e("confirmDeleteMenuLocation"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{N.id&&ne({id:N.id})}})};return(N,q)=>{const H=be,K=pe,oe=Ye,g=$l,P=pr,y=hl,h=Sa,Y=Ea,U=oo,R=Rl,J=ll,T=da,C=ma,b=ca;return es(),Fi(Oi,null,[Wt(R,{show:l.value,"onUpdate:show":q[2]||(q[2]=z=>l.value=z),preset:"card",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,closable:!1,title:Bt(e)("menuLocations")},{"header-extra":sl(()=>[Wt(g,{align:"center"},{default:sl(()=>[Wt(oe,{secondary:"",size:"small",type:"primary",disabled:Bt(c),onClick:q[0]||(q[0]=z=>D(null))},{default:sl(()=>[Wt(K,{class:"mr-1"},{default:sl(()=>[Wt(H,{icon:"carbon:add-alt"})]),_:1}),Ks(" "+Zo(Bt(e)("add")),1)]),_:1},8,["disabled"]),Wt(oe,{secondary:"",size:"small",type:"error",disabled:Bt(c),onClick:q[1]||(q[1]=z=>l.value=!1)},{default:sl(()=>[Wt(K,{class:"mr-1"},{default:sl(()=>[Wt(H,{icon:"carbon:close"})]),_:1}),Ks(" "+Zo(Bt(e)("close")),1)]),_:1},8,["disabled"])]),_:1})]),default:sl(()=>[Wt(U,{show:Bt(c)},{default:sl(()=>[Bt(t)?.length?(es(),Dr(h,{key:0,style:{"max-height":"400px"}},{default:sl(()=>[(es(!0),Fi(Oi,null,Qm(Bt(t),z=>(es(),Dr(y,{key:z.id,embedded:"",size:"small",class:"mb-2"},{default:sl(()=>[Tr("div",Zm,[Tr("div",ef,[Tr("span",tf,Zo(z.name),1),Wt(P,{"line-clamp":"1",style:{"max-width":"240px"},class:"text-xs font-normal"},{default:sl(()=>[Ks(Zo(Bt(a)(z.description)),1)]),_:2},1024)]),Wt(g,null,{default:sl(()=>[Wt(oe,{size:"small",type:"warning",secondary:"",onClick:xe=>D(z)},{default:sl(()=>[Wt(K,null,{default:sl(()=>[Wt(H,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),Wt(oe,{size:"small",type:"error",secondary:"",onClick:xe=>x(z)},{default:sl(()=>[Wt(K,null,{default:sl(()=>[Wt(H,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1})):(es(),Dr(y,{key:1,size:"large",class:Xm(`mb-2 !border-dashed !border-2 ${Bt(n)("!border-zinc-300","!border-zinc-600")}`)},{default:sl(()=>[Wt(Y,{description:Bt(e)("noMenuLocationAdded")},{icon:sl(()=>[Wt(K,null,{default:sl(()=>[Wt(H,{icon:"carbon:template"})]),_:1})]),_:1},8,["description"])]),_:1},8,["class"]))]),_:1},8,["show"])]),_:1},8,["show","title"]),Wt(R,{show:Bt(d),"onUpdate:show":q[5]||(q[5]=z=>Jm(d)?d.value=z:null),loading:Bt(ae)||Bt(A)||Bt(O),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Bt(F)?Bt(e)("editMenuLocation"):Bt(e)("addMenuLocation"),"positive-text":Bt(e)("validate"),"negative-text":Bt(e)("cancel"),onPositiveClick:W,onNegativeClick:q[6]||(q[6]=z=>d.value=!1)},{default:sl(()=>[Wt(b,{ref_key:"formRef",ref:te,model:Bt(s),rules:re,"show-require-mark":!1,size:"medium",class:"my-5"},{default:sl(()=>[Wt(T,{label:Bt(e)("key"),path:"name"},{default:sl(()=>[Wt(J,{value:Bt(s).name,placeholder:Bt(e)("key"),class:"w-full","onUpdate:value":q[3]||(q[3]=z=>Bt(s).name=Bt(o)(z))},null,8,["value","placeholder"])]),_:1},8,["label"]),Wt(T,{"show-label":!1,path:"description"},{default:sl(()=>[Wt(C,{modelValue:Bt(s).description,"onUpdate:modelValue":q[4]||(q[4]=z=>Bt(s).description=z),placeholder:Bt(e)("description"),type:"textarea",class:"w-full",rows:3,sync:""},{label:sl(()=>[Ks(Zo(Bt(e)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),af=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menus"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/menus",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},nf=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["menus"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/menus/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},of=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["menus"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/menus/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},{defineComponent:sf}=await me("vue"),{unref:je,resolveComponent:dh,createVNode:bt,withCtx:kt,toDisplayString:Qa,createTextVNode:Sn,openBlock:Da,createBlock:bo,createCommentVNode:Gs,renderList:rf,Fragment:zr,createElementBlock:ts,withModifiers:Ar,normalizeClass:Pr,createElementVNode:ls,isRef:Hs}=await me("vue"),cf={key:2},df={class:"flex items-center"},uf={class:"flex flex-col"},pf={key:0,class:"text-xs font-normal"},mf={class:"mt-4"},{ref:_n,watch:ff}=await me("vue"),{defineStore:_f}=await me("pinia"),vf=sf({__name:"index",setup(u){const{t:e}=ke(),{tr:n,pickByTheme:a,isInDevMode:o,formatKey:l}=Xe(),{data:t}=Nc(),{data:c}=fd(),{mutate:fe,isPending:ae}=of(),{mutate:ce,isPending:A}=af(),{mutate:ne,isPending:O}=nf(),I=ea(),d=_n(12),F=_n(1),te=y=>{d.value=y},s={name:"",title:"",description:"",menuLocationId:void 0},re=_n(!1),D=_n(!1),W=_n(!1),x=_n(null),N=_n(s),q={name:[{required:!0,message:e("fillRequired")}],title:[{required:!0,message:e("fillRequired")}]},H=_n(null),K=y=>{H.value=ie.cloneDeep(y),N.value=ie.cloneDeep(y||s),re.value=!0},oe=async()=>(x.value?.validate(async y=>{if(!y){const h={name:N.value.name,title:N.value.title,description:N.value.description,menuLocationId:N.value.menuLocationId};H.value?ne({id:H.value.id,...h},{onSuccess:()=>{}}):ce(h,{onSuccess:()=>{}}),re.value=!1}}),!1),g=async y=>{I.warning({title:e("confirm"),content:e("confirmDeleteMenu"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{y.id&&fe({id:y.id})}})},P=_f("menus-management",()=>({itemsMenu:_n(null)}))();return ff(()=>N.value.title,y=>{H.value||N.value.name.length<=21&&(N.value.name=Hc(n(y),{trim:!0,lower:!0,strict:!0}))}),(y,h)=>{const Y=be,U=pe,R=Ye,J=$l,T=Ba,C=Ra,b=hl,z=Do,xe=Ea,M=Fa,$=ma,i=da,k=ll,Q=Bn,B=Ua,ge=fa,De=ca,he=Rl;return Da(),ts(zr,null,[je(P).itemsMenu?Gs("",!0):(Da(),bo(T,{key:0,to:"#alt-action"},{default:kt(()=>[bt(J,{align:"center"},{default:kt(()=>[je(o)?(Da(),bo(R,{key:0,type:"success",secondary:"",onClick:h[0]||(h[0]=ve=>D.value=!0)},{icon:kt(()=>[bt(U,{size:"18"},{default:kt(()=>[bt(Y,{icon:"carbon:template"})]),_:1})]),default:kt(()=>[Sn(" "+Qa(je(e)("locations")),1)]),_:1})):Gs("",!0),bt(R,{type:"warning",secondary:"",onClick:h[1]||(h[1]=ve=>W.value=!0)},{icon:kt(()=>[bt(U,{size:"18"},{default:kt(()=>[bt(Y,{icon:"carbon:tag-group"})]),_:1})]),default:kt(()=>[Sn(" "+Qa(je(e)("groups")),1)]),_:1}),je(c)&&je(c).length?(Da(),bo(R,{key:1,type:"primary",secondary:"",onClick:h[2]||(h[2]=ve=>K(null))},{icon:kt(()=>[bt(U,{size:"18"},{default:kt(()=>[bt(Y,{icon:"carbon:add-alt"})]),_:1})]),default:kt(()=>[Sn(" "+Qa(je(e)("addMenu")),1)]),_:1})):Gs("",!0)]),_:1})]),_:1})),je(P).itemsMenu?(Da(),bo(jm,{key:1,modelValue:je(P).itemsMenu,"onUpdate:modelValue":h[3]||(h[3]=ve=>je(P).itemsMenu=ve)},null,8,["modelValue"])):(Da(),ts("section",cf,[bt(M,{appear:"",name:"slide-fade"},{default:kt(()=>[ls("section",null,[je(c)&&je(c).length?(Da(),ts(zr,{key:0},[(Da(!0),ts(zr,null,rf(je(c).slice((je(F)-1)*je(d),je(F)*je(d)),ve=>(Da(),bo(b,{key:ve.id,embedded:"",size:"small",class:"mb-2"},{header:kt(()=>[ls("div",df,[bt(J,null,{default:kt(()=>[bt(R,{size:"small",type:"primary",secondary:"",onClick:Ar(gt=>K(ve),["stop"])},{default:kt(()=>[bt(U,null,{default:kt(()=>[bt(Y,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),bt(R,{size:"small",type:"error",secondary:"",onClick:Ar(gt=>g(ve),["stop"])},{default:kt(()=>[bt(U,null,{default:kt(()=>[bt(Y,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),bt(C,{vertical:"",class:Pr(je(a)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),ls("div",uf,[ls("span",{class:Pr(`${ve.location?"text-sm":"text-base"} font-bold`)},Qa(je(n)(ve.title)),3),ve.location?(Da(),ts("small",pf,Qa(ve.location?.name),1)):Gs("",!0)])])]),"header-extra":kt(()=>[bt(R,{size:"small",type:"primary",secondary:"",onClick:Ar(gt=>je(P).itemsMenu=ve,["stop"])},{icon:kt(()=>[bt(U,null,{default:kt(()=>[bt(Y,{icon:"carbon:arrow-right"})]),_:1})]),default:kt(()=>[Sn(" "+Qa(je(e)("open")),1)]),_:2},1032,["onClick"])]),_:2},1024))),128)),bt(z,{page:je(F),"onUpdate:page":h[4]||(h[4]=ve=>Hs(F)?F.value=ve:null),class:"mt-5 justify-end","show-size-picker":"","page-size":je(d),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(je(c).length/je(d)),"onUpdate:pageSize":te},{prefix:kt(()=>[Sn(Qa(`${je(c).length} ${je(e)("menu_s")}`),1)]),_:1},8,["page","page-size","page-count"])],64)):(Da(),bo(b,{key:1,size:"large",class:Pr(`mb-2 !border-dashed !border-2 ${je(a)("!border-zinc-300","!border-zinc-600")}`)},{default:kt(()=>[bt(xe,{description:je(e)("noMenuAvailable")},{icon:kt(()=>[bt(U,null,{default:kt(()=>[bt(Y,{icon:"carbon:model-alt"})]),_:1})]),extra:kt(()=>[ls("div",mf,[bt(R,{size:"small",onClick:h[5]||(h[5]=ve=>K(null))},{icon:kt(()=>[bt(U,null,{default:kt(()=>[bt(Y,{icon:"carbon:add-alt"})]),_:1})]),default:kt(()=>[Sn(" "+Qa(je(e)("addMenu")),1)]),_:1})])]),_:1},8,["description"])]),_:1},8,["class"]))])]),_:1}),bt(he,{show:je(re),"onUpdate:show":h[10]||(h[10]=ve=>Hs(re)?re.value=ve:null),loading:je(A)||je(O)||je(ae),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:je(H)?je(e)("editMenu"):je(e)("addMenu"),"positive-text":je(e)("validate"),"negative-text":je(e)("cancel"),onPositiveClick:oe,onNegativeClick:h[11]||(h[11]=ve=>re.value=!1)},{default:kt(()=>[bt(De,{ref_key:"formRef",ref:x,model:je(N),rules:q,"show-require-mark":!1,size:"medium",class:"my-5"},{default:kt(()=>[bt(i,{"show-label":!1,path:"title"},{default:kt(()=>[bt($,{modelValue:je(N).title,"onUpdate:modelValue":h[6]||(h[6]=ve=>je(N).title=ve),placeholder:je(e)("title"),class:"w-full",sync:""},{label:kt(()=>[Sn(Qa(je(e)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),bt(i,{"show-label":!1,path:"description"},{default:kt(()=>[bt($,{modelValue:je(N).description,"onUpdate:modelValue":h[7]||(h[7]=ve=>je(N).description=ve),placeholder:je(e)("description"),type:"textarea",class:"w-full",rows:3,sync:""},{label:kt(()=>[Sn(Qa(je(e)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),bt(ge,{"x-gap":"12",span:24},{default:kt(()=>[bt(Q,{span:12,label:je(e)("key"),path:"name"},{default:kt(()=>[bt(k,{value:je(N).name,placeholder:je(e)("key"),class:"w-full","onUpdate:value":h[8]||(h[8]=ve=>je(N).name=je(l)(ve))},null,8,["value","placeholder"])]),_:1},8,["label"]),bt(Q,{span:12,label:je(e)("location"),path:"menuLocationId"},{default:kt(()=>[bt(B,{value:je(N).menuLocationId,"onUpdate:value":h[9]||(h[9]=ve=>je(N).menuLocationId=ve),options:je(t),placeholder:je(e)("location"),"value-field":"id","label-field":"name",filterable:"",clearable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),bt(lf,{show:je(D),"onUpdate:show":h[12]||(h[12]=ve=>Hs(D)?D.value=ve:null)},null,8,["show"]),bt(rm,{show:je(W),"onUpdate:show":h[13]||(h[13]=ve=>Hs(W)?W.value=ve:null)},null,8,["show"])]))],64)}}}),yf="/creopse/assets/video-thumbnail-Bl6wKKLs.svg";var Pn=(u=>(u.VERTICAL="vertical",u.HORIZONTAL="horizontal",u))(Pn||{}),Va=(u=>(u.SELF_HOSTED="self-hosted",u.YOUTUBE="youtube",u))(Va||{});const gf=()=>{const{t:u}=ke(),e=[{label:u("horizontal"),value:Pn.HORIZONTAL,tagType:"info"},{label:u("vertical"),value:Pn.VERTICAL,tagType:"warning"}];return{getVideoDisplayTypeTagType:o=>e.find(l=>l.value===o)?.tagType||"default",getVideoDisplayTypeLabel:o=>e.find(l=>l.value===o)?.label,videoDisplayTypes:e}};class hf{id;foreignId;publisherId;title;slug;description;thumbnail;thumbnailUrl;path;url;displayType;source;visible;publishedAt;createdAt;updatedAt;publisher;constructor(e,n,a=Va.SELF_HOSTED,o=Pn.HORIZONTAL,l,t,c,fe,ae,ce,A,ne,O,I,d,F){this.id=t,this.foreignId=ce,this.publisherId=ae,this.title=e,this.slug=fe,this.description=A,this.thumbnail=ne,this.thumbnailUrl=O,this.path=n,this.url=c,this.source=a,this.visible=l,this.displayType=o,this.publishedAt=I,this.createdAt=d,this.updatedAt=F}}const bf=()=>{const{request:u}=Pe(),{t:e}=ke(),n=He(),a=Oe();return Oa(async()=>{const o=await u({url:"/video-items/youtube/channel-videos",method:"put"});if(o.failure&&o.error)throw new Error(o.error);return o.result.data},{onMutate:()=>n.start(),onSettled:()=>n.finish(),onSuccess:()=>a.success(e("success")),onError:()=>a.error(e("unableToUpdateChannelVideos")),retry:1})},kf=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=He(),l=Oe();return ut({queryKey:["video-items"],operation:"insert",isPaginated:!0,insertToPage:"first",getItemId:t=>"id"in t&&t.id?t.id:`temp-${crypto.randomUUID()}`,mutationFn:async t=>{o.start();try{const c=await n({method:"post",url:"/video-items",data:Xt(t,["id"])});if(!c.success)throw new Error(c.error||a("anErrorOccurred"));return c.result.data}finally{o.finish()}},mutationOptions:{onSuccess:()=>{l.success(a("success"))},onError:t=>{switch(t?.response?.data?.errorCode){case Mt.FORM_INVALID_DATA:e(t?.response?.data?.data);break;case Mt.REQUEST_PARAMS_MISSING:l.error(a("pleaseProvideApiKeyAndValidVideoUrl"));break;case Mt.REQUEST_DATA_RETRIEVAL_FAILED:l.error(a("videoDataCantBeRetrieve"));break;case Mt.REQUEST_DATA_ALREADY_EXISTS:l.error(a("videoAlreadyExists"));break;default:l.error(a("anErrorOccurred"))}},...u}})},wf=u=>{const{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return ut({queryKey:["video-items"],operation:"update",isPaginated:!0,getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async l=>{a.start();try{const t=await e({method:"put",url:`/video-items/${l.id}`,data:Xt(l,["id"])});if(!t.success)throw new Error(t.error||n("anErrorOccurred"));return t.result.data}finally{a.finish()}},mutationOptions:{onSuccess:()=>{o.success(n("success"))},onError:l=>{o.error(n("anErrorOccurred"))},...u}})},xf=u=>{const{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return ut({queryKey:["video-items"],operation:"remove",isPaginated:!0,allowEmptyPages:!1,getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{a.start();const t=await e({method:"delete",url:`/video-items/force/${l}`});if(a.finish(),!t.success)throw new Error(t.error);return t.result?.data},mutationOptions:{onSuccess:()=>{o.success(n("success"))},onError:l=>{o.error(n("anErrorOccurred"))},...u}})},$f=u=>{const{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return ut({queryKey:["video-items"],operation:"batch",isPaginated:!0,allowEmptyPages:!1,getItemId:l=>{if(l instanceof hf){if(typeof l.id!="string"&&typeof l.id!="number")throw new Error("VideoItem ID must be string or number");return l.id}return`temp-${crypto.randomUUID()}`},getBatchData:l=>({type:"remove",ids:Object.keys(l).filter(t=>l[t])}),mutationFn:async l=>{a.start();const t=Object.keys(l).filter(c=>l[c]);try{for(const c of t)await e({method:"delete",url:`/video-items/force/${c}`});return t}finally{a.finish()}},mutationOptions:{onSuccess:()=>{o.success(n("success"))},onError:l=>{o.error(n("anErrorOccurred"))},...u}})},Cf=(u,e,n)=>_d(["video-items"],u,o=>{const l=new URLSearchParams;return Object.entries(o).forEach(([t,c])=>{c!==void 0&&l.set(t,String(c))}),`/video-items?${l.toString()}`},{keepPreviousData:!0,staleTime:5e3,...e}),If=(u,e)=>No(["video-settings"],async()=>{const{request:n}=Pe(),a=await n({url:"/video-settings"});return a.success&&a.result.data?a.result.data:[]},{refetchOnWindowFocus:!1,...u}),Vf=()=>{const{request:u}=Pe(),{t:e}=ke(),n=He(),a=Oe();return Oa(async o=>{const l=await u({url:"/video-settings",method:"put",data:o});if(l.failure&&l.error)throw new Error(l.error);return l.result.data},{onMutate:()=>n.start(),onSettled:()=>n.finish(),onSuccess:(o,l)=>{a.success(e("success"))},onError:(o,l)=>{a.error(e("unableToUpdateSettings"))}})},{unref:Sf}=await me("vue"),{defineComponent:Ef}=await me("vue"),{unref:S,resolveComponent:uh,createVNode:ee,withCtx:de,toDisplayString:Qt,createTextVNode:Sl,openBlock:kl,createBlock:En,createCommentVNode:as,isRef:Wn,createElementBlock:ga,createSlots:Uf,createElementVNode:oa,normalizeClass:Mf,Fragment:ns,renderList:Nf,normalizeStyle:qi}=await me("vue"),Tf={key:1,class:"flex items-center gap-3"},Df={key:0,class:"w-full flex items-center justify-between mt-4"},zf={class:"flex items-center gap-3"},Af={key:1,class:"mt-4"},Pf={key:0},Lf={class:"flex items-center justify-center h-full"},Bf={class:"text-center text-dimgray text-sm"},Of={key:1,class:"flex items-center justify-center"},Ff={class:"mt-5"},qf={class:"w-full flex flex-gap-8 items-center justify-start"},Rf=["src"],jf={key:1,id:"video",autoplay:"",controls:"",style:{width:"100%"}},Kf=["src"],{inject:Yf,ref:vl,computed:os,watch:Gf}=await me("vue"),{defineStore:Hf}=await me("pinia"),Wf=Ef({__name:"index",setup(u){const{t:e,locale:n}=ke(),{tr:a,fileUrl:o,pickByTheme:l,getVideoThumbnail:t}=Xe(),{videoDisplayTypes:c}=gf(),{mutate:fe,isPending:ae}=xf(),{mutate:ce,isPending:A}=$f(),{mutate:ne,isPending:O}=kf(),{mutate:I,isPending:d}=wf(),F=Oe(),te=ea(),s=Yf("appConfig"),re=vl(""),D=zd(re,500),W=vl(null),x=vl([]),N=Hf("videos-management-store",()=>({currentTab:vl("all")}))(),q=vl(0),H=vl(6),K=vl(1),oe=os(()=>({pageSize:H.value,query:D.value,source:N.currentTab,page:K.value})),g=E=>{K.value=E,h()},P=E=>{H.value=E,h()},{data:y,refetch:h,isPending:Y}=Cf(oe);Gf(()=>y.value,E=>{x.value=E?.videoItems||[],q.value=E?.meta?.total||0,K.value=E?.meta?.currentPage||1},{deep:!0,immediate:!0});const U=vl(!1),R=vl(null),J=vl(null),T=vl({title:"",description:"",visible:!0,source:Va.SELF_HOSTED,displayType:Pn.HORIZONTAL,thumbnail:"",path:""}),C=os(()=>({title:[{required:T.value.source==Va.SELF_HOSTED,message:e("fillRequired")}],path:[{required:!0,message:e("fillRequired")}]})),b=E=>{R.value=ie.cloneDeep(E),E?T.value=ie.cloneDeep(E):T.value={title:"",description:"",visible:!0,source:Va.SELF_HOSTED,displayType:Pn.HORIZONTAL,thumbnail:"",path:""},U.value=!0},z=async E=>{te.warning({title:e("confirm"),content:e("confirmDeleteVideo"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:()=>{fe(E)}})},xe=async()=>(J.value?.validate(async E=>{if(!E){const m={title:T.value.title,description:T.value.description,visible:T.value.visible,source:T.value.source,displayType:T.value.displayType,thumbnail:T.value.thumbnail,path:T.value.path};R.value?(m.id=R.value.id,I(m)):ne(m),U.value=!1}}),!1),M=vl(!1),$=vl(!1),i=vl(""),k=vl(""),Q=vl("classic"),B=vl(!1),ge=If({enabled:!1}),{mutate:De,isPending:he}=Vf(),{mutate:ve,isPending:gt}=bf(),ct=vl({youtubeChannelId:"",youtubeApiKey:"",youtubeChannelVideosAutoUpdate:"",youtubeLastChannelVideosUpdate:""}),we=vl(ct.value),qe=os(()=>ie.isEqual(ct.value,we.value)),$e=async()=>{De(ct.value,{onSuccess:()=>Qe()})},Qe=async()=>{await ge.refetch(),ge.data.value?.forEach(E=>{ct.value[E.key]!=null&&(ct.value[E.key]=E.value)}),we.value=ie.cloneDeep(ct.value)};Qe();const L=()=>{ve(void 0,{onSuccess:()=>Qe()})},V=vl(!1),w=vl(ql()),et=vl({}),Ee=os(()=>{let E=0;for(const m in et.value)et.value[m]&&E++;return E});function st(){et.value={},h()}const G=async()=>(Ee.value?te.warning({title:e("confirm"),content:e("deleteSelectionWarningMessage",[Ee.value]),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:()=>{ce(et.value,{onSuccess:()=>{et.value={}}})}}):F.warning(e("noItemSelected")),!1),_=os(()=>!!(O.value||d.value||ae.value||A.value||he.value||gt.value||ge.isPending.value));return(E,m)=>{const ue=be,Ie=pe,Et=Ye,_a=On,jl=Ba,Kl=Pc,Cl=ll,Ft=dr,Yl=pi,_l=$l,ul=hl,Ot=on,Yt=Ac,Le=fa,Gl=Dd,sn=pr,wa=qa,ja=Fa,at=Do,_e=oo,qt=Ea,va=da,Ka=Bn,r=Ua,Es=ma,Z=Uo,Hl=ca,vi=Rl,yi=no;return kl(),ga(ns,null,[ee(jl,{to:"#alt-action"},{default:de(()=>[S(N).currentTab=="settings"?(kl(),En(Et,{key:0,loading:S(_),disabled:S(qe),type:"primary",secondary:"",onClick:$e},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:save"})]),_:1})]),default:de(()=>[Sl(" "+Qt(S(e)("saveSettings")),1)]),_:1},8,["loading","disabled"])):(kl(),ga("div",Tf,[ee(_a,{checked:S(V),"onUpdate:checked":[m[0]||(m[0]=Re=>Wn(V)?V.value=Re:null),m[1]||(m[1]=Re=>{for(const Us of S(x))Us.id&&(S(et)[Us.id]=Re);w.value=("uuidv4"in E?E.uuidv4:Sf(ql))()})]},{default:de(()=>[Sl(Qt(S(e)("selectAll")),1)]),_:1},8,["checked"]),ee(Et,{type:"primary",secondary:"",onClick:m[2]||(m[2]=Re=>b(null))},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:video-add"})]),_:1})]),default:de(()=>[Sl(" "+Qt(S(e)("addVideo")),1)]),_:1})]))]),_:1}),ee(Yl,{value:S(N).currentTab,"onUpdate:value":[m[6]||(m[6]=Re=>S(N).currentTab=Re),m[7]||(m[7]=()=>S(h)())],type:"card",size:"medium"},Uf({default:de(()=>[ee(Kl,{name:"all"},{default:de(()=>[ee(Ie,{size:"18",class:"mr-1"},{default:de(()=>[ee(ue,{icon:"carbon:collapse-all"})]),_:1}),Sl(" "+Qt(S(e)("all_")),1)]),_:1}),ee(Kl,{name:S(Va).SELF_HOSTED},{default:de(()=>[ee(Ie,{size:"18",class:"mr-1"},{default:de(()=>[ee(ue,{icon:"carbon:document-video"})]),_:1}),Sl(" "+Qt(S(e)("selfHosted")),1)]),_:1},8,["name"]),ee(Kl,{name:S(Va).YOUTUBE},{default:de(()=>[ee(Ie,{size:"18",class:"mr-1"},{default:de(()=>[ee(ue,{icon:"carbon:logo-youtube"})]),_:1}),Sl(" "+Qt(S(e)("youtube")),1)]),_:1},8,["name"]),ee(Kl,{name:"settings"},{default:de(()=>[ee(Ie,{size:"18",class:"mr-1"},{default:de(()=>[ee(ue,{icon:"carbon:settings-adjust"})]),_:1}),Sl(" "+Qt(S(e)("settings")),1)]),_:1})]),_:2},[S(N).currentTab!="settings"?{name:"suffix",fn:de(()=>[ee(Ft,{class:"!w-[250px]"},{default:de(()=>[ee(Cl,{ref_key:"searchInputRef",ref:W,value:S(re),"onUpdate:value":[m[3]||(m[3]=Re=>Wn(re)?re.value=Re:null),m[4]||(m[4]=Re=>{Re||S(h)()})],clearable:!0,placeholder:S(e)("searchVideo")},null,8,["value","placeholder"]),ee(Et,{type:"primary",secondary:"",onClick:m[5]||(m[5]=Re=>S(h)())},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:search"})]),_:1})]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["value"]),S(Ee)>0?(kl(),ga("section",Df,[oa("span",null,Qt(S(e)("nbItemsSelected",[S(Ee)])),1),oa("section",zf,[ee(Et,{type:"error",size:"small",secondary:"",onClick:G},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:trash-can"})]),_:1})]),default:de(()=>[Sl(" "+Qt(S(e)("delete")),1)]),_:1}),ee(Et,{type:"warning",size:"small",secondary:"",onClick:st},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:close"})]),_:1})]),default:de(()=>[Sl(" "+Qt(S(e)("cancelSelection")),1)]),_:1})])])):as("",!0),S(N).currentTab=="settings"?(kl(),ga("section",Af,[ee(ul,{hoverable:"",embedded:""},{header:de(()=>[Sl(Qt(S(e)("youtube")),1)]),default:de(()=>[ee(Le,{cols:"1 s:2 m:2 l:2 xl:2 2xl:2",responsive:"screen","x-gap":12,"y-gap":12},{default:de(()=>[ee(Ot,null,{default:de(()=>[ee(ul,{class:"w-full h-full",size:"small"},{default:de(()=>[ee(_l,{align:"center",justify:"space-between"},{default:de(()=>[oa("span",null,Qt(S(e)("apiKey")),1),ee(Cl,{value:S(ct).youtubeApiKey,"onUpdate:value":m[8]||(m[8]=Re=>S(ct).youtubeApiKey=Re),type:"password",class:"w-full"},null,8,["value"])]),_:1})]),_:1})]),_:1}),ee(Ot,null,{default:de(()=>[ee(ul,{class:"w-full h-full py-1.5",size:"small"},{default:de(()=>[ee(_l,{align:"center",justify:"space-between"},{default:de(()=>[oa("span",null,Qt(S(e)("autoUpdateChannelVideos")),1),ee(Yt,{value:S(ct).youtubeChannelVideosAutoUpdate,"onUpdate:value":m[9]||(m[9]=Re=>S(ct).youtubeChannelVideosAutoUpdate=Re),"checked-value":"1","unchecked-value":"0",size:"small"},{checked:de(()=>m[29]||(m[29]=[oa("div",{class:"w-6"},null,-1)])),unchecked:de(()=>m[30]||(m[30]=[oa("div",{class:"w-6"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),S(ct).youtubeChannelVideosAutoUpdate=="1"?(kl(),ga(ns,{key:0},[ee(Ot,null,{default:de(()=>[ee(ul,{class:"w-full h-full",size:"small"},{default:de(()=>[ee(_l,{align:"center",justify:"space-between"},{default:de(()=>[oa("span",null,Qt(S(e)("channelId")),1),ee(Cl,{value:S(ct).youtubeChannelId,"onUpdate:value":m[10]||(m[10]=Re=>S(ct).youtubeChannelId=Re),class:"w-full"},null,8,["value"])]),_:1})]),_:1})]),_:1}),ee(Ot,null,{default:de(()=>[ee(ul,{class:"w-full h-full",size:"small"},{default:de(()=>[ee(_l,{align:"center",justify:"space-between"},{default:de(()=>[oa("span",null,Qt(S(e)("lastUpdate")),1),oa("b",null,Qt(S(ct).youtubeLastChannelVideosUpdate?S($n)(S(ct).youtubeLastChannelVideosUpdate,{locale:S(n),inPattern:"YYYY-MM-DD HH:mm:ss",outPattern:"DD MMMM YYYY HH:mm"}):S(e)("never")),1),ee(Et,{strong:"",circle:"",secondary:"",type:"primary",title:S(e)("refresh"),disabled:S(_),onClick:L},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:restart",class:Mf({"animate-spin":S(_)})},null,8,["class"])]),_:1})]),_:1},8,["title","disabled"])]),_:1})]),_:1})]),_:1})],64)):as("",!0)]),_:1})]),_:1})])):(kl(),En(ul,{key:2,embedded:"",class:"py-10 mt-4"},{default:de(()=>[S(x).length&&!S(ge).isPending.value?(kl(),ga("section",Pf,[ee(Le,{"x-gap":"12","y-gap":"12",cols:"1 400:2 600:3 900:3 1400:4 1800:5"},{default:de(()=>[(kl(!0),ga(ns,null,Nf(S(x),(Re,Us)=>(kl(),En(Ot,{key:Us},{default:de(()=>[ee(ja,{name:"slide-fade",appear:""},{default:de(()=>[ee(ul,{bordered:"",hoverable:""},{cover:de(()=>[oa("div",Lf,[ee(Gl,{load:()=>S(t)(Re.path),fallback:Re.thumbnailUrl??S(yf),class:"w-full h-[200px] object-cover"},null,8,["load","fallback"])])]),header:de(()=>[oa("div",Bf,[ee(sn,{"line-clamp":1,"expand-trigger":"click"},{default:de(()=>[Re.id?(kl(),En(_a,{key:S(w),checked:S(et)[Re.id],"onUpdate:checked":mr=>S(et)[Re.id]=mr,class:"mr-1"},null,8,["checked","onUpdate:checked"])):as("",!0),Sl(" "+Qt(S(a)(Re.title)),1)]),_:2},1024)])]),action:de(()=>[ee(_l,{justify:"space-between",align:"center"},{default:de(()=>[ee(_l,null,{default:de(()=>[ee(wa,{bordered:!1,type:Re.visible?"success":"error"},{default:de(()=>[Sl(Qt(Re.visible?S(e)("visible"):S(e)("hidden")),1)]),_:2},1032,["type"]),ee(wa,{bordered:!1,type:Re.displayType==S(Pn).HORIZONTAL?"info":"warning"},{default:de(()=>[Sl(Qt(Re.displayType==S(Pn).HORIZONTAL?S(e)("horizontal"):S(e)("vertical")),1)]),_:2},1032,["type"])]),_:2},1024),ee(_l,null,{default:de(()=>[ee(Et,{ternary:"",circle:"",title:S(e)("play"),onClick:()=>{i.value=S(e)("video"),k.value=S(o)(Re.path),Q.value=Re.source==S(Va).YOUTUBE?"youtube":"classic",$.value=!0}},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:play"})]),_:1})]),_:2},1032,["title","onClick"]),Re.source!=S(Va).YOUTUBE?(kl(),En(Et,{key:0,ternary:"",circle:"",title:S(e)("edit"),onClick:mr=>b(Re)},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["title","onClick"])):as("",!0),ee(Et,{ternary:"",circle:"",title:S(e)("delete"),onClick:mr=>z(Re)},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["title","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),ee(at,{page:S(K),"onUpdate:page":[m[11]||(m[11]=Re=>Wn(K)?K.value=Re:null),g],class:"mt-10 justify-center","show-size-picker":"","page-size":S(H),"page-sizes":[12,24,36,48,60],"page-count":Math.ceil(S(q)/S(H)),"onUpdate:pageSize":P},{prefix:de(()=>[Sl(Qt(`${S(q)} ${S(e)("video_s")}`),1)]),_:1},8,["page","page-size","page-count"])])):S(ge).isPending.value?(kl(),ga("section",Of,[ee(_e,{size:"medium"})])):(kl(),En(qt,{key:2,description:S(e)("noVideo"),class:"my-10"},null,8,["description"]))]),_:1})),ee(vi,{show:S(U),"onUpdate:show":m[22]||(m[22]=Re=>Wn(U)?U.value=Re:null),loading:S(Y),preset:"dialog",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:S(R)?S(e)("editVideo"):S(e)("addVideo"),"positive-text":S(e)("validate"),"negative-text":S(e)("cancel"),onPositiveClick:xe,onNegativeClick:m[23]||(m[23]=Re=>U.value=!1)},{default:de(()=>[oa("div",Ff,[ee(Hl,{ref_key:"formRef",ref:J,model:S(T),rules:S(C),"show-require-mark":!1,size:"medium"},{default:de(()=>[ee(va,{label:S(e)("source"),path:"source"},{default:de(()=>[ee(_a,{checked:S(T).source,"onUpdate:checked":m[12]||(m[12]=Re=>S(T).source=Re),"checked-value":S(Va).YOUTUBE,"unchecked-value":S(Va).SELF_HOSTED},{default:de(()=>[Sl(Qt(S(e)("importVideoFromYoutube")),1)]),_:1},8,["checked","checked-value","unchecked-value"])]),_:1},8,["label"]),S(T).source==S(Va).YOUTUBE?(kl(),En(Le,{key:0,"x-gap":"12",span:24},{default:de(()=>[ee(Ka,{span:16,label:S(e)("videoShareLink"),path:"path"},{default:de(()=>[ee(Cl,{value:S(T).path,"onUpdate:value":m[13]||(m[13]=Re=>S(T).path=Re),placeholder:S(e)("videoShareLink"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),ee(Ka,{span:8,label:S(e)("displayType"),path:"displayType"},{default:de(()=>[ee(r,{value:S(T).displayType,"onUpdate:value":m[14]||(m[14]=Re=>S(T).displayType=Re),placeholder:S(e)("displayType"),options:S(c),class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"])]),_:1})):(kl(),ga(ns,{key:1},[ee(va,{"show-label":!1,path:"title"},{default:de(()=>[ee(Es,{modelValue:S(T).title,"onUpdate:modelValue":m[15]||(m[15]=Re=>S(T).title=Re),placeholder:S(e)("title"),class:"w-full",sync:""},{label:de(()=>[Sl(Qt(S(e)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),ee(va,{"show-label":!1,path:"description"},{default:de(()=>[ee(Es,{modelValue:S(T).description,"onUpdate:modelValue":m[16]||(m[16]=Re=>S(T).description=Re),placeholder:S(e)("description"),class:"w-full",type:"textarea",sync:""},{label:de(()=>[Sl(Qt(S(e)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),ee(Le,{"x-gap":"12",span:24},{default:de(()=>[ee(Ka,{span:16,label:S(e)("content"),path:"path"},{default:de(()=>[ee(Ft,null,{default:de(()=>[ee(Et,{type:"primary",secondary:"",onClick:m[17]||(m[17]=()=>{M.value=!0})},{default:de(()=>[Sl(Qt(S(e)("select")),1)]),_:1}),ee(Cl,{value:S(T).path?S(So)(S(T).path):"",placeholder:S(e)("videoname"),style:{width:"100%"},readonly:""},null,8,["value","placeholder"]),S(T).path?(kl(),ga(ns,{key:0},[ee(Et,{type:"primary",ghost:"",onClick:m[18]||(m[18]=()=>{i.value=S(e)("video"),k.value=S(o)(S(T).path),Q.value="classic",$.value=!0})},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:play"})]),_:1})]),default:de(()=>[Sl(" "+Qt(S(e)("play")),1)]),_:1}),ee(Et,{type:"primary",ghost:"",onClick:m[19]||(m[19]=()=>{S(T).path=""})},{icon:de(()=>[ee(Ie,null,{default:de(()=>[ee(ue,{icon:"carbon:trash-can"})]),_:1})]),default:de(()=>[Sl(" "+Qt(S(e)("clear")),1)]),_:1})],64)):as("",!0)]),_:1})]),_:1},8,["label"]),ee(Ka,{span:8,label:S(e)("displayType"),path:"displayType"},{default:de(()=>[ee(r,{value:S(T).displayType,"onUpdate:value":m[20]||(m[20]=Re=>S(T).displayType=Re),placeholder:S(e)("displayType"),options:S(c),class:"w-full"},null,8,["value","placeholder","options"])]),_:1},8,["label"])]),_:1}),ee(va,{label:S(e)("thumbnail"),path:"thumbnail"},{default:de(()=>[oa("div",qf,[oa("div",{class:"cursor-pointer w-full h-[150px]",onClick:m[21]||(m[21]=()=>{B.value=!0})},[S(T).thumbnail?(kl(),En(Z,{key:0,"object-fit":"cover","preview-disabled":"",class:"p-1 thumbnail-image",style:qi("border: 1px dashed "+S(l)("green","white")),src:S(o)(S(T).thumbnail||"")},null,8,["style","src"])):(kl(),ga("div",{key:1,class:"w-full h-full flex items-center justify-center",style:qi("border: 1px dashed "+S(l)("green","white"))},[ee(Ie,{size:64},{default:de(()=>[ee(ue,{icon:"carbon:image",class:"text-gray-400"})]),_:1})],4))])])]),_:1},8,["label"])],64))]),_:1},8,["model","rules"])])]),_:1},8,["show","loading","title","positive-text","negative-text"]),ee(vi,{show:S($),"onUpdate:show":m[24]||(m[24]=Re=>Wn($)?$.value=Re:null),preset:"card",style:{width:"600px"},bordered:!1,"mask-closable":!1,"close-on-esc":!1,title:S(i)},{default:de(()=>[S(Q)==="youtube"?(kl(),ga("iframe",{key:0,width:"100%",height:"380",src:S(k),frameborder:"0",allowfullscreen:""},null,8,Rf)):(kl(),ga("video",jf,[oa("source",{src:S(k)},null,8,Kf)]))]),_:1},8,["show","title"]),ee(yi,{show:S(M),"onUpdate:show":m[25]||(m[25]=Re=>Wn(M)?M.value=Re:null),title:S(e)("selectVideo"),"display-images":!1,"display-videos":!0,"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"videos",limit:0,maxSize:0,baseUrl:S(s)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:m[26]||(m[26]=Re=>{S(T).path=Re,M.value=!1})},null,8,["show","title","upload-config"]),ee(yi,{show:S(B),"onUpdate:show":m[27]||(m[27]=Re=>Wn(B)?B.value=Re:null),title:S(e)("selectImage"),"display-images":!0,"display-videos":!1,"display-audios":!1,"display-documents":!1,"display-other-types":!1,"upload-config":{folder:"images",limit:0,maxSize:0,baseUrl:S(s)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:m[28]||(m[28]=Re=>{S(T).thumbnail=Re,B.value=!1})},null,8,["show","title","upload-config"])],64)}}}),Qf=Cn(Wf,[["__scopeId","data-v-1480f5d7"]]),{t:Fe}=di.global,Ri=[{key:"maxlength",defaultValue:"",placeholder:Fe("maxInputLength"),isNumber:!0},{key:"minlength",defaultValue:"",placeholder:Fe("minInputLength"),isNumber:!0},{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],Xf={text:Ri,textarea:Ri,number:[{key:"min",defaultValue:"",placeholder:Fe("minValue"),isNumber:!0},{key:"max",defaultValue:"",placeholder:Fe("maxValue"),isNumber:!0},{key:"step",defaultValue:"1",placeholder:Fe("stepPlaceholder"),isNumber:!0},{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],checkbox:[{key:"checked-value",defaultValue:"",placeholder:Fe("checkedValue")},{key:"unchecked-value",defaultValue:"",placeholder:Fe("uncheckedValue")}],"single-select":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],"multi-select":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"max-tag-count",defaultValue:"",placeholder:Fe("maxTagCount")},{key:"max",defaultValue:"",placeholder:Fe("maxSelectCount"),isNumber:!0}],date:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"format",defaultValue:"",placeholder:Fe("dateFormat")}],daterange:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"format",defaultValue:"",placeholder:Fe("dateFormat")}],datetime:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"format",defaultValue:"",placeholder:Fe("datetimeFormat")}],datetimerange:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"format",defaultValue:"",placeholder:Fe("datetimeFormat")}],year:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],yearrange:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],month:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],monthrange:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],quarter:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],quarterrange:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],week:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],"news-article":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],"news-articles":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"max-tag-count",defaultValue:"",placeholder:Fe("maxTagCount")},{key:"max",defaultValue:"",placeholder:Fe("maxSelectCount"),isNumber:!0}],"news-category":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],"news-categories":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"max-tag-count",defaultValue:"",placeholder:Fe("maxTagCount")},{key:"max",defaultValue:"",placeholder:Fe("maxSelectCount"),isNumber:!0}],"news-tag":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],"news-tags":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"max-tag-count",defaultValue:"",placeholder:Fe("maxTagCount")},{key:"max",defaultValue:"",placeholder:Fe("maxSelectCount"),isNumber:!0}],icon:[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"library",defaultValue:"all",placeholder:Fe("iconLibrary")}],"content-model-item":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],"content-model-items":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")},{key:"max-tag-count",defaultValue:"",placeholder:Fe("maxTagCount")},{key:"max",defaultValue:"",placeholder:Fe("maxSelectCount"),isNumber:!0}],"menu-item-link":[{key:"clearable",defaultValue:"",placeholder:Fe("inputClearable")}],list:[{key:"min",defaultValue:"",placeholder:Fe("minItemCount"),isNumber:!0},{key:"max",defaultValue:"",placeholder:Fe("maxItemCount"),isNumber:!0},{key:"type",defaultValue:"text",placeholder:Fe("inputType")}],"i18n-list":[{key:"min",defaultValue:"",placeholder:Fe("minItemCount"),isNumber:!0},{key:"max",defaultValue:"",placeholder:Fe("maxItemCount"),isNumber:!0},{key:"type",defaultValue:"text",placeholder:Fe("inputType")}],switch:[{key:"checked-value",defaultValue:"",placeholder:Fe("checkedValue")},{key:"unchecked-value",defaultValue:"",placeholder:Fe("uncheckedValue")}],slider:[{key:"min",defaultValue:"",placeholder:Fe("minValue"),isNumber:!0},{key:"max",defaultValue:"",placeholder:Fe("maxValue"),isNumber:!0},{key:"step",defaultValue:"",placeholder:Fe("sliderStep"),isNumber:!0}],"range-slider":[{key:"min",defaultValue:"",placeholder:Fe("minValue"),isNumber:!0},{key:"max",defaultValue:"",placeholder:Fe("maxValue"),isNumber:!0},{key:"step",defaultValue:"",placeholder:Fe("sliderStep"),isNumber:!0}]},{t:We}=di.global,Lr=[{type:"group",label:We("textFields"),key:"text-fields",icon:"carbon:text-font",children:[{label:We("text"),value:"text"},{label:We("i18nText"),value:"i18n-text"},{label:We("textarea"),value:"textarea"},{label:We("i18nTextarea"),value:"i18n-textarea"},{label:We("editor"),value:"editor"},{label:We("i18nEditor"),value:"i18n-editor"}]},{type:"group",label:We("numericBooleanFields"),key:"numeric-boolean-fields",icon:"carbon:number-0",children:[{label:We("number"),value:"number"},{label:We("checkbox"),value:"checkbox"},{label:We("switch"),value:"switch"},{label:We("slider"),value:"slider"},{label:We("rangeSlider"),value:"range-slider"}]},{type:"group",label:We("selectionFields"),key:"selection-fields",icon:"carbon:checkbox-checked",children:[{label:We("singleSelect"),value:"single-select"},{label:We("multiSelect"),value:"multi-select"}]},{type:"group",label:We("dateFields"),key:"date-fields",icon:"carbon:calendar",children:[{label:We("date"),value:"date"},{label:We("daterange"),value:"daterange"},{label:We("datetime"),value:"datetime"},{label:We("datetimerange"),value:"datetimerange"},{label:We("year"),value:"year"},{label:We("yearrange"),value:"yearrange"},{label:We("month"),value:"month"},{label:We("monthrange"),value:"monthrange"},{label:We("quarter"),value:"quarter"},{label:We("quarterrange"),value:"quarterrange"},{label:We("week"),value:"week"}]},{type:"group",label:We("mediaFields"),key:"media-fields",icon:"carbon:image",children:[{label:We("image"),value:"image"},{label:We("gallery"),value:"gallery"},{label:We("audio"),value:"audio"},{label:We("video"),value:"video"},{label:We("document"),value:"document"},{label:We("file"),value:"file"}]},{type:"group",label:We("newsContent"),key:"news-content",icon:"carbon:document",children:[{label:We("newsArticle"),value:"news-article"},{label:We("newsArticles"),value:"news-articles"},{label:We("newsCategory"),value:"news-category"},{label:We("newsCategories"),value:"news-categories"},{label:We("newsTag"),value:"news-tag"},{label:We("newsTags"),value:"news-tags"}]},{type:"group",label:We("iconFields"),key:"icon-fields",icon:"carbon:color-palette",children:[{label:We("icon"),value:"icon"},{label:We("icons"),value:"icons"},{label:We("color"),value:"color"},{label:We("gradient"),value:"gradient"}]},{type:"group",label:We("specialContent"),key:"special-content",icon:"carbon:content-view",children:[{label:We("contentItem"),value:"content-model-item"},{label:We("contentItems"),value:"content-model-items"},{label:We("menuItemLink"),value:"menu-item-link"}]},{type:"group",label:We("listFields"),key:"list-fields",icon:"carbon:list",children:[{label:We("list"),value:"list"},{label:We("i18nList"),value:"i18n-list"},{label:We("albums"),value:"albums"}]}],{useModel:Jf,mergeModels:Zf,defineComponent:e_}=await me("vue"),{renderList:ss,Fragment:vn,openBlock:Zt,createElementBlock:pa,unref:Be,createVNode:tt,withCtx:lt,resolveComponent:ji,createElementVNode:Ql,createBlock:za,createCommentVNode:Br,toDisplayString:Xl,createTextVNode:Qn,normalizeClass:t_,isRef:Ki}=await me("vue"),l_={class:"flex items-center"},a_={class:"flex items-center justify-between w-full"},n_={class:"flex items-center justify-between"},o_={class:"text-base font-semibold ml-4"},s_={class:"text-xs text-slate-400"},r_={class:"text-xs text-slate-400"},i_={class:"text-xs text-slate-400"},c_={class:"text-xs text-slate-400"},d_={key:0},u_={class:"text-xs text-slate-400"},p_={key:1},m_={class:"text-xs text-slate-400"},f_={key:2},__={class:"text-xs text-slate-400"},v_={key:3},y_={class:"text-xs text-slate-400"},g_={key:0,class:"w-full flex items-center"},h_={class:"w-full flex items-center"},b_={class:"w-full"},k_={class:"text-sm"},{storeToRefs:w_}=await me("pinia"),{ref:ko,computed:Or,h:rs,inject:is}=await me("vue"),x_=e_({__name:"Fields",props:Zf({type:{},collectionKey:{default:void 0},parentItemIndex:{default:void 0}},{modelValue:{default:[],required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(u){const{t:e,locale:n}=ke(),{tr:a,formatKey:o,pickByTheme:l}=Xe(),{isLightTheme:t}=w_(To()),{data:c}=Ln(),fe=u,ae=Jf(u,"modelValue"),ce=oe=>{for(const g of Lr){const P=g.children.find(y=>y.value===oe);if(P)return P.label}return null},A=ko(!1),ne=ko(null),O=ko(null),I=ko(null),d=ko(),F=(oe,g)=>{O.value=I.value=oe,ne.value=g;for(const P of Lr)P.children.find(h=>h.value===oe)&&(d.value=P.key);A.value=!0},te=oe=>{s(oe).value=!s(oe).value},s=oe=>Or({get:()=>oe.value===O.value,set:g=>{g?O.value=oe.value:O.value=null}}),re=Or(()=>!O.value||O.value===I.value),D=()=>{O.value&&ne.value!==null&&(ae.value[ne.value].type=O.value),A.value=!1},W=oe=>rs("div",{class:"flex items-center"},[rs(pe,{size:21,class:"text-gray-500"},{default:()=>rs(be,{icon:oe.icon})}),rs("span",{class:"font-normal ml-2 "},{default:()=>oe.label}),rs("span",{class:"text-gray-500 ml-1"},{default:()=>`(${oe.children.length})`})]),x=is("renderSelectLabel"),N=is("removeCollectionField"),q=is("removeSingleton"),H=is("onCreateItemOption"),K=is("expandedNames",()=>Or(()=>ko([]).value));return(oe,g)=>{const P=Ye,y=qa,h=ll,Y=on,U=ma,R=dr,J=fa,T=Ra,C=On,b=Ua,z=ji("color-picker"),xe=ur,M=Fa,$=ui,i=ro,k=so,Q=hl,B=ji("Draggable"),ge=$l,De=Fc,he=Oc,ve=Id,gt=pi,ct=Rl;return Zt(),pa(vn,null,[tt(B,{list:ae.value,class:"w-full"},{default:lt(()=>[(Zt(!0),pa(vn,null,ss(ae.value,(we,qe)=>(Zt(),za(Q,{key:`field-${qe}`,size:"small",class:"my-2",hoverable:""},{default:lt(()=>[tt(k,{"expanded-names":Be(K)(fe.type=="collection"?`c-${fe.parentItemIndex}-f-${qe}`:`s-${qe}`).value,"onUpdate:expandedNames":$e=>Be(K)(fe.type=="collection"?`c-${fe.parentItemIndex}-f-${qe}`:`s-${qe}`).value=$e,"display-directive":"show","default-expanded-names":["1"],class:"field-collapse"},{"header-extra":lt(({collapsed:$e})=>[Ql("div",l_,[tt(P,{size:"small",type:"error",secondary:"",onClick:()=>{fe.type==="collection"?Be(N)&&Be(N)(fe.collectionKey,qe):Be(q)&&Be(q)(qe)},title:Be(e)("delete")},{default:lt(()=>[tt(Be(pe),null,{default:lt(()=>[tt(Be(be),{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick","title"]),g[3]||(g[3]=Ql("div",{class:"w-4"},null,-1)),tt(Be(pe),null,{default:lt(()=>[$e?(Zt(),za(Be(be),{key:0,icon:"fa-solid:chevron-left"})):(Zt(),za(Be(be),{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)])]),arrow:lt(()=>g[4]||(g[4]=[Ql("span",null,null,-1)])),default:lt(()=>[tt(i,{name:"1"},{header:lt(()=>[Ql("div",a_,[Ql("div",n_,[tt(Be(pe),{size:"18",class:"cursor-move mr-2"},{default:lt(()=>[tt(Be(be),{icon:"fa-solid:grip-lines"})]),_:1}),tt(y,{size:"small",type:"info"},{default:lt(()=>[Qn(Xl(qe+1),1)]),_:2},1024),Ql("span",o_,Xl(Be(a)(we.label)),1)])])]),default:lt(()=>[tt(J,{span:24,"x-gap":"6"},{default:lt(()=>[tt(Y,{span:6},{default:lt(()=>[Ql("span",s_,Xl(Be(e)("fieldKey")),1),tt(h,{value:we.key,placeholder:Be(e)("fieldKey"),class:"w-full","onUpdate:value":$e=>we.key=Be(o)($e)},null,8,["value","placeholder","onUpdate:value"])]),_:2},1024),tt(Y,{span:10},{default:lt(()=>[tt(U,{modelValue:we.label,"onUpdate:modelValue":$e=>we.label=$e,placeholder:Be(e)("title"),class:"w-full",sync:""},{label:lt(()=>[Ql("span",r_,Xl(Be(e)("title")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024),tt(Y,{span:8},{default:lt(()=>[Ql("span",i_,Xl(Be(e)("type")),1),tt(R,null,{default:lt(()=>[tt(h,{value:ce(we.type),placeholder:Be(e)("type"),class:"w-full field-type-input",readonly:"",onClick:$e=>F(we.type,qe)},null,8,["value","placeholder","onClick"]),tt(P,{secondary:"",onClick:$e=>F(we.type,qe)},{icon:lt(()=>[tt(Be(be),{icon:"carbon:chevron-down"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),tt(T,{class:"!mt-4 !mb-2"}),tt(J,{span:24,"x-gap":"6"},{default:lt(()=>[tt(Y,{span:10,class:"flex items-center"},{default:lt(()=>[tt(C,{checked:we.required,"onUpdate:checked":$e=>we.required=$e,size:"medium"},{default:lt(()=>[Qn(Xl(Be(e)("requiredField")),1)]),_:2},1032,["checked","onUpdate:checked"])]),_:2},1024),tt(Y,{span:14},{default:lt(()=>[["content-model-item","content-model-items"].includes(we.type)?(Zt(),pa(vn,{key:0},[Ql("span",c_,Xl(Be(e)("contentModel")),1),tt(b,{value:we.defaultValue,"onUpdate:value":$e=>we.defaultValue=$e,options:Be(c),placeholder:Be(e)("contentModel"),"render-label":Be(x),"label-field":"title","value-field":"id",filterable:"",class:"w-full"},null,8,["value","onUpdate:value","options","placeholder","render-label"])],64)):(Zt(),pa(vn,{key:1},[we.type==="color"||we.type==="gradient"?(Zt(),pa("div",d_,[Ql("span",u_,Xl(Be(e)("defaultValue")),1),tt(z,{"pure-color":we.defaultValue,"onUpdate:pureColor":$e=>we.defaultValue=$e,"default-pure-color":"#00000000","picker-type":"chrome","use-type":we.type==="color"?"pure":"gradient",format:we.type==="color"?"hex":"rgb",shape:"circle","z-index":5e3,theme:Be(t)?"white":"black",lang:Be(n)},null,8,["pure-color","onUpdate:pureColor","use-type","format","theme","lang"])])):we.type==="i18n-text"?(Zt(),pa("div",p_,[tt(U,{modelValue:we.defaultValue,"onUpdate:modelValue":$e=>we.defaultValue=$e,placeholder:Be(e)("defaultValue"),type:"text",class:"w-full",sync:""},{label:lt(()=>[Ql("span",m_,Xl(Be(e)("defaultValue")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])):we.type==="i18n-textarea"?(Zt(),pa("div",f_,[tt(U,{modelValue:we.defaultValue,"onUpdate:modelValue":$e=>we.defaultValue=$e,placeholder:Be(e)("defaultValue"),type:"textarea",class:"w-full",rows:2,sync:""},{label:lt(()=>[Ql("span",__,Xl(Be(e)("defaultValue")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])):we.type==="i18n-editor"?(Zt(),pa("div",v_,[tt(U,{modelValue:we.defaultValue,"onUpdate:modelValue":$e=>we.defaultValue=$e,placeholder:Be(e)("defaultValue"),type:"editor",class:"w-full",sync:""},{label:lt(()=>[Ql("span",y_,Xl(Be(e)("defaultValue")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])):(Zt(),za(h,{key:4,value:we.defaultValue,"onUpdate:value":$e=>we.defaultValue=$e,placeholder:Be(e)("defaultValue"),class:"w-full"},null,8,["value","onUpdate:value","placeholder"]))],64))]),_:2},1024)]),_:2},1024),we.type==="multi-select"||we.type==="single-select"?(Zt(),za(T,{key:0,"title-placement":"left",class:"!my-4"},{default:lt(()=>[Qn(Xl(Be(e)("options")),1)]),_:1})):Br("",!0),tt(M,{name:"slide-fade",appear:""},{default:lt(()=>[we.type==="multi-select"||we.type==="single-select"?(Zt(),pa("div",g_,[tt(xe,{value:we.options,"onUpdate:value":$e=>we.options=$e,placeholder:Be(e)("addOption"),"on-create":$e=>Be(H)?Be(H)($e,qe):null,"show-sort-button":"",class:"w-full"},{"create-button-default":lt(()=>[Qn(Xl(Be(e)("addOption")),1)]),default:lt(({value:$e})=>[Ql("div",h_,[tt(h,{value:$e.value,placeholder:Be(e)("optionValue"),style:{"margin-right":"1%",width:"30%"},type:"text","onUpdate:value":Qe=>$e.value=Be(o)(Qe)},null,8,["value","placeholder","onUpdate:value"]),tt(U,{modelValue:$e.label,"onUpdate:modelValue":Qe=>$e.label=Qe,placeholder:Be(e)("optionText"),class:"w-full",sync:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])])]),_:2},1032,["value","onUpdate:value","placeholder","on-create"])])):Br("",!0)]),_:2},1024),(Zt(!0),pa(vn,null,ss(Be(Xf),($e,Qe,L)=>(Zt(),pa(vn,{key:L},[we.type===Qe?(Zt(),za(k,{key:0,"arrow-placement":"right","display-directive":"show","default-expanded-names":[],class:"settings-collapse"},{arrow:lt(()=>[tt(Be(pe),{size:"18"},{default:lt(()=>[tt(Be(be),{icon:"carbon:chevron-right"})]),_:1})]),default:lt(()=>[tt(i,{name:"1"},{header:lt(()=>[tt(T,{"title-placement":"left",class:"!my-4"},{default:lt(()=>[Qn(Xl(Be(e)("settings")),1)]),_:1})]),default:lt(()=>[tt(M,{name:"slide-fade",appear:""},{default:lt(()=>[Ql("div",b_,[(Zt(!0),pa(vn,null,ss($e,V=>(Zt(),za(J,{key:V.key,span:24,"x-gap":"12",class:"mb-2"},{default:lt(()=>[tt(Y,{span:10},{default:lt(()=>[tt(h,{value:V.key,placeholder:Be(e)("settingKey"),class:"w-full",readonly:""},null,8,["value","placeholder"])]),_:2},1024),tt(Y,{span:14},{default:lt(()=>[V.isNumber?(Zt(),za($,{key:0,value:we.settings[V.key],"onUpdate:value":w=>we.settings[V.key]=w,"default-value":V.defaultValue?parseInt(V.defaultValue):void 0,placeholder:V.placeholder||Be(e)("settingValue"),class:"w-full"},null,8,["value","onUpdate:value","default-value","placeholder"])):(Zt(),za(h,{key:1,value:we.settings[V.key],"onUpdate:value":w=>we.settings[V.key]=w,"default-value":V.defaultValue,placeholder:V.placeholder||Be(e)("settingValue"),class:"w-full"},null,8,["value","onUpdate:value","default-value","placeholder"]))]),_:2},1024)]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)):Br("",!0)],64))),128))]),_:2},1024)]),_:2},1032,["expanded-names","onUpdate:expandedNames"])]),_:2},1024))),128))]),_:1},8,["list"]),tt(ct,{show:Be(A),"onUpdate:show":g[2]||(g[2]=we=>Ki(A)?A.value=we:null),preset:"card",size:"medium",style:{width:"650px"},title:Be(e)("fieldType"),bordered:!1,"mask-closable":!1,closable:!1,"close-on-esc":!1},{"header-extra":lt(()=>[tt(ge,{align:"center"},{default:lt(()=>[tt(P,{secondary:"",size:"small",type:"success",disabled:Be(re),onClick:D},{default:lt(()=>[tt(Be(be),{icon:"carbon:checkmark",class:"mr-1"}),Qn(" "+Xl(Be(e)("select")),1)]),_:1},8,["disabled"]),tt(P,{secondary:"",size:"small",type:"error",onClick:g[0]||(g[0]=we=>A.value=!1)},{default:lt(()=>[tt(Be(be),{icon:"carbon:close",class:"mr-1"}),Qn(" "+Xl(Be(e)("close")),1)]),_:1})]),_:1})]),default:lt(()=>[tt(gt,{animated:"",type:"line",size:"medium",placement:"left",value:Be(d),"onUpdate:value":g[1]||(g[1]=we=>Ki(d)?d.value=we:null),style:{height:"100%"}},{default:lt(()=>[(Zt(!0),pa(vn,null,ss(Be(Lr),(we,qe)=>(Zt(),za(ve,{name:we.key,tab:W(we),key:qe},{default:lt(()=>[tt(he,{hoverable:"",clickable:"",bordered:""},{default:lt(()=>[(Zt(!0),pa(vn,null,ss(we.children,$e=>(Zt(),za(De,{class:t_(s($e).value?`${Be(l)("bg-zinc-300 text-black","bg-zinc-600 text-white")} `:""),key:$e.value,onClick:Qe=>te($e)},{suffix:lt(()=>[tt(C,{checked:s($e).value,"onUpdate:checked":Qe=>s($e).value=Qe,size:"medium",onClick:Qe=>te($e)},null,8,["checked","onUpdate:checked","onClick"])]),default:lt(()=>[Ql("span",k_,Xl($e.label),1)]),_:2},1032,["class","onClick"]))),128))]),_:2},1024)]),_:2},1032,["name","tab"]))),128))]),_:1},8,["value"])]),_:1},8,["show","title"])],64)}}}),Yi=Cn(x_,[["__scopeId","data-v-f2dba27a"]]),{useModel:$_,mergeModels:C_,defineComponent:I_}=await me("vue"),{unref:Me,toDisplayString:Bl,openBlock:el,createElementBlock:cs,createCommentVNode:wo,createTextVNode:Aa,resolveComponent:ph,withCtx:Ke,createVNode:Ze,createElementVNode:Xa,createBlock:El,normalizeStyle:Fr,isRef:V_,renderList:S_,Fragment:Gi,normalizeClass:E_}=await me("vue"),U_={class:"text-base"},M_={key:0},N_={key:0},T_={key:0},D_={class:"flex items-center"},z_={class:"flex items-center justify-between w-full"},A_={class:"text-base font-semibold"},P_={class:"text-xs text-slate-400"},L_={class:"text-xs text-slate-400"},B_={class:"text-xs text-slate-400"},{defineAsyncComponent:O_,ref:Ja,computed:Ws,watch:Qs,h:F_,provide:Un}=await me("vue"),{storeToRefs:q_}=await me("pinia"),ld=I_({__name:"index",props:C_({title:{default:""},rawDataStructure:{default:()=>({})},updateDataStructure:{}},{show:{type:Boolean,default:!1,required:!0},showModifiers:{}}),emits:["update:show"],setup(u){const e=O_(()=>Mo(()=>import("./vue3-ts-jsoneditor-C8auy2Cl.js").then(i=>i.bI),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),{t:n}=ke(),{tr:a,pickByTheme:o,formatKey:l}=Xe(),{isLightTheme:t}=q_(To());Ln();const c=u,fe=$_(u,"show"),ae=He(),ce=Oe(),A=ea(),ne=Ja(!1),O=Ja(null),I=Ja({}),d=Ja({}),F={key:"",label:"",type:"text",required:!1,options:[],settings:{},defaultValue:""},te=Ja(!1),s=Ja(!1),re=Ja(!1),D=Ja(!1),W=Ja({}),x=i=>Ws({get:()=>W.value[i]?["1"]:[],set:k=>{W.value[i]=k.length>0}}),N=Ws({get:()=>ie.omit(I.value,["index"]),set:i=>{I.value=I.value.index!==void 0?{index:I.value.index,...i}:{...i}}});Qs(()=>D.value,i=>{Object.entries(I.value).forEach(([k,Q],B)=>{k!=="index"&&(W.value[`c-${B}`]=i,Q?.items?.forEach((ge,De)=>{W.value[`c-${B}-f-${De}`]=i}))})}),Qs(()=>re.value,i=>{Object.entries(I.value).forEach(([k,Q],B)=>{k==="index"&&Q?.forEach((ge,De)=>{W.value[`s-${De}`]=i})})});const q=Ws(()=>ie.isEqual(I.value,d.value)),H=()=>{I.value?I.value.index&&Array.isArray(I.value.index)?I.value.index.push(ie.cloneDeep(F)):I.value.index=[ie.cloneDeep(F)]:I.value={index:[ie.cloneDeep(F)]}},K=i=>{I.value&&Array.isArray(I.value.index)&&I.value.index.splice(i,1)},oe=()=>{const i=ql();I.value?I.value[i]={key:"",title:"",items:[]}:I.value={[i]:{key:"",title:"",items:[]}}},g=i=>{if(I.value){const{[i]:k,...Q}=I.value;I.value=Q}},P=i=>{I.value&&I.value[i].items.push(ie.cloneDeep(F))},y=(i,k)=>{if(I.value){const Q=I.value[i];Q&&Array.isArray(Q.items)&&Q.items.splice(k,1)}},h=i=>i.title&&i.key&&i.key!=="index",Y=()=>I.value&&typeof I.value=="object"?Object.keys(I.value).filter(i=>i!=="index").length:0,U=Ws(()=>I.value?Object.keys(I.value).filter(i=>i!=="index"):[]),R=i=>U.value.indexOf(i),J=Ja(!1),T=async()=>{const i=ie.cloneDeep(I.value),k=ie.cloneDeep(I.value);J.value=!1,ne.value=!0,ae.start();const Q=[];if(ie.forIn(i,(B,ge)=>{ge!=="index"&&Q.push(B.key)}),ie.forIn(i,(B,ge)=>{if(ge!=="index"){const De=ie.keys(i).filter(he=>he!=="index").indexOf(ge);if(B&&B.key){if(B.key==="index")return ce.error(n("keyIndexIsReservedInCollections")),J.value=!0,!1;if(Q.filter(ve=>ve==B.key).length>1)return ce.error(n("collectionKeyIsNotUnique",[B.key])),J.value=!0,!1;if(Array.isArray(B.items))for(const[ve,gt]of B.items.entries())if(gt.key){if(B.items.filter(we=>we.key===gt.key).length>1)return ce.error(n("fieldKeyOfCollectionIsNotUnique",[gt.key,B.key])),J.value=!0,!1}else return ce.error(n("fieldKeyOfCollectionIsRequired",[ve+1,B.key])),J.value=!0,!1}else return ce.error(n("collectionKeyIsRequired",[De+1])),J.value=!0,!1}else if(Array.isArray(B))for(const[De,he]of B.entries())if(he.key){if(B.filter(gt=>gt.key===he.key).length>1)return ce.error(n("singletonKeyIsNotUnique",[he.key])),J.value=!0,!1}else return ce.error(n("singletonKeyIsRequired",[De+1])),J.value=!0,!1}),J.value){ne.value=!1,ae.finish();return}ie.forIn(k,(B,ge)=>{ge!=="index"&&ge!==B.key&&Tc(i,ge,B.key)}),await c.updateDataStructure(i),ne.value=!1,ae.finish()},C=()=>{ie.isEqual(I.value,d.value)?fe.value=!1:A.warning({title:n("confirm"),content:n("confirmCloseDataStructure"),positiveText:n("yes"),negativeText:n("no"),onPositiveClick:async()=>{fe.value=!1}})};Qs(()=>c.rawDataStructure,i=>{I.value=i?ie.cloneDeep(i):{},ie.forIn(i,(k,Q)=>{Q!=="index"?(I.value[Q].key=Q,k?.items?.forEach((B,ge)=>{I.value[Q].items[ge].settings||(I.value[Q].items[ge].settings={})})):k?.forEach((B,ge)=>{I.value[Q][ge].settings||(I.value[Q][ge].settings={})})}),d.value=ie.cloneDeep(I.value)},{immediate:!0,deep:!0});const b=i=>F_("span",{},{default:()=>a(i.title)}),z=(i,k)=>({value:`option_${k+1}${i+1}`,label:""}),{copy:xe,copied:M,isSupported:$}=Wc();return Qs(()=>M.value,i=>{i&&ce.success(n("dataStructureCopied"))}),Un("removeCollectionField",y),Un("onCreateItemOption",z),Un("renderSelectLabel",b),Un("removeSingleton",K),Un("addSingleton",H),Un("expandCollections",D),Un("expandSingletons",re),Un("expandedNames",x),(i,k)=>{const Q=fi,B=be,ge=pe,De=Ye,he=$l,ve=hl,gt=Sa,ct=on,we=qa,qe=ll,$e=ma,Qe=fa,L=Ra,V=mi,w=ro,et=so,Ee=ri;return el(),El(Ee,{modelValue:fe.value,"onUpdate:modelValue":k[13]||(k[13]=st=>fe.value=st),"close-on-esc":!1,closable:!1,onOnSizeChange:k[14]||(k[14]=st=>{O.value=st})},{header:Ke(()=>[Xa("div",U_,[Ze(Q,{depth:"1"},{default:Ke(()=>[Aa(Bl(Me(n)("dataStructure"))+" ",1),i.title?(el(),cs("span",M_,"Â -Â "+Bl(i.title),1)):wo("",!0)]),_:1})])]),"header-extra":Ke(()=>[Ze(he,{align:"center"},{default:Ke(()=>[Ze(De,{secondary:"",title:Me(n)("save"),loading:Me(ne),disabled:Me(q),onClick:k[0]||(k[0]=st=>T())},{icon:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Ze(B,{icon:"carbon:save"})]),_:1})]),default:Ke(()=>[Aa(" "+Bl(Me(n)("save")),1)]),_:1},8,["title","loading","disabled"]),Ze(De,{secondary:"",type:"error",title:Me(n)("close"),disabled:Me(ne),onClick:k[1]||(k[1]=st=>C())},{icon:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Ze(B,{icon:"carbon:close"})]),_:1})]),default:Ke(()=>[Aa(" "+Bl(Me(n)("close")),1)]),_:1},8,["title","disabled"])]),_:1})]),default:Ke(()=>[Xa("section",{style:Fr(`min-height: ${Me(O)?.windowHeight-Me(O)?.headerHeight-5}px`),class:E_(`w-full h-full ${Me(o)("bg-slate-200","bg-zinc-800")}`)},[Ze(Qe,{cols:"1 s:1 m:2 l:2 xl:2 2xl:2",responsive:"screen"},{default:Ke(()=>[Ze(ct,{class:"mx-2 mt-2"},{default:Ke(()=>[Ze(ve,{embedded:"",bordered:"",segmented:""},{header:Ke(()=>[Aa(Bl(Me(n)("singletons"))+"Â  ",1),Me(I).index?.length?(el(),cs("span",N_," ("+Bl(Me(I).index?.length)+") ",1)):wo("",!0)]),"header-extra":Ke(()=>[Ze(he,null,{default:Ke(()=>[Me($)&&Me(te)?(el(),El(De,{key:0,size:"small",type:"warning",secondary:"",title:Me(n)("copy"),onClick:k[2]||(k[2]=st=>Me(xe)(JSON.stringify(Me(I).index)))},{icon:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Ze(B,{icon:"carbon:copy"})]),_:1})]),_:1},8,["title"])):wo("",!0),Ze(De,{size:"small",type:"warning",secondary:"",onClick:k[3]||(k[3]=()=>{te.value=!Me(te),Me(te)&&(s.value=!1)})},{default:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Me(te)?(el(),El(B,{key:0,icon:"carbon:code"})):(el(),El(B,{key:1,icon:"carbon:code-hide"}))]),_:1})]),_:1}),Ze(De,{size:"small",type:"primary",secondary:"",onClick:k[4]||(k[4]=st=>re.value=!Me(re))},{default:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Me(re)?(el(),El(B,{key:0,icon:"carbon:collapse-categories"})):(el(),El(B,{key:1,icon:"carbon:expand-categories"}))]),_:1})]),_:1}),Ze(De,{size:"small",type:"primary",secondary:"",onClick:k[5]||(k[5]=st=>H())},{default:Ke(()=>[Ze(ge,{class:"mr-1"},{default:Ke(()=>[Ze(B,{icon:"carbon:add-alt"})]),_:1}),Aa(" "+Bl(Me(n)("addSingleton")),1)]),_:1})]),_:1})]),_:1}),Me(te)?(el(),El(Me(e),{key:0,height:Me(O)?.windowHeight-Me(O)?.headerHeight-100,"dark-theme":!Me(t),class:"creopse-json-editor",mode:"tree",json:Me(I).index,"onUpdate:json":k[6]||(k[6]=st=>Me(I).index=st)},null,8,["height","dark-theme","json"])):(el(),El(gt,{key:1,style:Fr(`max-height: ${Me(O)?.windowHeight-Me(O)?.headerHeight-100}px`)},{default:Ke(()=>[Ze(Yi,{modelValue:Me(I).index,"onUpdate:modelValue":k[7]||(k[7]=st=>Me(I).index=st),type:"singleton"},null,8,["modelValue"])]),_:1},8,["style"]))]),_:1}),Ze(ct,{class:"mx-2 mt-2"},{default:Ke(()=>[Ze(ve,{embedded:"",bordered:"",segmented:""},{header:Ke(()=>[Aa(Bl(Me(n)("collections"))+"Â  ",1),Y()>0?(el(),cs("span",T_," ("+Bl(Y())+") ",1)):wo("",!0)]),"header-extra":Ke(()=>[Ze(he,null,{default:Ke(()=>[Me($)&&Me(s)?(el(),El(De,{key:0,size:"small",type:"warning",secondary:"",title:Me(n)("copy"),onClick:k[8]||(k[8]=st=>Me(xe)(JSON.stringify(Me(N))))},{icon:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Ze(B,{icon:"carbon:copy"})]),_:1})]),_:1},8,["title"])):wo("",!0),Ze(De,{size:"small",type:"warning",secondary:"",onClick:k[9]||(k[9]=()=>{s.value=!Me(s),Me(s)&&(te.value=!1)})},{default:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Me(s)?(el(),El(B,{key:0,icon:"carbon:code"})):(el(),El(B,{key:1,icon:"carbon:code-hide"}))]),_:1})]),_:1}),Ze(De,{size:"small",type:"primary",secondary:"",onClick:k[10]||(k[10]=st=>D.value=!Me(D))},{default:Ke(()=>[Ze(ge,null,{default:Ke(()=>[Me(D)?(el(),El(B,{key:0,icon:"carbon:collapse-categories"})):(el(),El(B,{key:1,icon:"carbon:expand-categories"}))]),_:1})]),_:1}),Ze(De,{size:"small",type:"primary",secondary:"",onClick:k[11]||(k[11]=st=>oe())},{default:Ke(()=>[Ze(ge,{class:"mr-1"},{default:Ke(()=>[Ze(B,{icon:"carbon:add-alt"})]),_:1}),Aa(" "+Bl(Me(n)("addCollection")),1)]),_:1})]),_:1})]),_:1}),Me(s)?(el(),El(Me(e),{key:0,height:Me(O)?.windowHeight-Me(O)?.headerHeight-100,"dark-theme":!Me(t),class:"creopse-json-editor",mode:"tree",json:Me(N),"onUpdate:json":k[12]||(k[12]=st=>V_(N)?N.value=st:null)},null,8,["height","dark-theme","json"])):(el(),El(gt,{key:1,style:Fr(`max-height: ${Me(O)?.windowHeight-Me(O)?.headerHeight-100}px`)},{default:Ke(()=>[(el(!0),cs(Gi,null,S_(Me(I)||{},(st,G,_)=>(el(),cs(Gi,{key:_},[G!="index"?(el(),El(ve,{key:0,size:"small",class:"my-2",embedded:""},{default:Ke(()=>[Ze(et,{"expanded-names":x(`c-${_}`).value,"onUpdate:expandedNames":E=>x(`c-${_}`).value=E,"display-directive":"show","default-expanded-names":["1"]},{"header-extra":Ke(({collapsed:E})=>[Xa("div",D_,[Ze(De,{size:"small",type:"error",secondary:"",onClick:m=>g(G)},{default:Ke(()=>[Ze(ge,{class:"mr-1"},{default:Ke(()=>[Ze(B,{icon:"carbon:trash-can"})]),_:1}),Aa(" "+Bl(Me(n)("delete")),1)]),_:2},1032,["onClick"]),k[15]||(k[15]=Xa("div",{class:"w-4"},null,-1)),Ze(ge,null,{default:Ke(()=>[E?(el(),El(B,{key:0,icon:"fa-solid:chevron-left"})):(el(),El(B,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)])]),arrow:Ke(()=>k[16]||(k[16]=[Xa("span",null,null,-1)])),default:Ke(()=>[Ze(w,{name:"1"},{header:Ke(()=>[Xa("div",z_,[Ze(he,null,{default:Ke(()=>[Ze(we,{size:"small",type:"success"},{default:Ke(()=>[Aa(Bl(R(G)+1),1)]),_:2},1024),Xa("span",A_,Bl(Me(a)(st.title)),1)]),_:2},1024)])]),default:Ke(()=>[Ze(Qe,{span:24,"x-gap":"6"},{default:Ke(()=>[Ze(ct,{span:6},{default:Ke(()=>[Xa("span",P_,Bl(Me(n)("fieldKey")),1),Ze(qe,{value:st.key,placeholder:Me(n)("collectionKey"),class:"w-full",size:"small","onUpdate:value":E=>st.key=Me(l)(E)},null,8,["value","placeholder","onUpdate:value"])]),_:2},1024),Ze(ct,{span:11},{default:Ke(()=>[Ze($e,{modelValue:st.title,"onUpdate:modelValue":E=>st.title=E,placeholder:Me(n)("title"),class:"w-full",size:"small",sync:""},{label:Ke(()=>[Xa("span",L_,Bl(Me(n)("title")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024),Ze(ct,{span:7},{default:Ke(()=>[Xa("span",B_,Bl(Me(n)("actions")),1),Ze(De,{block:"",size:"small",type:"primary",disabled:!h(st),secondary:"",class:"w-full",onClick:E=>P(G)},{default:Ke(()=>[Ze(ge,{class:"mr-1"},{default:Ke(()=>[Ze(B,{icon:"carbon:add-alt"})]),_:1}),Aa(" "+Bl(Me(n)("addField")),1)]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024),Ze(L,{class:"!my-4.75"}),h(st)?(el(),El(Yi,{key:0,modelValue:Me(I)[G].items,"onUpdate:modelValue":E=>Me(I)[G].items=E,"parent-item-index":_,"collection-key":G,type:"collection"},null,8,["modelValue","onUpdate:modelValue","parent-item-index","collection-key"])):(el(),El(V,{key:1,bordered:"",type:"info"},{default:Ke(()=>[Aa(Bl(Me(n)("cannotAddCollectionField")),1)]),_:1}))]),_:2},1024)]),_:2},1032,["expanded-names","onUpdate:expandedNames"])]),_:2},1024)):wo("",!0)],64))),128))]),_:1},8,["style"]))]),_:1})]),_:1})],6)]),_:1},8,["modelValue"])}}}),{t:sa}=di.global,R_=[{label:sa("text"),value:"text"},{label:sa("textarea"),value:"textarea"},{label:sa("number"),value:"number"},{label:sa("switch"),value:"switch"},{label:sa("singleSelect"),value:"single-select"},{label:sa("multiSelect"),value:"multi-select"},{label:sa("slider"),value:"slider"},{label:sa("image"),value:"image"},{label:sa("icon"),value:"icon"},{label:sa("color"),value:"color"},{label:sa("gradient"),value:"gradient"},{label:sa("dimensions"),value:"dimensions"},{label:sa("background"),value:"background"},{label:sa("border"),value:"border"},{label:sa("shadow"),value:"shadow"}],{useModel:j_,mergeModels:K_,defineComponent:Y_}=await me("vue"),{unref:Ae,toDisplayString:rl,openBlock:il,createElementBlock:xo,createCommentVNode:ds,createTextVNode:ha,resolveComponent:Hi,withCtx:Ne,createVNode:ze,createElementVNode:wl,createBlock:Ol,isRef:G_,renderList:Wi,Fragment:Qi,normalizeStyle:Xi,normalizeClass:H_}=await me("vue"),W_={class:"text-base"},Q_={key:0},X_={key:0},J_={class:"flex items-center"},Z_={class:"flex items-center justify-between w-full"},ev={class:"text-base font-semibold"},tv={class:"text-xs text-slate-400"},lv={class:"text-xs text-slate-400"},av={class:"text-xs text-slate-400"},nv={class:"flex items-center"},ov={class:"flex items-center justify-between w-full"},sv={class:"flex items-center justify-between"},rv={class:"text-base font-semibold ml-4"},iv={class:"text-xs text-slate-400"},cv={class:"text-xs text-slate-400"},dv={class:"text-xs text-slate-400"},uv={key:0},pv={class:"text-xs text-slate-400"},mv={key:0,class:"w-full flex items-center"},fv={class:"w-full flex items-center"},{defineAsyncComponent:_v,ref:Mn,computed:qr,watch:Rr}=await me("vue"),{storeToRefs:vv}=await me("pinia"),yv=Y_({__name:"index",props:K_({title:{default:""},settingsStructure:{default:()=>({})},updateSettingsStructure:{}},{show:{type:Boolean,default:!1,required:!0},showModifiers:{}}),emits:["update:show"],setup(u){const e=_v(()=>Mo(()=>import("./vue3-ts-jsoneditor-C8auy2Cl.js").then(b=>b.bI),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),n=ea(),a=Oe(),o=He(),{t:l,locale:t}=ke(),{pickByTheme:c,tr:fe,formatKey:ae}=Xe(),{isLightTheme:ce}=vv(To()),A=u,ne=j_(u,"show"),O=Mn(null),I=Mn(!1),d=Mn({}),F=Mn({}),te={key:"",label:"",type:"text",required:!1,options:[],defaultValue:""},s=Mn(!1),re=Mn(!1),D=Mn({}),W=b=>qr({get:()=>D.value[b]?["1"]:[],set:z=>{D.value[b]=z.length>0}});Rr(()=>A.settingsStructure,b=>{d.value=b?ie.cloneDeep(b):{},ie.forIn(b,(z,xe)=>{d.value[xe].key=xe}),F.value=ie.cloneDeep(d.value)},{immediate:!0,deep:!0});const x=qr(()=>ie.isEqual(d.value,F.value)),N=Mn(!1),q=async()=>{const b=ie.cloneDeep(d.value),z=ie.cloneDeep(d.value);N.value=!1,I.value=!0,o.start();const xe=Object.values(b).map(M=>M.key);if(ie.forIn(b,(M,$)=>{const i=ie.keys(b).indexOf($);if(M&&M.key){if(xe.filter(Q=>Q==M.key).length>1)return a.error(l("groupKeyIsNotUnique",[M.key])),N.value=!0,!1;if(Array.isArray(M.items))for(const[Q,B]of M.items.entries())if(B.key){if(M.items.filter(De=>De.key===B.key).length>1)return a.error(l("fieldKeyOfGroupIsNotUnique",[B.key,M.key])),N.value=!0,!1}else return a.error(l("fieldKeyOfGroupIsRequired",[Q+1,M.key])),N.value=!0,!1}else return a.error(l("groupKeyIsRequired",[i+1])),N.value=!0,!1}),N.value){I.value=!1,o.finish();return}ie.forIn(z,(M,$)=>{$!==M.key&&Tc(b,$,M.key)}),await A.updateSettingsStructure(b),I.value=!1,o.finish()},H=()=>{ie.isEqual(d.value,F.value)?ne.value=!1:n.warning({title:l("confirm"),content:l("confirmCloseDataStructure"),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{ne.value=!1}})},K=()=>d.value&&typeof d.value=="object"?Object.keys(d.value).length:0,oe=qr(()=>d.value?Object.keys(d.value):[]),g=b=>oe.value.indexOf(b),P=()=>{const b=ql();d.value?d.value[b]={key:"",title:"",items:[]}:d.value={[b]:{key:"",title:"",items:[]}}},y=b=>{if(d.value){const{[b]:z,...xe}=d.value;d.value=xe}},h=b=>{d.value&&d.value[b].items.push(ie.cloneDeep(te))},Y=(b,z)=>{if(d.value){const xe=d.value[b];xe&&Array.isArray(xe.items)&&xe.items.splice(z,1)}},U=b=>b.title&&b.key,R=(b,z)=>({value:`option_${z+1}${b+1}`,label:""});Rr(()=>re.value,b=>{Object.entries(d.value).forEach(([z,xe],M)=>{D.value[`c-${M}`]=b,xe?.items?.forEach(($,i)=>{D.value[`c-${M}-f-${i}`]=b})})});const{copy:J,copied:T,isSupported:C}=Wc();return Rr(()=>T.value,b=>{b&&a.success(l("settingsStructureCopied"))}),(b,z)=>{const xe=fi,M=be,$=pe,i=Ye,k=$l,Q=on,B=hl,ge=qa,De=ll,he=ma,ve=fa,gt=Ra,ct=Ua,we=On,qe=Hi("color-picker"),$e=ur,Qe=Fa,L=ro,V=so,w=Hi("Draggable"),et=mi,Ee=Sa,st=ri;return il(),Ol(st,{modelValue:ne.value,"onUpdate:modelValue":z[7]||(z[7]=G=>ne.value=G),"close-on-esc":!1,closable:!1,onOnSizeChange:z[8]||(z[8]=G=>{O.value=G})},{header:Ne(()=>[wl("div",W_,[ze(xe,{depth:"1"},{default:Ne(()=>[ha(rl(Ae(l)("sectionSettings"))+" ",1),b.title?(il(),xo("span",Q_,"Â -Â "+rl(b.title),1)):ds("",!0)]),_:1})])]),"header-extra":Ne(()=>[ze(k,{align:"center"},{default:Ne(()=>[ze(i,{secondary:"",title:Ae(l)("save"),loading:Ae(I),disabled:Ae(x),onClick:z[0]||(z[0]=G=>q())},{icon:Ne(()=>[ze($,null,{default:Ne(()=>[ze(M,{icon:"carbon:save"})]),_:1})]),default:Ne(()=>[ha(" "+rl(Ae(l)("save")),1)]),_:1},8,["title","loading","disabled"]),ze(i,{secondary:"",type:"error",title:Ae(l)("close"),disabled:Ae(I),onClick:z[1]||(z[1]=G=>H())},{icon:Ne(()=>[ze($,null,{default:Ne(()=>[ze(M,{icon:"carbon:close"})]),_:1})]),default:Ne(()=>[ha(" "+rl(Ae(l)("close")),1)]),_:1},8,["title","disabled"])]),_:1})]),default:Ne(()=>[wl("section",{style:Xi(`min-height: ${Ae(O)?.windowHeight-Ae(O)?.headerHeight-5}px`),class:H_(`w-full h-full ${Ae(c)("bg-slate-200","bg-zinc-800")}`)},[ze(ve,{cols:"4","item-responsive":"",responsive:"screen"},{default:Ne(()=>[ze(Q,{span:"0 s:0 m:0 l:1 xl:1 2xl:1"}),ze(Q,{span:"4 s:4 m:4 l:2 xl:2 2xl:2",class:"mt-2"},{default:Ne(()=>[ze(B,{embedded:"",bordered:"",segmented:""},{header:Ne(()=>[ha(rl(Ae(l)("groups"))+"Â  ",1),K()>0?(il(),xo("span",X_," ("+rl(K())+") ",1)):ds("",!0)]),"header-extra":Ne(()=>[ze(k,null,{default:Ne(()=>[Ae(C)&&Ae(s)?(il(),Ol(i,{key:0,size:"small",type:"warning",secondary:"",title:Ae(l)("copy"),onClick:z[2]||(z[2]=G=>Ae(J)(JSON.stringify(Ae(d))))},{icon:Ne(()=>[ze($,null,{default:Ne(()=>[ze(M,{icon:"carbon:copy"})]),_:1})]),_:1},8,["title"])):ds("",!0),ze(i,{size:"small",type:"warning",secondary:"",onClick:z[3]||(z[3]=()=>{s.value=!Ae(s)})},{default:Ne(()=>[ze($,null,{default:Ne(()=>[Ae(s)?(il(),Ol(M,{key:0,icon:"carbon:code"})):(il(),Ol(M,{key:1,icon:"carbon:code-hide"}))]),_:1})]),_:1}),ze(i,{size:"small",type:"primary",secondary:"",onClick:z[4]||(z[4]=G=>re.value=!Ae(re))},{default:Ne(()=>[ze($,null,{default:Ne(()=>[Ae(re)?(il(),Ol(M,{key:0,icon:"carbon:collapse-categories"})):(il(),Ol(M,{key:1,icon:"carbon:expand-categories"}))]),_:1})]),_:1}),ze(i,{size:"small",type:"primary",secondary:"",onClick:z[5]||(z[5]=G=>P())},{default:Ne(()=>[ze($,{class:"mr-1"},{default:Ne(()=>[ze(M,{icon:"carbon:add-alt"})]),_:1}),ha(" "+rl(Ae(l)("addGroup")),1)]),_:1})]),_:1})]),_:1}),Ae(s)?(il(),Ol(Ae(e),{key:0,height:Ae(O)?.windowHeight-Ae(O)?.headerHeight-100,"dark-theme":!Ae(ce),class:"creopse-json-editor",mode:"tree",json:Ae(d),"onUpdate:json":z[6]||(z[6]=G=>G_(d)?d.value=G:null)},null,8,["height","dark-theme","json"])):(il(),Ol(Ee,{key:1,style:Xi(`max-height: ${Ae(O)?.windowHeight-Ae(O)?.headerHeight-100}px`)},{default:Ne(()=>[(il(!0),xo(Qi,null,Wi(Ae(d)||{},(G,_,E)=>(il(),Ol(B,{key:E,size:"small",class:"my-2",embedded:""},{default:Ne(()=>[ze(V,{"expanded-names":W(`c-${E}`).value,"onUpdate:expandedNames":m=>W(`c-${E}`).value=m,"display-directive":"show","default-expanded-names":["1"]},{"header-extra":Ne(({collapsed:m})=>[wl("div",J_,[ze(i,{size:"small",type:"error",secondary:"",onClick:ue=>y(_)},{default:Ne(()=>[ze($,{class:"mr-1"},{default:Ne(()=>[ze(M,{icon:"carbon:trash-can"})]),_:1}),ha(" "+rl(Ae(l)("delete")),1)]),_:2},1032,["onClick"]),z[9]||(z[9]=wl("div",{class:"w-4"},null,-1)),ze($,null,{default:Ne(()=>[m?(il(),Ol(M,{key:0,icon:"fa-solid:chevron-left"})):(il(),Ol(M,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)])]),arrow:Ne(()=>z[10]||(z[10]=[wl("span",null,null,-1)])),default:Ne(()=>[ze(L,{name:"1"},{header:Ne(()=>[wl("div",Z_,[ze(k,null,{default:Ne(()=>[ze(ge,{size:"small",type:"success"},{default:Ne(()=>[ha(rl(g(_)+1),1)]),_:2},1024),wl("span",ev,rl(Ae(fe)(G.title)),1)]),_:2},1024)])]),default:Ne(()=>[ze(ve,{span:24,"x-gap":"6"},{default:Ne(()=>[ze(Q,{span:6},{default:Ne(()=>[wl("span",tv,rl(Ae(l)("fieldKey")),1),ze(De,{value:G.key,placeholder:Ae(l)("groupKey"),class:"w-full",size:"small","onUpdate:value":m=>G.key=Ae(ae)(m)},null,8,["value","placeholder","onUpdate:value"])]),_:2},1024),ze(Q,{span:11},{default:Ne(()=>[ze(he,{modelValue:G.title,"onUpdate:modelValue":m=>G.title=m,placeholder:Ae(l)("title"),class:"w-full",size:"small",sync:""},{label:Ne(()=>[wl("span",lv,rl(Ae(l)("title")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024),ze(Q,{span:7},{default:Ne(()=>[wl("span",av,rl(Ae(l)("actions")),1),ze(i,{block:"",size:"small",type:"primary",disabled:!U(G),secondary:"",class:"w-full",onClick:m=>h(_)},{default:Ne(()=>[ze($,{class:"mr-1"},{default:Ne(()=>[ze(M,{icon:"carbon:add-alt"})]),_:1}),ha(" "+rl(Ae(l)("addField")),1)]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024),ze(gt,{class:"!my-4.75"}),U(G)?(il(),Ol(w,{key:0,list:Ae(d)[_].items,class:"w-full"},{default:Ne(()=>[(il(!0),xo(Qi,null,Wi(Ae(d)[_].items,(m,ue)=>(il(),Ol(B,{key:`field-${ue}`,size:"small",class:"my-2",hoverable:""},{default:Ne(()=>[ze(V,{"expanded-names":W(`c-${_}-f-${ue}`).value,"onUpdate:expandedNames":Ie=>W(`c-${_}-f-${ue}`).value=Ie,"display-directive":"show","default-expanded-names":["1"],class:"field-collapse"},{"header-extra":Ne(({collapsed:Ie})=>[wl("div",nv,[ze(i,{size:"small",type:"error",secondary:"",onClick:()=>{Y(_,ue)},title:Ae(l)("delete")},{default:Ne(()=>[ze($,null,{default:Ne(()=>[ze(M,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick","title"]),z[11]||(z[11]=wl("div",{class:"w-4"},null,-1)),ze($,null,{default:Ne(()=>[Ie?(il(),Ol(M,{key:0,icon:"fa-solid:chevron-left"})):(il(),Ol(M,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)])]),arrow:Ne(()=>z[12]||(z[12]=[wl("span",null,null,-1)])),default:Ne(()=>[ze(L,{name:"1"},{header:Ne(()=>[wl("div",ov,[wl("div",sv,[ze($,{size:"18",class:"cursor-move mr-2"},{default:Ne(()=>[ze(M,{icon:"fa-solid:grip-lines"})]),_:1}),ze(ge,{size:"small",type:"info"},{default:Ne(()=>[ha(rl(ue+1),1)]),_:2},1024),wl("span",rv,rl(Ae(fe)(m.label)),1)])])]),default:Ne(()=>[ze(ve,{span:24,"x-gap":"6"},{default:Ne(()=>[ze(Q,{span:6},{default:Ne(()=>[wl("span",iv,rl(Ae(l)("fieldKey")),1),ze(De,{value:m.key,placeholder:Ae(l)("fieldKey"),class:"w-full","onUpdate:value":Ie=>m.key=Ae(ae)(Ie)},null,8,["value","placeholder","onUpdate:value"])]),_:2},1024),ze(Q,{span:10},{default:Ne(()=>[ze(he,{modelValue:m.label,"onUpdate:modelValue":Ie=>m.label=Ie,placeholder:Ae(l)("title"),class:"w-full",sync:""},{label:Ne(()=>[wl("span",cv,rl(Ae(l)("title")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024),ze(Q,{span:8},{default:Ne(()=>[wl("span",dv,rl(Ae(l)("type")),1),ze(ct,{value:m.type,"onUpdate:value":Ie=>m.type=Ie,options:Ae(R_),placeholder:Ae(l)("type"),"value-field":"value","label-field":"label",filterable:"",class:"w-full"},null,8,["value","onUpdate:value","options","placeholder"])]),_:2},1024)]),_:2},1024),ze(gt,{class:"!mt-4 !mb-2"}),ze(ve,{span:24,"x-gap":"6"},{default:Ne(()=>[ze(Q,{span:10,class:"flex items-center"},{default:Ne(()=>[ze(we,{checked:m.required,"onUpdate:checked":Ie=>m.required=Ie,size:"medium"},{default:Ne(()=>[ha(rl(Ae(l)("requiredField")),1)]),_:2},1032,["checked","onUpdate:checked"])]),_:2},1024),ze(Q,{span:14},{default:Ne(()=>[m.type==="color"||m.type==="gradient"?(il(),xo("div",uv,[wl("span",pv,rl(Ae(l)("defaultValue")),1),ze(qe,{"pure-color":m.defaultValue,"onUpdate:pureColor":Ie=>m.defaultValue=Ie,"default-pure-color":"#00000000","picker-type":"chrome","use-type":m.type==="color"?"pure":"gradient",format:m.type==="color"?"hex":"rgb",shape:"circle","z-index":5e3,theme:Ae(ce)?"white":"black",lang:Ae(t)},null,8,["pure-color","onUpdate:pureColor","use-type","format","theme","lang"])])):(il(),Ol(De,{key:1,value:m.defaultValue,"onUpdate:value":Ie=>m.defaultValue=Ie,placeholder:Ae(l)("defaultValue"),class:"w-full"},null,8,["value","onUpdate:value","placeholder"]))]),_:2},1024)]),_:2},1024),m.type==="multi-select"||m.type==="single-select"?(il(),Ol(gt,{key:0,"title-placement":"left",class:"!my-4"},{default:Ne(()=>[ha(rl(Ae(l)("options")),1)]),_:1})):ds("",!0),ze(Qe,{name:"slide-fade",appear:""},{default:Ne(()=>[m.type==="multi-select"||m.type==="single-select"?(il(),xo("div",mv,[ze($e,{value:m.options,"onUpdate:value":Ie=>m.options=Ie,placeholder:Ae(l)("addOption"),"on-create":Ie=>R?R(Ie,ue):null,"show-sort-button":"",class:"w-full"},{"create-button-default":Ne(()=>[ha(rl(Ae(l)("addOption")),1)]),default:Ne(({value:Ie})=>[wl("div",fv,[ze(De,{value:Ie.value,placeholder:Ae(l)("optionValue"),style:{"margin-right":"1%",width:"30%"},type:"text","onUpdate:value":Et=>Ie.value=Ae(ae)(Et)},null,8,["value","placeholder","onUpdate:value"]),ze(he,{modelValue:Ie.label,"onUpdate:modelValue":Et=>Ie.label=Et,placeholder:Ae(l)("optionText"),class:"w-full",sync:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])])]),_:2},1032,["value","onUpdate:value","placeholder","on-create"])])):ds("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["expanded-names","onUpdate:expandedNames"])]),_:2},1024))),128))]),_:2},1032,["list"])):(il(),Ol(et,{key:1,bordered:"",type:"info"},{default:Ne(()=>[ha(rl(Ae(l)("cannotAddGroupField")),1)]),_:1}))]),_:2},1024)]),_:2},1032,["expanded-names","onUpdate:expandedNames"])]),_:2},1024))),128))]),_:1},8,["style"]))]),_:1}),ze(Q,{span:"0 s:0 m:0 l:1 xl:1 2xl:1"})]),_:1})],6)]),_:1},8,["modelValue"])}}}),gv=Cn(yv,[["__scopeId","data-v-854dbd9b"]]),{defineComponent:hv}=await me("vue"),{unref:dt,renderList:Ji,Fragment:us,openBlock:Za,createElementBlock:ps,resolveComponent:mh,createBlock:ms,createCommentVNode:Zi,withCtx:fl,createVNode:cl,createElementVNode:fs,toDisplayString:Xn,createTextVNode:_s,withModifiers:jr,normalizeClass:ec,isRef:Xs}=await me("vue"),bv={class:"flex items-center"},kv={class:"text-base"},wv={class:"mt-2"},{ref:en}=await me("vue"),xv=hv({__name:"index",setup(u){const{t:e}=ke(),{tr:n,pickByTheme:a,isInDevMode:o}=Xe(),{data:l}=ii(),{mutate:t,isPending:c}=xp(),{mutate:fe,isPending:ae}=td(),ce=en(12),A=en(1),ne=P=>{ce.value=P},O={name:"",title:"",content:"",slug:""},I=en(!1),d=en(null),F=en(O),te={title:[{required:!0,message:e("fillRequired")}]},s=en(null),re=P=>{s.value=ie.cloneDeep(P),F.value=ie.cloneDeep(P||O),I.value=!0},D=async()=>(d.value?.validate(async P=>{if(!P){const y={title:F.value.title};s.value?fe({slug:s.value.slug,...y},{onSuccess:()=>{}}):t({name:ie.startCase(ie.camelCase(n(F.value.title))).replace(/\s+/g,""),...y},{onSuccess:()=>{}}),I.value=!1}}),!1),W=en(null),x=en(!1),N=P=>{W.value=P,x.value=!0},q=async P=>{fe({slug:W.value?.slug,dataStructure:P},{onSuccess:y=>{N(y)}})},H=en(null),K=en(!1),oe=P=>{H.value=P,K.value=!0},g=async P=>{fe({slug:H.value?.slug,settingsStructure:P},{onSuccess:y=>{oe(y)}})};return(P,y)=>{const h=be,Y=pe,U=Ye,R=$l,J=Ra,T=qa,C=ro,b=so,z=hl,xe=Do,M=Ea,$=ma,i=da,k=ca,Q=Rl;return Za(),ps(us,null,[dt(l)&&dt(l).length?(Za(),ps(us,{key:0},[(Za(!0),ps(us,null,Ji(dt(l).slice((dt(A)-1)*dt(ce),dt(A)*dt(ce)),B=>(Za(),ms(z,{key:B.id,hoverable:"",embedded:"",size:"small",class:"mb-2"},{default:fl(()=>[cl(b,{"default-expanded-names":[],"display-directive":"show"},{"header-extra":fl(({collapsed:ge})=>[cl(Y,null,{default:fl(()=>[ge?(Za(),ms(h,{key:0,icon:"fa-solid:chevron-left"})):(Za(),ms(h,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),arrow:fl(()=>y[6]||(y[6]=[fs("span",null,null,-1)])),default:fl(()=>[cl(C,{name:"1"},{header:fl(()=>[fs("div",bv,[cl(R,null,{default:fl(()=>[dt(o)?(Za(),ps(us,{key:0},[cl(U,{size:"small",type:"primary",secondary:"",onClick:jr(ge=>N(B),["stop"])},{default:fl(()=>[cl(Y,{class:"mr-1"},{default:fl(()=>[cl(h,{icon:"carbon:data-1"})]),_:1}),_s(" "+Xn(dt(e)("dataStructure")),1)]),_:2},1032,["onClick"]),cl(U,{size:"small",type:"info",secondary:"",title:dt(e)("sectionSettings"),onClick:jr(ge=>oe(B),["stop"])},{default:fl(()=>[cl(Y,{class:"mr-1"},{default:fl(()=>[cl(h,{icon:"carbon:settings-edit"})]),_:1}),_s(" "+Xn(dt(e)("settings")),1)]),_:2},1032,["title","onClick"])],64)):Zi("",!0),cl(U,{size:"small",type:"primary",secondary:"",title:dt(e)("edit"),onClick:jr(ge=>re(B),["stop"])},{default:fl(()=>[cl(Y,null,{default:fl(()=>[cl(h,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["title","onClick"])]),_:2},1024),cl(J,{vertical:"",class:ec(dt(a)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"]),fs("span",kv,Xn(dt(n)(B.title)),1)])]),default:fl(()=>[fs("div",null,Xn(dt(e)("sectionUsedXTimesOnPages",[B.pagesCount])),1),fs("section",wv,[(Za(!0),ps(us,null,Ji(dt(vd)(B.pages||[],"id"),ge=>(Za(),ms(T,{key:ge.id,size:"small",class:"mr-1",type:"success"},{default:fl(()=>[_s(Xn(dt(n)(ge.title)),1)]),_:2},1024))),128))]),Zi("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),cl(xe,{page:dt(A),"onUpdate:page":y[0]||(y[0]=B=>Xs(A)?A.value=B:null),class:"mt-5 justify-end","show-size-picker":"","page-size":dt(ce),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(dt(l).length/dt(ce)),"onUpdate:pageSize":ne},{prefix:fl(()=>[_s(Xn(`${dt(l).length} ${dt(e)("section_s")}`),1)]),_:1},8,["page","page-size","page-count"])],64)):(Za(),ms(z,{key:1,size:"large",class:ec(`mb-2 !border-dashed !border-2 ${dt(a)("!border-zinc-300","!border-zinc-600")}`)},{default:fl(()=>[cl(M,{description:dt(e)("noSectionAvailable")},{icon:fl(()=>[cl(Y,null,{default:fl(()=>[cl(h,{icon:"carbon:page-break"})]),_:1})]),_:1},8,["description"])]),_:1},8,["class"])),cl(Q,{show:dt(I),"onUpdate:show":y[2]||(y[2]=B=>Xs(I)?I.value=B:null),loading:dt(c)||dt(ae),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:dt(s)?dt(e)("editSection"):dt(e)("addSection"),"positive-text":dt(e)("validate"),"negative-text":dt(e)("cancel"),onPositiveClick:D,onNegativeClick:y[3]||(y[3]=B=>I.value=!1)},{default:fl(()=>[cl(k,{ref_key:"formRef",ref:d,model:dt(F),rules:te,"show-require-mark":!1,size:"medium"},{default:fl(()=>[cl(i,{"show-label":!1,path:"title",class:"mt-5"},{default:fl(()=>[cl($,{modelValue:dt(F).title,"onUpdate:modelValue":y[1]||(y[1]=B=>dt(F).title=B),placeholder:dt(e)("title"),class:"w-full",sync:""},{label:fl(()=>[_s(Xn(dt(e)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),cl(ld,{show:dt(x),"onUpdate:show":y[4]||(y[4]=B=>Xs(x)?x.value=B:null),title:dt(n)(dt(W)?.title),"raw-data-structure":dt(W)?.dataStructure,"update-data-structure":q},null,8,["show","title","raw-data-structure"]),cl(gv,{show:dt(K),"onUpdate:show":y[5]||(y[5]=B=>Xs(K)?K.value=B:null),title:dt(n)(dt(H)?.title),"settings-structure":dt(H)?.settingsStructure,"update-settings-structure":g},null,8,["show","title","settings-structure"])],64)}}}),ad=(u,e)=>No(["newsletter-emails"],async()=>{const{request:n}=Pe(),a=await n({url:"/newsletter/emails"});return a.success&&a.result.data?a.result.data:[]},{refetchOnWindowFocus:!1,...u}),nd=(u,e)=>No(["newsletter-phones"],async()=>{const{request:n}=Pe(),a=await n({url:"/newsletter/phones"});return a.success&&a.result.data?a.result.data:[]},{refetchOnWindowFocus:!1,...u}),$v=(u,e)=>No(["newsletter-campaigns"],async()=>{const{request:n}=Pe(),a=await n({url:"/newsletter/campaigns"});return a.success&&a.result.data?a.result.data:[]},{refetchOnWindowFocus:!1,...u});class Cv{id;email;createdAt;updatedAt;constructor(e,n,a,o){this.email=e,this.id=n,this.createdAt=a,this.updatedAt=o}}const Iv=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["newsletter-emails"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/newsletter/emails",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Vv=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["newsletter-emails"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/newsletter/emails/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Sv=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["newsletter-emails"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/newsletter/emails/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},Ev=u=>{const{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return ut({queryKey:["newsletter-emails"],operation:"batch",getItemId:l=>{if(l instanceof Cv){if(typeof l.id!="string"&&typeof l.id!="number")throw new Error("NewsletterEmail ID must be string or number");return l.id}return`temp-${crypto.randomUUID()}`},getBatchData:l=>({type:"remove",ids:l}),mutationFn:async l=>{a.start();try{for(let t=0;t<l.length;t++)await e({url:`/newsletter/emails/${l[t]}`,method:"delete"});return l}finally{a.finish()}},mutationOptions:{onSuccess:()=>{o.success(n("success"))},onError:l=>{o.error(n("anErrorOccurred"))},...u}})},Uv=()=>{const{request:u}=Pe();return Oa(async e=>{const n=await u({method:"post",url:"/newsletter/emails",data:e});if(n.failure&&n.error)throw new Error(n.error);return n.result.data},{})},{defineComponent:Mv}=await me("vue"),{unref:ot,createVNode:Nt,withCtx:Tt,toDisplayString:Nn,createTextVNode:Jn,resolveComponent:fh,createElementVNode:tc,openBlock:Kr,createBlock:lc,createCommentVNode:Nv,isRef:ac,Fragment:Tv,createElementBlock:Dv}=await me("vue"),zv={class:"flex items-center justify-center"},{ref:tn,h:ra,computed:Av,onBeforeUnmount:Pv}=await me("vue"),Lv=Mv({__name:"Email",setup(u){const e=He(),n=Oe(),a=ea(),{data:o,refetch:l,isPending:t}=ad(),{mutate:c,isPending:fe}=Ev(),{mutate:ae}=Sv(),{mutate:ce,isPending:A}=Iv(),{mutate:ne,isPending:O}=Vv(),{mutateAsync:I}=Uv(),{t:d,locale:F}=ke(),te=tn(""),s=tn(),re={pageSize:12,prefix:({itemCount:i})=>ra("div",{class:"font-bold"},{default:()=>`${d("total")}: ${i}`})},D=[{type:"selection"},{title:d("email"),key:"email",resizable:!0,width:200,ellipsis:{tooltip:!0},render(i){return ra("div",{},{default:()=>i.email})}},{title:d("updateAt"),key:"updatedAt",width:125,render(i){return ra("div",{},{default:()=>$n(i.updatedAt,{locale:F.value,outPattern:"DD MMMM YYYY"})})}},{title:d("createdAt"),key:"createdAt",width:125,render(i){return ra("div",{},{default:()=>$n(i.createdAt,{locale:F.value,outPattern:"DD MMMM YYYY"})})}},{title:()=>ra(ll,{ref:s,placeholder:d("search"),value:te.value,onInput:i=>{te.value=i}},{suffix:()=>ra(pe,{},{default:()=>ra(be,{icon:"carbon:search"})})}),key:"actions",width:150,render(i){return ra("div",{class:"flex justify-end items-center w-full"},[ra(Ye,{size:"small",type:"warning",secondary:!0,onClick:()=>{g(i)},renderIcon:()=>ra(pe,null,{default:()=>ra(be,{icon:"carbon:edit"})})}),ra("div",{class:"w-2"}),ra(Ye,{size:"small",type:"error",secondary:!0,onClick:()=>{a.warning({title:d("confirm"),content:d("confirmDeleteEmailAddress"),positiveText:d("yes"),negativeText:d("no"),onPositiveClick:async()=>{i.id&&ae({id:i.id})}})},renderIcon:()=>ra(pe,null,{default:()=>ra(be,{icon:"carbon:trash-can"})})})])},fixed:"right"}],W=Av(()=>{if(!te.value)return o.value;const i=o.value?.filter(k=>k.email.toLowerCase().includes(te.value.toLowerCase()));return s.value&&s.value.focus(),i}),x=tn(!1),N=tn(!1),q=tn(null),H=tn(null),K=tn({email:""}),oe={email:[{required:!0,message:d("fillRequired")},{trigger:["input"],validator(i,k){return k&&!Eo.isEmail(k)?new Error(d("invalidEmail")):!0}}]},g=i=>{q.value=ie.cloneDeep(i),i?K.value=ie.cloneDeep(i):K.value={email:""},N.value=!0},P=async()=>(H.value?.validate(async i=>{if(!i){const k={email:K.value.email};q.value?q.value.email!==K.value.email&&(o.value||[]).findIndex(Q=>Q.email==K.value.email)>-1?n.error(d("sameEmailAddressMessage")):ne({id:q.value.id,...k}):(o.value||[]).findIndex(Q=>Q.email==K.value.email)>-1?n.error(d("sameEmailAddressMessage")):ce(k),N.value=!1}}),!1);let y=null;const h=()=>{y&&(y.destroy(),y=null)};Pv(h);const Y=(i,k)=>k.map(Q=>i.map(B=>Q[B])),U=()=>{y=n.info(d("pleaseBePatient"),{duration:0,type:"loading"}),Mo(()=>import("./export2excel-C7pSMF4U.js"),__vite__mapDeps([27,28,29,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(i=>{var k=["no","email","createdAt","updatedAt"];const Q=ie.sortBy(o.value?.map((ge,De)=>({no:De+1,...ge})),"email"),B=Y(k,Q);try{i.export_json_to_excel({header:k,data:B,filename:`newsletter_emails_${Date.now().toString()}`,autoWidth:!0,bookType:"xlsx"}),h()}catch{h(),n.error(d("anErrorOccurred"))}})},R=()=>{y=n.info(d("pleaseBePatient"),{duration:0,type:"loading"}),Mo(()=>import("./export2excel-C7pSMF4U.js"),__vite__mapDeps([27,28,29,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(i=>{var k=["email"];const Q=Y(k,[{email:"adresse@email.com"}]);try{i.export_json_to_excel({header:k,data:Q,filename:"newsletter_emails_template",autoWidth:!0,bookType:"xlsx"}),h()}catch{h(),n.error(d("anErrorOccurred"))}})},J=tn(!1),T=async({results:i})=>{x.value=!0,e.start(),y||(y=n.info(d("pleaseBePatient"),{duration:0,type:"loading"}));for(let k=0;k<i.length;k++)i[k].email&&o.value?.findIndex(Q=>Q.email==i[k].email)==-1&&(y&&(y.content=`${d("pleaseBePatient")}: ${k} ${d("task_s")} / ${i.length}`),await I({email:i[k].email}));await l(),h(),e.finish(),x.value=!1,J.value=!1},C=tn(ql()),b=tn([]),z=i=>i.id,xe=i=>{b.value=i},M=()=>{b.value=[],C.value=ql()},$=async()=>(b.value.length?a.warning({title:d("confirm"),content:d("deleteSelectionWarningMessage",[b.value.length]),positiveText:d("yes"),negativeText:d("no"),onPositiveClick:()=>{c(b.value,{onSuccess:()=>{M()}})}}):n.warning(d("noItemSelected")),!1);return(i,k)=>{const Q=qc,B=$l,ge=Ba,De=hl,he=Fa,ve=cr,gt=sr,ct=da,we=ca,qe=Rl,$e=Qc;return Kr(),Dv(Tv,null,[Nt(ge,{to:"#alt-action"},{default:Tt(()=>[Nt(B,null,{default:Tt(()=>[Nt(Q,{onPositiveClick:k[0]||(k[0]=Qe=>U())},{trigger:Tt(()=>[Nt(ot(Ye),{type:"success",secondary:""},{icon:Tt(()=>[Nt(ot(pe),{size:"18"},{default:Tt(()=>[Nt(ot(be),{icon:"carbon:upload"})]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("export")),1)]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("exportDataInExcelFile")),1)]),_:1}),Nt(ot(Ye),{type:"info",secondary:"",onClick:k[1]||(k[1]=Qe=>J.value=!0)},{icon:Tt(()=>[Nt(ot(pe),{size:"18"},{default:Tt(()=>[Nt(ot(be),{icon:"carbon:download"})]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("import")),1)]),_:1}),Nt(ot(Ye),{type:"primary",secondary:"",onClick:k[2]||(k[2]=Qe=>g(null))},{icon:Tt(()=>[Nt(ot(pe),{size:"18"},{default:Tt(()=>[Nt(ot(be),{icon:"carbon:add-alt"})]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("addEmailAddress")),1)]),_:1})]),_:1})]),_:1}),Nt(he,{name:"slide-fade",appear:""},{default:Tt(()=>[ot(b).length?(Kr(),lc(De,{key:0,class:"my-2",size:"small",embedded:""},{default:Tt(()=>[Nt(B,{align:"center",justify:"space-between"},{default:Tt(()=>[tc("span",null,Nn(ot(d)("nbItemsSelected",[ot(b).length])),1),Nt(B,{align:"center",justify:"space-between"},{default:Tt(()=>[Nt(ot(Ye),{type:"error",size:"small",secondary:"",onClick:$},{icon:Tt(()=>[Nt(ot(pe),null,{default:Tt(()=>[Nt(ot(be),{icon:"carbon:trash-can"})]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("delete")),1)]),_:1}),Nt(ot(Ye),{type:"warning",size:"small",secondary:"",onClick:M},{icon:Tt(()=>[Nt(ot(pe),null,{default:Tt(()=>[Nt(ot(be),{icon:"carbon:close"})]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("cancelSelection")),1)]),_:1})]),_:1})]),_:1})]),_:1})):Nv("",!0)]),_:1}),Nt(gt,null,{default:Tt(()=>[(Kr(),lc(ve,{key:ot(C),columns:D,data:ot(W),pagination:re,loading:ot(t)||ot(fe),"single-line":!1,"scroll-x":800,"row-key":z,size:"small",striped:"","onUpdate:checkedRowKeys":xe},null,8,["data","loading","row-key"]))]),_:1}),Nt(qe,{show:ot(N),"onUpdate:show":k[4]||(k[4]=Qe=>ac(N)?N.value=Qe:null),loading:ot(A)||ot(O),preset:"dialog",style:{width:"400px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:ot(q)?ot(d)("editEmailAddress"):ot(d)("addEmailAddress"),"positive-text":ot(d)("validate"),"negative-text":ot(d)("cancel"),onPositiveClick:P,onNegativeClick:k[5]||(k[5]=Qe=>N.value=!1)},{default:Tt(()=>[Nt(we,{ref_key:"formRef",ref:H,class:"mt-5",model:ot(K),rules:oe,"show-require-mark":!1,size:"medium"},{default:Tt(()=>[Nt(ct,{label:ot(d)("emailAddress"),path:"email"},{default:Tt(()=>[Nt(ot(ll),{value:ot(K).email,"onUpdate:value":k[3]||(k[3]=Qe=>ot(K).email=Qe),placeholder:ot(d)("emailAddress"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),Nt(qe,{show:ot(J),"onUpdate:show":k[7]||(k[7]=Qe=>ac(J)?J.value=Qe:null),loading:ot(x),preset:"dialog",style:{width:"600px"},bordered:!1,"mask-closable":!1,title:ot(d)("import")},{default:Tt(()=>[Nt($e,{class:"my-5","on-success":T}),tc("div",zv,[Nt(ot(Ye),{type:"info",size:"small",secondary:"",onClick:k[6]||(k[6]=Qe=>R())},{icon:Tt(()=>[Nt(ot(pe),null,{default:Tt(()=>[Nt(ot(be),{icon:"carbon:download"})]),_:1})]),default:Tt(()=>[Jn(" "+Nn(ot(d)("downloadDataTemplate")),1)]),_:1})])]),_:1},8,["show","loading","title"])],64)}}});class Bv{id;phone;createdAt;updatedAt;constructor(e,n,a,o){this.phone=e,this.id=n,this.createdAt=a,this.updatedAt=o}}const Ov=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["newsletter-phones"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/newsletter/phones",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Fv=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["newsletter-phones"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/newsletter/phones/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},qv=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["newsletter-phones"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/newsletter/phones/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},Rv=u=>{const{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return ut({queryKey:["newsletter-phones"],operation:"batch",getItemId:l=>{if(l instanceof Bv){if(typeof l.id!="string"&&typeof l.id!="number")throw new Error("NewsletterPhone ID must be string or number");return l.id}return`temp-${crypto.randomUUID()}`},getBatchData:l=>({type:"remove",ids:l}),mutationFn:async l=>{a.start();try{for(let t=0;t<l.length;t++)await e({url:`/newsletter/phones/${l[t]}`,method:"delete"});return l}finally{a.finish()}},mutationOptions:{onSuccess:()=>{o.success(n("success"))},onError:l=>{o.error(n("anErrorOccurred"))},...u}})},jv=()=>{const{request:u}=Pe();return Oa(async e=>{const n=await u({method:"post",url:"/newsletter/phones",data:e});if(n.failure&&n.error)throw new Error(n.error);return n.result.data},{})},{defineComponent:Kv}=await me("vue"),{unref:it,createVNode:Dt,withCtx:zt,toDisplayString:Tn,createTextVNode:Zn,resolveComponent:_h,createElementVNode:nc,openBlock:Yr,createBlock:oc,createCommentVNode:Yv,isRef:sc,Fragment:Gv,createElementBlock:Hv}=await me("vue"),Wv={class:"flex items-center justify-center"},{ref:ln,h:ia,computed:Qv,onBeforeUnmount:Xv}=await me("vue"),Jv=Kv({__name:"Phone",setup(u){const e=He(),n=Oe(),a=ea(),{data:o,refetch:l,isPending:t}=nd(),{mutate:c,isPending:fe}=Rv(),{mutate:ae}=qv(),{mutate:ce,isPending:A}=Ov(),{mutate:ne,isPending:O}=Fv(),{mutateAsync:I}=jv(),{t:d,locale:F}=ke(),te=ln(""),s=ln(),re={pageSize:12,prefix:({itemCount:i})=>ia("div",{class:"font-bold"},{default:()=>`${d("total")}: ${i}`})},D=[{type:"selection"},{title:d("phone"),key:"phone",resizable:!0,width:200,ellipsis:{tooltip:!0},render(i){return ia("div",{},{default:()=>i.phone})}},{title:d("updateAt"),key:"updatedAt",width:125,render(i){return ia("div",{},{default:()=>$n(i.updatedAt,{locale:F.value,outPattern:"DD MMMM YYYY"})})}},{title:d("createdAt"),key:"createdAt",width:125,render(i){return ia("div",{},{default:()=>$n(i.createdAt,{locale:F.value,outPattern:"DD MMMM YYYY"})})}},{title:()=>ia(ll,{ref:s,placeholder:d("search"),value:te.value,onInput:i=>{te.value=i}},{suffix:()=>ia(pe,{},{default:()=>ia(be,{icon:"carbon:search"})})}),key:"actions",width:150,render(i){return ia("div",{class:"flex justify-end items-center w-full"},[ia(Ye,{size:"small",type:"warning",secondary:!0,onClick:()=>{g(i)},renderIcon:()=>ia(pe,null,{default:()=>ia(be,{icon:"carbon:edit"})})}),ia("div",{class:"w-2"}),ia(Ye,{size:"small",type:"error",secondary:!0,onClick:()=>{a.warning({title:d("confirm"),content:d("confirmDeletePhoneNumber"),positiveText:d("yes"),negativeText:d("no"),onPositiveClick:async()=>{i.id&&ae({id:i.id})}})},renderIcon:()=>ia(pe,null,{default:()=>ia(be,{icon:"carbon:trash-can"})})})])},fixed:"right"}],W=Qv(()=>{if(!te.value)return o.value;const i=o.value?.filter(k=>k.phone.toLowerCase().includes(te.value.toLowerCase()));return s.value&&s.value.focus(),i}),x=ln(!1),N=ln(!1),q=ln(null),H=ln(null),K=ln({phone:""}),oe={phone:[{required:!0,message:d("fillRequired")},{trigger:["input"],validator(i,k){return k&&!Pd(k)?new Error(d("invalidNumber")):!0}}]},g=i=>{q.value=ie.cloneDeep(i),i?K.value=ie.cloneDeep(i):K.value={phone:""},N.value=!0},P=async()=>(H.value?.validate(async i=>{if(!i){const k={phone:K.value.phone.replace(/\s+/g,"")};q.value?q.value.phone!==K.value.phone.replace(/\s+/g,"")&&(o.value||[]).findIndex(Q=>Q.phone==K.value.phone.replace(/\s+/g,""))>-1?n.error(d("samePhoneNumberMessage")):ne({id:q.value.id,...k}):(o.value||[]).findIndex(Q=>Q.phone==K.value.phone.replace(/\s+/g,""))>-1?n.error(d("samePhoneNumberMessage")):ce(k),N.value=!1}}),!1);let y=null;const h=()=>{y&&(y.destroy(),y=null)};Xv(h);const Y=(i,k)=>k.map(Q=>i.map(B=>Q[B])),U=()=>{y=n.info(d("pleaseBePatient"),{duration:0,type:"loading"}),Mo(()=>import("./export2excel-C7pSMF4U.js"),__vite__mapDeps([27,28,29,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(i=>{var k=["no","phone","createdAt","updatedAt"];const Q=ie.sortBy(o.value?.map((ge,De)=>({no:De+1,...ge})),"phone"),B=Y(k,Q);try{i.export_json_to_excel({header:k,data:B,filename:`newsletter_phones_${Date.now().toString()}`,autoWidth:!0,bookType:"xlsx"}),h()}catch{h(),n.error(d("anErrorOccurred"))}})},R=()=>{y=n.info(d("pleaseBePatient"),{duration:0,type:"loading"}),Mo(()=>import("./export2excel-C7pSMF4U.js"),__vite__mapDeps([27,28,29,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(i=>{var k=["phone"];const Q=Y(k,[{phone:"+XXX XXX XXXXX"}]);try{i.export_json_to_excel({header:k,data:Q,filename:"newsletter_phones_template",autoWidth:!0,bookType:"xlsx"}),h()}catch{h(),n.error(d("anErrorOccurred"))}})},J=ln(!1),T=async({results:i})=>{x.value=!0,e.start(),y||(y=n.info(d("pleaseBePatient"),{duration:0,type:"loading"}));for(let k=0;k<i.length;k++)i[k].phone&&o.value?.findIndex(Q=>Q.phone.replace(/\s+/g,"")==i[k].phone.replace(/\s+/g,""))==-1&&(y&&(y.content=`${d("pleaseBePatient")}: ${k} ${d("task_s")} / ${i.length}`),await I({phone:i[k].phone.replace(/\s+/g,"")}));await l(),h(),e.finish(),x.value=!1,J.value=!1},C=ln(ql()),b=ln([]),z=i=>i.id,xe=i=>{b.value=i},M=()=>{b.value=[],C.value=ql()},$=async()=>(b.value.length?a.warning({title:d("confirm"),content:d("deleteSelectionWarningMessage",[b.value.length]),positiveText:d("yes"),negativeText:d("no"),onPositiveClick:()=>{c(b.value,{onSuccess:()=>{M()}})}}):n.warning(d("noItemSelected")),!1);return(i,k)=>{const Q=qc,B=$l,ge=Ba,De=hl,he=Fa,ve=cr,gt=sr,ct=Ad,we=da,qe=ca,$e=Rl,Qe=Qc;return Yr(),Hv(Gv,null,[Dt(ge,{to:"#alt-action"},{default:zt(()=>[Dt(B,null,{default:zt(()=>[Dt(Q,{onPositiveClick:k[0]||(k[0]=L=>U())},{trigger:zt(()=>[Dt(it(Ye),{type:"success",secondary:""},{icon:zt(()=>[Dt(it(pe),{size:"18"},{default:zt(()=>[Dt(it(be),{icon:"carbon:upload"})]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("export")),1)]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("exportDataInExcelFile")),1)]),_:1}),Dt(it(Ye),{type:"info",secondary:"",onClick:k[1]||(k[1]=L=>J.value=!0)},{icon:zt(()=>[Dt(it(pe),{size:"18"},{default:zt(()=>[Dt(it(be),{icon:"carbon:download"})]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("import")),1)]),_:1}),Dt(it(Ye),{type:"primary",secondary:"",onClick:k[2]||(k[2]=L=>g(null))},{icon:zt(()=>[Dt(it(pe),{size:"18"},{default:zt(()=>[Dt(it(be),{icon:"carbon:add-alt"})]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("addPhoneNumber")),1)]),_:1})]),_:1})]),_:1}),Dt(he,{name:"slide-fade",appear:""},{default:zt(()=>[it(b).length?(Yr(),oc(De,{key:0,class:"my-2",size:"small",embedded:""},{default:zt(()=>[Dt(B,{align:"center",justify:"space-between"},{default:zt(()=>[nc("span",null,Tn(it(d)("nbItemsSelected",[it(b).length])),1),Dt(B,{align:"center",justify:"space-between"},{default:zt(()=>[Dt(it(Ye),{type:"error",size:"small",secondary:"",onClick:$},{icon:zt(()=>[Dt(it(pe),null,{default:zt(()=>[Dt(it(be),{icon:"carbon:trash-can"})]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("delete")),1)]),_:1}),Dt(it(Ye),{type:"warning",size:"small",secondary:"",onClick:M},{icon:zt(()=>[Dt(it(pe),null,{default:zt(()=>[Dt(it(be),{icon:"carbon:close"})]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("cancelSelection")),1)]),_:1})]),_:1})]),_:1})]),_:1})):Yv("",!0)]),_:1}),Dt(gt,null,{default:zt(()=>[(Yr(),oc(ve,{key:it(C),columns:D,data:it(W),pagination:re,loading:it(t)||it(fe),"single-line":!1,"scroll-x":800,"row-key":z,size:"small",striped:"","onUpdate:checkedRowKeys":xe},null,8,["data","loading","row-key"]))]),_:1}),Dt($e,{show:it(N),"onUpdate:show":k[4]||(k[4]=L=>sc(N)?N.value=L:null),loading:it(A)||it(O),preset:"dialog",style:{width:"400px"},"show-icon":!1,bordered:!1,"mask-closable":!1,title:it(q)?it(d)("editPhoneNumber"):it(d)("addPhoneNumber"),"positive-text":it(d)("validate"),"negative-text":it(d)("cancel"),onPositiveClick:P,onNegativeClick:k[5]||(k[5]=L=>N.value=!1)},{default:zt(()=>[Dt(qe,{ref_key:"formRef",ref:H,class:"mt-5",model:it(K),rules:oe,"show-require-mark":!1,size:"medium"},{default:zt(()=>[Dt(we,{label:it(d)("phone"),path:"phone"},{default:zt(()=>[Dt(ct,{modelValue:it(K).phone,"onUpdate:modelValue":k[3]||(k[3]=L=>it(K).phone=L)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),Dt($e,{show:it(J),"onUpdate:show":k[7]||(k[7]=L=>sc(J)?J.value=L:null),loading:it(x),preset:"dialog",style:{width:"600px"},bordered:!1,"mask-closable":!1,title:it(d)("import")},{default:zt(()=>[Dt(Qe,{class:"my-5","on-success":T}),nc("div",Wv,[Dt(it(Ye),{type:"info",size:"small",secondary:"",onClick:k[6]||(k[6]=L=>R())},{icon:zt(()=>[Dt(it(pe),null,{default:zt(()=>[Dt(it(be),{icon:"carbon:download"})]),_:1})]),default:zt(()=>[Zn(" "+Tn(it(d)("downloadDataTemplate")),1)]),_:1})])]),_:1},8,["show","loading","title"])],64)}}}),Zv="/creopse/assets/content-model-thumbnail-BbXSrXk4.svg",{useModel:rc,mergeModels:ey,defineComponent:ty}=await me("vue"),{unref:St,toDisplayString:$o,createElementVNode:vs,createTextVNode:Js,resolveComponent:vh,withCtx:Kt,createVNode:yl,renderList:Gr,Fragment:ys,openBlock:Pa,createElementBlock:gs,createBlock:Co,createCommentVNode:ic,normalizeStyle:Hr,normalizeClass:ly}=await me("vue"),ay={class:"text-base"},ny={class:"text-base"},{ref:eo,inject:oy,computed:sy,watch:ry,reactive:Zs}=await me("vue"),iy=ty({__name:"DataForm",props:ey({submitData:{},contentModel:{}},{show:{type:Boolean,default:!1,required:!0},showModifiers:{},data:{default:{},required:!0},dataModifiers:{}}),emits:["update:show","update:data"],setup(u){const e=u,n=rc(u,"show"),a=rc(u,"data"),o=He(),l=Oe(),{t}=ke(),{tr:c,pickByTheme:fe,editKeysToCamelCase:ae}=Xe(),ce=eo(null),A=eo(!1),ne=oy("currentEditItem"),O=sy(()=>ie.isEqual(a.value,ne?.value)&&ie.isEqual(d.value,te.value)),I=()=>{n.value=!1,A.value=!1},d=eo({}),F=eo(ql()),te=eo({}),s=eo(),re=eo();ry(()=>n.value,W=>{W&&(si(a.value.contentModelData)?d.value=Zs(a.value.contentModelData):d.value=Zs({}),ie.forIn(ae(e.contentModel?.dataStructure??{}),(x,N)=>{(!d.value[N]||Array.isArray(d.value[N])&&d.value[N].length==0)&&(N==="index"?d.value[N]=Zs({}):d.value[N]=Zs([]))}),te.value=ie.cloneDeep(d.value),F.value=ql())},{immediate:!0});const D=async()=>{A.value=!0,o.start();const W=s.value&&await s.value(),x=re.value&&await re.value();(!s.value||W)&&(!re.value||x)?await e.submitData(d.value):l.error(t("mandatoryFieldsNotFilledIn")),o.finish(),A.value=!1};return(W,x)=>{const N=fi,q=ir,H=rr,K=be,oe=pe,g=Ye,P=$l,y=hl,h=Sa,Y=on,U=fa,R=ri;return Pa(),Co(R,{modelValue:n.value,"onUpdate:modelValue":x[3]||(x[3]=J=>n.value=J),"close-on-esc":!1,closable:!1,onOnSizeChange:x[4]||(x[4]=J=>{ce.value=J})},{header:Kt(()=>[vs("div",ay,[yl(N,{depth:"1"},{default:Kt(()=>[Js($o(St(c)(e.contentModel?.title))+" ",1),vs("span",null," Â -Â "+$o(St(ne)?St(t)("editItem"):St(t)("addItem")),1)]),_:1})])]),"header-extra":Kt(()=>[yl(P,{align:"center"},{default:Kt(()=>[vs("span",ny,$o(St(t)("status"))+":",1),yl(H,{value:a.value.isActive,"onUpdate:value":x[0]||(x[0]=J=>a.value.isActive=J),name:"isActive",class:"w-full"},{default:Kt(()=>[yl(q,{value:!1,label:St(t)("hidden"),class:"w-[50%]"},null,8,["label"]),yl(q,{value:!0,label:St(t)("visible"),class:"w-[50%]"},null,8,["label"])]),_:1},8,["value"]),x[5]||(x[5]=vs("div",{class:"w-4"},null,-1)),yl(g,{secondary:"",type:"success",title:St(t)("save"),loading:St(A),disabled:St(O),onClick:x[1]||(x[1]=J=>D())},{icon:Kt(()=>[yl(oe,null,{default:Kt(()=>[yl(K,{icon:"carbon:save"})]),_:1})]),default:Kt(()=>[Js(" "+$o(St(t)("save")),1)]),_:1},8,["title","loading","disabled"]),yl(g,{secondary:"",type:"error",title:St(t)("close"),disabled:St(A),onClick:x[2]||(x[2]=J=>I())},{icon:Kt(()=>[yl(oe,null,{default:Kt(()=>[yl(K,{icon:"carbon:close"})]),_:1})]),default:Kt(()=>[Js(" "+$o(St(t)("close")),1)]),_:1},8,["title","disabled"])]),_:1,__:[5]})]),default:Kt(()=>[vs("section",{style:Hr(`min-height: ${St(ce)?.windowHeight-St(ce)?.headerHeight-5}px`),class:ly(`w-full h-full ${St(fe)("bg-slate-200","bg-zinc-800")}`)},[yl(U,{"x-gap":"12",cols:"1 s:2 m:2 l:2 xl:2 2xl:2",responsive:"screen"},{default:Kt(()=>[yl(Y,{class:"ml-4 mt-2"},{default:Kt(()=>[yl(h,{style:Hr(`height: ${St(ce)?.windowHeight-St(ce)?.headerHeight-50}px`)},{default:Kt(()=>[(Pa(!0),gs(ys,null,Gr(St(ae)(W.contentModel?.dataStructure),(J,T)=>(Pa(),gs(ys,{key:T},[String(T)==="index"?(Pa(),Co(y,{key:0,size:"small",class:"mb-2"},{default:Kt(()=>[(Pa(),Co(Vs,{key:`${St(F)}-${T}-form-1`,modelValue:St(d)[T],"onUpdate:modelValue":C=>St(d)[T]=C,items:J,onUpdate:(C,b)=>{s.value=b}},null,8,["modelValue","onUpdate:modelValue","items","onUpdate"]))]),_:2},1024)):ic("",!0)],64))),128))]),_:1},8,["style"])]),_:1}),yl(Y,{class:"mr-4 mt-2"},{default:Kt(()=>[yl(h,{style:Hr(`height: ${St(ce)?.windowHeight-St(ce)?.headerHeight-50}px`)},{default:Kt(()=>[(Pa(!0),gs(ys,null,Gr(St(ae)(W.contentModel?.dataStructure),(J,T)=>(Pa(),gs(ys,{key:T},[String(T)!=="index"?(Pa(),Co(y,{key:0,title:St(c)(J.title),size:"small",class:"mb-2"},{"header-extra":Kt(()=>[yl(g,{quaternary:"",size:"small",onClick:()=>St(d)[T].push({})},{icon:Kt(()=>[yl(oe,null,{default:Kt(()=>[yl(K,{icon:"carbon:add-alt"})]),_:1})]),default:Kt(()=>[Js(" "+$o(St(t)("add")),1)]),_:2},1032,["onClick"])]),default:Kt(()=>[(Pa(!0),gs(ys,null,Gr(St(d)[T],(C,b)=>(Pa(),Co(y,{key:b,title:String(b+1),size:"small",class:"mb-2"},{"header-extra":Kt(()=>[yl(g,{secondary:"",type:"error",size:"small",onClick:()=>St(d)[T].splice(b,1)},{icon:Kt(()=>[yl(oe,null,{default:Kt(()=>[yl(K,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),default:Kt(()=>[(Pa(),Co(Vs,{key:`${St(F)}-${T}-${b}-form-2`,modelValue:St(d)[T][b],"onUpdate:modelValue":z=>St(d)[T][b]=z,items:J.items,onUpdate:(z,xe)=>{re.value=xe}},null,8,["modelValue","onUpdate:modelValue","items","onUpdate"]))]),_:2},1032,["title"]))),128))]),_:2},1032,["title"])):ic("",!0)],64))),128))]),_:1},8,["style"])]),_:1})]),_:1})],6)]),_:1},8,["modelValue"])}}}),{useModel:cy,mergeModels:dy,defineComponent:uy}=await me("vue"),{unref:At,resolveComponent:yh,createVNode:Ul,toDisplayString:er,createTextVNode:cc,withCtx:Fl,renderList:py,Fragment:dc,openBlock:hs,createElementBlock:uc,createElementVNode:tr,createBlock:Wr,normalizeClass:my,isRef:fy}=await me("vue"),{inject:_y,ref:bs,h:pc,computed:mc}=await me("vue"),vy={class:"flex items-center justify-between"},yy={class:"flex flex-col"},gy={class:"text-sm font-bold"},hy={class:"text-xs font-normal"},by=uy({__name:"Links",props:{show:{type:Boolean,default:!1,required:!0},showModifiers:{}},emits:dy(["update"],["update:show"]),setup(u,{emit:e}){const{t:n}=ke(),{pickByTheme:a,tr:o,mergeArrays:l}=Xe(),{extractItemTitle:t}=Ss(),{data:c}=Ln(),{mutate:fe,isPending:ae}=Jc(),ce=ea(),A=e,ne=cy(u,"show"),O=_y("currentEditItem"),I=async P=>{ce.warning({title:n("confirm"),content:n("confirmDeleteLink"),positiveText:n("yes"),negativeText:n("no"),onPositiveClick:async()=>{fe({id:O?.value?.id,relatedItems:O?.value?.relatedItems?.filter(y=>y.id!==P.id)?.map(y=>y.id)},{onSuccess:()=>{A("update",O?.value?.id)}})}})},d=P=>c.value?.find(y=>y.id===P.contentModelId),F=bs(!1),te=bs(null),s=bs({contentModelId:null,itemId:null}),re={contentModelId:[{required:!0,message:n("fillRequired")}],itemId:[{required:!0,message:n("fillRequired")}]},D=async()=>(te.value?.validate(async P=>{if(!P){const y=O?.value?.relatedItems?.map(h=>h.id)||[];fe({id:O?.value?.id,relatedItems:[...y,s.value.itemId]},{onSuccess:()=>{A("update",O?.value?.id),F.value=!1}})}}),!1),W=P=>pc("span",{},{default:()=>o(P.title)}),x=P=>mc(()=>pc("span",{},{default:()=>t(P,d(P))})),N=bs([]),q=bs([]),{mutateAsync:H,isPending:K}=_i(),oe=async(P,y)=>{if(!P.length){q.value=[];return}q.value=await H({query:P,contentModelId:y})},g=mc(()=>l(N.value,q.value,"id").filter(P=>P.id!==O?.value?.id));return(P,y)=>{const h=be,Y=Ye,U=$l,R=pe,J=hl,T=Sa,C=Ea,b=oo,z=Rl,xe=Ua,M=da,$=ca;return hs(),uc(dc,null,[Ul(z,{show:ne.value,"onUpdate:show":y[2]||(y[2]=i=>ne.value=i),preset:"card",style:{width:"650px"},bordered:!1,"show-icon":!1,"mask-closable":!1,closable:!1,title:At(n)("linkContentModelItems")},{"header-extra":Fl(()=>[Ul(U,{align:"center"},{default:Fl(()=>[Ul(Y,{secondary:"",size:"small",type:"primary",disabled:At(ae),onClick:y[0]||(y[0]=i=>F.value=!0)},{default:Fl(()=>[Ul(h,{icon:"carbon:add-alt",class:"mr-1"}),cc(" "+er(At(n)("add")),1)]),_:1},8,["disabled"]),Ul(Y,{secondary:"",size:"small",type:"error",disabled:At(ae),onClick:y[1]||(y[1]=i=>ne.value=!1)},{default:Fl(()=>[Ul(h,{icon:"carbon:close",class:"mr-1"}),cc(" "+er(At(n)("close")),1)]),_:1},8,["disabled"])]),_:1})]),default:Fl(()=>[Ul(b,{show:At(ae)},{default:Fl(()=>[At(O)?.relatedItems?.length?(hs(),Wr(T,{key:0,style:{"max-height":"400px"}},{default:Fl(()=>[(hs(!0),uc(dc,null,py(At(O)?.relatedItems,i=>(hs(),Wr(J,{key:i.id,embedded:"",size:"small",class:"mb-2"},{default:Fl(()=>[tr("div",vy,[tr("div",yy,[tr("span",gy,er(At(t)(i,d(i))),1),tr("span",hy,er(At(o)(d(i)?.title)),1)]),Ul(U,null,{default:Fl(()=>[Ul(Y,{size:"small",type:"error",secondary:"",onClick:k=>I(i)},{default:Fl(()=>[Ul(R,null,{default:Fl(()=>[Ul(h,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1})):(hs(),Wr(J,{key:1,size:"large",class:my(`mb-2 !border-dashed !border-2 ${At(a)("!border-zinc-300","!border-zinc-600")}`)},{default:Fl(()=>[Ul(C,{description:At(n)("noLinkAdded")},{icon:Fl(()=>[Ul(R,null,{default:Fl(()=>[Ul(h,{icon:"carbon:text-link"})]),_:1})]),_:1},8,["description"])]),_:1},8,["class"]))]),_:1},8,["show"])]),_:1},8,["show","title"]),Ul(z,{show:At(F),"onUpdate:show":y[6]||(y[6]=i=>fy(F)?F.value=i:null),loading:At(ae),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:At(n)("addLink"),"positive-text":At(n)("validate"),"negative-text":At(n)("cancel"),onPositiveClick:D,onNegativeClick:y[7]||(y[7]=i=>F.value=!1)},{default:Fl(()=>[Ul($,{ref_key:"formRef",ref:te,model:At(s),rules:re,"show-require-mark":!1,size:"medium",class:"my-5"},{default:Fl(()=>[Ul(M,{label:At(n)("contentModel"),path:"contentModelId"},{default:Fl(()=>[Ul(xe,{value:At(s).contentModelId,"onUpdate:value":y[3]||(y[3]=i=>At(s).contentModelId=i),options:At(c),placeholder:At(n)("contentModel"),"render-label":W,"label-field":"title","value-field":"id",filterable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"]),Ul(M,{label:At(n)("itemToLink"),path:"itemId"},{default:Fl(()=>[Ul(xe,{value:At(s).itemId,"onUpdate:value":y[4]||(y[4]=i=>At(s).itemId=i),options:At(g)||[],placeholder:At(n)("itemToLink"),"render-label":i=>x(i).value,loading:At(K),disabled:!At(s).contentModelId,"value-field":"id",filterable:"",remote:"",class:"w-full",onSearch:y[5]||(y[5]=i=>oe(i,At(s).contentModelId))},null,8,["value","options","placeholder","render-label","loading","disabled"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),{unref:ky}=await me("vue"),{useModel:wy,defineComponent:xy}=await me("vue"),{unref:Ct,toDisplayString:yn,createTextVNode:Dn,resolveComponent:gh,isRef:ks,withCtx:Ut,createVNode:It,createElementVNode:ws,openBlock:zn,createElementBlock:xs,createCommentVNode:fc,renderList:$y,Fragment:_c,createBlock:Qr}=await me("vue"),Cy={key:0,class:"w-full flex items-center justify-between gap-4"},Iy={class:"flex items-center gap-3"},Vy={key:0},Sy={class:"flex items-center justify-center h-full"},Ey=["src"],Uy={class:"text-center text-dimgray text-sm"},My={key:1,class:"flex items-center justify-center"},{ref:La,computed:vc,watch:Ny,provide:Ty}=await me("vue"),Dy=xy({__name:"Items",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(u){const{t:e}=ke(),{extractItemTitle:n}=Ss(),{tr:a}=Xe(),o=ea(),l=Oe(),t=wy(u,"modelValue"),c=La(!1),fe=La(!1),ae=La([]),{mutate:ce}=Gu(),{mutate:A}=Yu(),{mutate:ne}=Jc(),{mutate:O}=Hu(),I=La(0),d=La(12),F=La(1),te=vc(()=>({contentModelId:t.value?.id,pageSize:d.value,page:F.value})),s=T=>{F.value=T,W()},re=T=>{d.value=T,W()},{data:D,refetch:W,isPending:x}=yd(te);Ny(()=>D.value,T=>{ae.value=T?.items||[],I.value=T?.meta?.total||0,F.value=T?.meta?.currentPage||1},{deep:!0,immediate:!0});const N=La(null),q=La({title:"",contentModelData:"",isActive:!0}),H=T=>{N.value=ie.cloneDeep(T),T?q.value=ie.cloneDeep(T):q.value={title:"",contentModelData:"",isActive:!0},c.value=!0},K=T=>{N.value=ie.cloneDeep(T),fe.value=!0},oe=async T=>{await W();const C=ae.value.find(b=>b.id===T);C&&K(C)},g=async T=>{o.warning({title:e("confirm"),content:e("confirmDeleteItem"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{T.id&&ce({id:T.id})}})},P=async T=>{const C={title:q.value.title,contentModelData:T,isActive:q.value.isActive,contentModelId:t.value?.id};N.value?ne({id:N.value.id,...C}):A(C),c.value=!1},y=La(!1),h=La(ql()),Y=La({}),U=vc(()=>{let T=0;for(const C in Y.value)Y.value[C]&&T++;return T});function R(){Y.value={},W()}const J=async()=>(U.value?o.warning({title:e("confirm"),content:e("deleteSelectionWarningMessage",[U.value]),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{O(Y.value,{onSuccess:()=>{Y.value={}}})}}):l.warning(e("noItemSelected")),!1);return Ty("currentEditItem",N),(T,C)=>{const b=On,z=be,xe=pe,M=Ye,$=$l,i=Ba,k=Bc,Q=pr,B=qa,ge=hl,De=Fa,he=on,ve=fa,gt=Do,ct=oo,we=Ea;return zn(),xs(_c,null,[It(i,{to:"#alt-action"},{default:Ut(()=>[It($,{align:"center"},{default:Ut(()=>[It(b,{checked:Ct(y),"onUpdate:checked":[C[0]||(C[0]=qe=>ks(y)?y.value=qe:null),C[1]||(C[1]=qe=>{for(const $e of Ct(ae))$e.id&&(Ct(Y)[$e.id]=qe);h.value=("uuidv4"in T?T.uuidv4:ky(ql))()})],disabled:!Ct(ae).length},{default:Ut(()=>[Dn(yn(Ct(e)("selectAll")),1)]),_:1},8,["checked","disabled"]),It(M,{type:"primary",secondary:"",onClick:C[2]||(C[2]=qe=>H(null))},{icon:Ut(()=>[It(xe,{size:"18"},{default:Ut(()=>[It(z,{icon:"carbon:add-alt"})]),_:1})]),default:Ut(()=>[Dn(" "+yn(Ct(e)("addItem")),1)]),_:1})]),_:1})]),_:1}),It(k,{class:"mt-2 mb-5",onBack:C[3]||(C[3]=qe=>t.value=null)},{title:Ut(()=>[Dn(yn(Ct(a)(t.value?.title)),1)]),back:Ut(()=>[It(xe,null,{default:Ut(()=>[It(z,{icon:"ic:baseline-arrow-back-ios"})]),_:1})]),extra:Ut(()=>[Ct(U)>0?(zn(),xs("section",Cy,[ws("span",null,yn(Ct(e)("nbItemsSelected",[Ct(U)])),1),ws("section",Iy,[It(M,{type:"error",secondary:"",size:"small",onClick:J},{icon:Ut(()=>[It(xe,null,{default:Ut(()=>[It(z,{icon:"carbon:trash-can"})]),_:1})]),default:Ut(()=>[Dn(" "+yn(Ct(e)("delete")),1)]),_:1}),It(M,{type:"warning",secondary:"",size:"small",onClick:R},{icon:Ut(()=>[It(xe,null,{default:Ut(()=>[It(z,{icon:"carbon:close-filled"})]),_:1})]),default:Ut(()=>[Dn(" "+yn(Ct(e)("cancelSelection")),1)]),_:1})])])):fc("",!0)]),_:1}),Ct(ae).length&&!Ct(x)?(zn(),xs("section",Vy,[It(ve,{"x-gap":"12","y-gap":"12",cols:"1 400:2 600:3 900:3 1400:4 1800:5"},{default:Ut(()=>[(zn(!0),xs(_c,null,$y(Ct(ae),(qe,$e)=>(zn(),Qr(he,{key:$e},{default:Ut(()=>[It(De,{name:"slide-fade",appear:""},{default:Ut(()=>[It(ge,{size:"small",bordered:"",hoverable:""},{cover:Ut(()=>[ws("div",Sy,[ws("img",{src:t.value?.imageUrl??Ct(Zv),class:"w-full h-[200px] object-cover"},null,8,Ey)])]),header:Ut(()=>[ws("div",Uy,[It(Q,{"line-clamp":1,"expand-trigger":"click"},{default:Ut(()=>[qe.id?(zn(),Qr(b,{key:Ct(h),checked:Ct(Y)[qe.id],"onUpdate:checked":Qe=>Ct(Y)[qe.id]=Qe,class:"mr-1"},null,8,["checked","onUpdate:checked"])):fc("",!0),Dn(" "+yn(Ct(n)(qe,t.value)),1)]),_:2},1024)])]),action:Ut(()=>[It($,{justify:"space-between",align:"center"},{default:Ut(()=>[It(B,{bordered:!1,type:qe.isActive?"success":"error"},{default:Ut(()=>[Dn(yn(qe.isActive?Ct(e)("visible"):Ct(e)("hidden")),1)]),_:2},1032,["type"]),It($,null,{default:Ut(()=>[It(M,{ternary:"",circle:"",title:Ct(e)("edit"),onClick:Qe=>H(qe)},{icon:Ut(()=>[It(xe,null,{default:Ut(()=>[It(z,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["title","onClick"]),It(M,{ternary:"",circle:"",title:Ct(e)("links"),onClick:Qe=>K(qe)},{icon:Ut(()=>[It(xe,null,{default:Ut(()=>[It(z,{icon:"carbon:link"})]),_:1})]),_:2},1032,["title","onClick"]),It(M,{ternary:"",circle:"",title:Ct(e)("delete"),onClick:Qe=>g(qe)},{icon:Ut(()=>[It(xe,null,{default:Ut(()=>[It(z,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["title","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),It(gt,{page:Ct(F),"onUpdate:page":[C[4]||(C[4]=qe=>ks(F)?F.value=qe:null),s],class:"mt-10 justify-center","show-size-picker":"","page-size":Ct(d),"page-sizes":[12,24,36,48,60],"page-count":Math.ceil(Ct(I)/Ct(d)),"onUpdate:pageSize":re},{prefix:Ut(()=>[Dn(yn(`${Ct(I)} ${Ct(e)("item_s")}`),1)]),_:1},8,["page","page-size","page-count"])])):Ct(x)?(zn(),xs("section",My,[It(ct,{size:"medium"})])):(zn(),Qr(we,{key:2,description:Ct(e)("noItemAdded"),class:"my-16"},null,8,["description"])),It(iy,{show:Ct(c),"onUpdate:show":C[5]||(C[5]=qe=>ks(c)?c.value=qe:null),data:Ct(q),"onUpdate:data":C[6]||(C[6]=qe=>ks(q)?q.value=qe:null),"content-model":t.value,"submit-data":P},null,8,["show","data","content-model"]),It(by,{show:Ct(fe),"onUpdate:show":C[7]||(C[7]=qe=>ks(fe)?fe.value=qe:null),onUpdate:oe},null,8,["show"])],64)}}}),zy=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["content-models"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/content-models",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Ay=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["content-models"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/content-models/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},Py=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["content-models"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/content-models/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},{defineComponent:Ly}=await me("vue"),{unref:Ce,resolveComponent:hh,createVNode:mt,withCtx:ft,toDisplayString:an,createTextVNode:gn,openBlock:ba,createBlock:hn,createCommentVNode:Io,renderList:By,Fragment:Xr,createElementBlock:lr,withModifiers:ar,normalizeClass:yc,createElementVNode:nr,isRef:or,normalizeStyle:Oy}=await me("vue"),Fy={key:2},qy={class:"flex items-center"},Ry={class:"text-base"},jy={class:"mt-4"},{inject:Ky,ref:nn,watch:Yy}=await me("vue"),{defineStore:Gy}=await me("pinia"),Hy="previews",Wy=Ly({__name:"index",setup(u){const{t:e}=ke(),{tr:n,pickByTheme:a,fileUrl:o,isInDevMode:l,formatKey:t}=Xe(),{data:c}=Ln(),{mutate:fe,isPending:ae}=Py(),{mutate:ce,isPending:A}=zy(),{mutate:ne,isPending:O}=Ay(),I=ea(),d=Ky("appConfig"),F=nn(12),te=nn(1),s=T=>{F.value=T},re={name:"",title:"",image:"",description:"",slug:"",titleFieldName:"",hasPermalink:!1},D=nn(!1),W=nn(null),x=nn(re),N={name:[{required:!0,message:e("fillRequired")}],title:[{required:!0,message:e("fillRequired")}]},q=nn(null),H=T=>{q.value=ie.cloneDeep(T),x.value=ie.cloneDeep(T||re),D.value=!0},K=async()=>(W.value?.validate(async T=>{if(!T){const C={id:q.value?.id||0,name:x.value.name,title:x.value.title,image:x.value.image,description:x.value.description,titleFieldName:x.value.titleFieldName,hasPermalink:x.value.hasPermalink};q.value?ne(C,{onSuccess:()=>{}}):ce(C,{onSuccess:()=>{}}),D.value=!1}}),!1),oe=async T=>{I.warning({title:e("confirm"),content:e("confirmDeleteContentModel"),positiveText:e("yes"),negativeText:e("no"),onPositiveClick:async()=>{fe({id:T.id||0})}})},g=nn(null),P=nn(!1),y=T=>{g.value=T,P.value=!0},h=async T=>{ne({id:g.value?.id||0,hasPermalink:g.value?.hasPermalink,dataStructure:T},{onSuccess:C=>{y(C)}})},Y=nn(!1),U=async T=>{x.value.image=T,Y.value=!1},R=()=>{x.value.image=""},J=Gy("content-models-management",()=>({itemsContentModel:nn(null)}))();return Yy(()=>x.value.title,T=>{q.value||x.value.name.length<=21&&(x.value.name=Hc(n(T),{trim:!0,lower:!0,strict:!0}))}),(T,C)=>{const b=be,z=pe,xe=Ye,M=Ba,$=$l,i=Ra,k=hl,Q=Do,B=Ea,ge=Fa,De=ma,he=da,ve=ll,gt=on,ct=Rc,we=Bn,qe=fa,$e=On,Qe=ca,L=Rl,V=no;return ba(),lr(Xr,null,[Ce(J).itemsContentModel?Io("",!0):(ba(),hn(M,{key:0,to:"#alt-action"},{default:ft(()=>[Ce(c)&&Ce(c).length?(ba(),hn(xe,{key:0,type:"primary",secondary:"",onClick:C[0]||(C[0]=w=>H(null))},{icon:ft(()=>[mt(z,{size:"18"},{default:ft(()=>[mt(b,{icon:"carbon:add-alt"})]),_:1})]),default:ft(()=>[gn(" "+an(Ce(e)("addContentModel")),1)]),_:1})):Io("",!0)]),_:1})),Ce(J).itemsContentModel?(ba(),hn(Dy,{key:1,modelValue:Ce(J).itemsContentModel,"onUpdate:modelValue":C[1]||(C[1]=w=>Ce(J).itemsContentModel=w)},null,8,["modelValue"])):(ba(),lr("section",Fy,[mt(ge,{appear:"",name:"slide-fade"},{default:ft(()=>[nr("section",null,[Ce(c)&&Ce(c).length?(ba(),lr(Xr,{key:0},[(ba(!0),lr(Xr,null,By(Ce(c).slice((Ce(te)-1)*Ce(F),Ce(te)*Ce(F)),w=>(ba(),hn(k,{key:w.id,embedded:"",size:"small",class:"mb-2"},{header:ft(()=>[nr("div",qy,[Ce(l)?(ba(),hn($,{key:0},{default:ft(()=>[mt(xe,{size:"small",type:"primary",secondary:"",onClick:ar(et=>y(w),["stop"])},{default:ft(()=>[mt(z,{class:"mr-1"},{default:ft(()=>[mt(b,{icon:"carbon:data-1"})]),_:1}),gn(" "+an(Ce(e)("dataStructure")),1)]),_:2},1032,["onClick"]),mt(xe,{size:"small",type:"primary",secondary:"",onClick:ar(et=>H(w),["stop"])},{default:ft(()=>[mt(z,null,{default:ft(()=>[mt(b,{icon:"carbon:edit"})]),_:1})]),_:2},1032,["onClick"]),mt(xe,{size:"small",type:"error",secondary:"",onClick:ar(et=>oe(w),["stop"])},{default:ft(()=>[mt(z,null,{default:ft(()=>[mt(b,{icon:"carbon:trash-can"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)):Io("",!0),Ce(l)?(ba(),hn(i,{key:1,vertical:"",class:yc(Ce(a)("!bg-zinc-400","!bg-slate-500"))},null,8,["class"])):Io("",!0),nr("span",Ry,an(Ce(n)(w.title)),1)])]),"header-extra":ft(()=>[mt(xe,{size:"small",type:"primary",secondary:"",onClick:ar(et=>Ce(J).itemsContentModel=w,["stop"])},{icon:ft(()=>[mt(z,null,{default:ft(()=>[mt(b,{icon:"carbon:arrow-right"})]),_:1})]),default:ft(()=>[gn(" "+an(Ce(e)("open")),1)]),_:2},1032,["onClick"])]),_:2},1024))),128)),mt(Q,{page:Ce(te),"onUpdate:page":C[2]||(C[2]=w=>or(te)?te.value=w:null),class:"mt-5 justify-end","show-size-picker":"","page-size":Ce(F),"page-sizes":[6,10,24,36,48],"page-count":Math.ceil(Ce(c).length/Ce(F)),"onUpdate:pageSize":s},{prefix:ft(()=>[gn(an(`${Ce(c).length} ${Ce(e)("contentModel_s")}`),1)]),_:1},8,["page","page-size","page-count"])],64)):(ba(),hn(k,{key:1,size:"large",class:yc(`mb-2 !border-dashed !border-2 ${Ce(a)("!border-zinc-300","!border-zinc-600")}`)},{default:ft(()=>[mt(B,{description:Ce(e)("noContentModelAvailable")},{icon:ft(()=>[mt(z,null,{default:ft(()=>[mt(b,{icon:"carbon:model-alt"})]),_:1})]),extra:ft(()=>[nr("div",jy,[mt(xe,{size:"small",secondary:"",onClick:C[3]||(C[3]=w=>H(null))},{icon:ft(()=>[mt(z,null,{default:ft(()=>[mt(b,{icon:"carbon:add-alt"})]),_:1})]),default:ft(()=>[gn(" "+an(Ce(e)("addContentModel")),1)]),_:1})])]),_:1},8,["description"])]),_:1},8,["class"]))])]),_:1}),mt(L,{show:Ce(D),"onUpdate:show":C[11]||(C[11]=w=>or(D)?D.value=w:null),loading:Ce(A)||Ce(O)||Ce(ae),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Ce(q)?Ce(e)("editContentModel"):Ce(e)("addContentModel"),"positive-text":Ce(e)("validate"),"negative-text":Ce(e)("cancel"),onPositiveClick:K,onNegativeClick:C[12]||(C[12]=w=>D.value=!1)},{default:ft(()=>[mt(Qe,{ref_key:"formRef",ref:W,model:Ce(x),rules:N,"show-require-mark":!1,size:"medium",class:"my-5"},{default:ft(()=>[mt(he,{"show-label":!1,path:"title"},{default:ft(()=>[mt(De,{modelValue:Ce(x).title,"onUpdate:modelValue":C[4]||(C[4]=w=>Ce(x).title=w),placeholder:Ce(e)("title"),class:"w-full",sync:""},{label:ft(()=>[gn(an(Ce(e)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),mt(he,{"show-label":!1,path:"description"},{default:ft(()=>[mt(De,{modelValue:Ce(x).description,"onUpdate:modelValue":C[5]||(C[5]=w=>Ce(x).description=w),placeholder:Ce(e)("description"),type:"textarea",class:"w-full",rows:3,sync:""},{label:ft(()=>[gn(an(Ce(e)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),mt(qe,{"x-gap":"12",span:24},{default:ft(()=>[mt(gt,{span:14},{default:ft(()=>[mt(he,{label:Ce(e)("contentModelKey"),path:"name"},{default:ft(()=>[mt(ve,{value:Ce(x).name,placeholder:Ce(e)("contentModelKey"),class:"w-full","onUpdate:value":C[6]||(C[6]=w=>Ce(x).name=Ce(t)(w))},null,8,["value","placeholder"])]),_:1},8,["label"]),mt(he,{label:Ce(e)("titleSingletonKey"),path:"titleFieldName"},{default:ft(()=>[mt(ve,{value:Ce(x).titleFieldName,placeholder:Ce(e)("titleSingletonKey"),class:"w-full","onUpdate:value":C[7]||(C[7]=w=>Ce(x).titleFieldName=Ce(t)(w))},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),mt(we,{span:10,label:Ce(e)("itemsPreview"),path:"image"},{default:ft(()=>[mt($,{align:"center",justify:"start",style:{height:"100%",width:"100%"}},{default:ft(()=>[mt(ct,{class:"cursor-pointer","object-fit":"cover",style:Oy("border: 1px dashed "+Ce(a)("green","white")),size:150,src:Ce(o)(Ce(x).image||""),onClick:C[8]||(C[8]=w=>Y.value=!0)},{default:ft(()=>[Ce(x).image?Io("",!0):(ba(),hn(z,{key:0,size:64},{default:ft(()=>[mt(b,{icon:"carbon:image",class:"text-gray-400"})]),_:1}))]),_:1},8,["style","src"]),Ce(x).image?(ba(),hn(xe,{key:0,quaternary:"",onClick:C[9]||(C[9]=w=>R())},{icon:ft(()=>[mt(z,null,{default:ft(()=>[mt(b,{icon:"carbon:trash-can"})]),_:1})]),default:ft(()=>[gn(" "+an(Ce(e)("clear")),1)]),_:1})):Io("",!0)]),_:1})]),_:1},8,["label"])]),_:1}),mt(he,{"show-label":!1,path:"hasPermalink"},{default:ft(()=>[mt($e,{checked:Ce(x).hasPermalink,"onUpdate:checked":C[10]||(C[10]=w=>Ce(x).hasPermalink=w)},{default:ft(()=>[gn(an(Ce(e)("associatePermalinkToContentModel")),1)]),_:1},8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),mt(V,{show:Ce(Y),"onUpdate:show":C[13]||(C[13]=w=>or(Y)?Y.value=w:null),title:Ce(e)("selectImage"),"upload-config":{folder:Hy,limit:0,maxSize:0,baseUrl:Ce(d)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:U},null,8,["show","title","upload-config"]),mt(ld,{show:Ce(P),"onUpdate:show":C[14]||(C[14]=w=>or(P)?P.value=w:null),title:Ce(n)(Ce(g)?.title),"raw-data-structure":Ce(g)?.dataStructure,"update-data-structure":h},null,8,["show","title","raw-data-structure"])]))],64)}}});var wn=(u=>(u.NEWS_TAG="news-tag",u.NEWS_CATEGORY="news-category",u.NEWS_ARTICLE="news-article",u.CONTENT_MODEL="content-model",u))(wn||{});const Qy=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["permalinks"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:"/permalinks",data:t});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},{defineComponent:Xy}=await me("vue"),{unref:Ge,resolveComponent:bh,createVNode:_t,withCtx:yt,toDisplayString:Tl,createTextVNode:Jy,openBlock:An,createBlock:Vo,createCommentVNode:Zy,createElementVNode:Ml,renderList:eg,Fragment:gc,createElementBlock:hc}=await me("vue"),tg={class:"text-base font-bold"},lg={class:"text-sm"},ag={class:"text-xs text-slate-400"},ng={class:"text-xs text-slate-400"},og={class:"text-xs text-slate-400"},sg={class:"text-sm"},rg={class:"text-xs text-slate-400"},ig={class:"text-xs text-slate-400"},cg={class:"text-xs text-slate-400"},dg={class:"text-sm"},ug={class:"text-xs text-slate-400"},pg={class:"text-xs text-slate-400"},mg={class:"text-xs text-slate-400"},fg={class:"text-base font-bold"},_g={class:"text-sm"},vg={class:"text-xs text-slate-400"},yg={class:"text-xs text-slate-400"},gg={class:"text-xs text-slate-400"},{ref:bc,computed:kc,h:hg}=await me("vue"),bg=Xy({__name:"index",setup(u){const{t:e}=ke(),{tr:n}=Xe(),{data:a}=ci(),{data:o,refetch:l}=Ln({enabled:!1}),{data:t,refetch:c}=gd({enabled:!1}),{mutate:fe,isPending:ae}=Qy(),ce=[{pathPrefix:"/news/article",contentType:wn.NEWS_ARTICLE,contentParam:"slug",pageId:null},{pathPrefix:"/news/category",contentType:wn.NEWS_CATEGORY,contentParam:"slug",pageId:null},{pathPrefix:"/news/tag",contentType:wn.NEWS_TAG,contentParam:"slug",pageId:null}],A=bc(ce),ne=bc(),O=kc(()=>o.value?.filter(re=>re.hasPermalink)),I=async(re=!1)=>{re&&await l(),await c(),A.value=ie.cloneDeep(ce);for(let D=0;D<(O.value?.length||0);D++)A.value.push({pathPrefix:`/${O.value?.[D].slug}`,contentType:wn.CONTENT_MODEL,contentParam:"id",contentId:O.value?.[D].id,pageId:null});for(let D=0;D<A.value.length;D++)switch(A.value[D].contentType){case wn.NEWS_ARTICLE:case wn.NEWS_CATEGORY:case wn.NEWS_TAG:{const W=t.value?.find(x=>x.contentType===A.value[D].contentType);W&&(A.value[D].pathPrefix=W.pathPrefix,A.value[D].contentParam=W.contentParam,A.value[D].pageId=W.pageId,A.value[D].permalinkId=W.id)}break;case wn.CONTENT_MODEL:{const W=t.value?.find(x=>x.contentType===A.value[D].contentType&&x.contentId===A.value[D].contentId);W&&(A.value[D].pathPrefix=W.pathPrefix,A.value[D].contentParam=W.contentParam,A.value[D].pageId=W.pageId,A.value[D].permalinkId=W.id)}break}ne.value=ie.cloneDeep(A.value)};I(!0);const d=async()=>{fe(A.value,{onSuccess:()=>{I()}})},F=kc(()=>ie.isEqual(A.value,ne.value)),te=re=>hg("span",{},{default:()=>n(re.title)}),s=re=>/^\/[a-zA-Z0-9/\-_{}?]*$/.test(re);return(re,D)=>{const W=be,x=pe,N=Ye,q=Ba,H=ll,K=on,oe=Ua,g=fa,P=hl,y=ro,h=so,Y=Ra;return An(),hc(gc,null,[_t(q,{to:"#alt-action"},{default:yt(()=>[_t(N,{secondary:"",type:"primary",loading:Ge(ae),disabled:Ge(F),onClick:D[0]||(D[0]=U=>d())},{icon:yt(()=>[_t(x,null,{default:yt(()=>[_t(W,{icon:"carbon:save"})]),_:1})]),default:yt(()=>[Jy(" "+Tl(Ge(e)("save")),1)]),_:1},8,["loading","disabled"])]),_:1}),_t(P,{embedded:"",size:"small"},{default:yt(()=>[_t(h,{"default-expanded-names":["1"],"display-directive":"show"},{"header-extra":yt(({collapsed:U})=>[_t(x,null,{default:yt(()=>[U?(An(),Vo(W,{key:0,icon:"fa-solid:chevron-left"})):(An(),Vo(W,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),arrow:yt(()=>D[10]||(D[10]=[Ml("span",null,null,-1)])),default:yt(()=>[_t(y,{name:"1"},{header:yt(()=>[Ml("span",tg,Tl(Ge(e)("news")),1)]),default:yt(()=>[_t(P,{size:"small"},{header:yt(()=>[Ml("span",lg,Tl(Ge(e)("articles")),1)]),default:yt(()=>[_t(g,{cols:"24","x-gap":"12"},{default:yt(()=>[_t(K,{span:"10"},{default:yt(()=>[Ml("span",ag,Tl(Ge(e)("pathPrefix")),1),_t(H,{value:Ge(A)[0].pathPrefix,"onUpdate:value":D[1]||(D[1]=U=>Ge(A)[0].pathPrefix=U),"allow-input":s,size:"small"},null,8,["value"])]),_:1}),_t(K,{span:"7"},{default:yt(()=>[Ml("span",ng,Tl(Ge(e)("contentParam")),1),_t(H,{value:Ge(A)[0].contentParam,"onUpdate:value":D[2]||(D[2]=U=>Ge(A)[0].contentParam=U),readonly:"",size:"small"},null,8,["value"])]),_:1}),_t(K,{span:"7"},{default:yt(()=>[Ml("span",og,Tl(Ge(e)("contentPage")),1),_t(oe,{value:Ge(A)[0].pageId,"onUpdate:value":D[3]||(D[3]=U=>Ge(A)[0].pageId=U),options:Ge(a)||[],placeholder:Ge(e)("selectPage"),"render-label":te,"label-field":"title","value-field":"id",filterable:"",clearable:"",size:"small",class:"w-full"},null,8,["value","options","placeholder"])]),_:1})]),_:1})]),_:1}),_t(P,{size:"small"},{header:yt(()=>[Ml("span",sg,Tl(Ge(e)("categories")),1)]),default:yt(()=>[_t(g,{cols:"24","x-gap":"12"},{default:yt(()=>[_t(K,{span:"10"},{default:yt(()=>[Ml("span",rg,Tl(Ge(e)("pathPrefix")),1),_t(H,{value:Ge(A)[1].pathPrefix,"onUpdate:value":D[4]||(D[4]=U=>Ge(A)[1].pathPrefix=U),"allow-input":s,size:"small"},null,8,["value"])]),_:1}),_t(K,{span:"7"},{default:yt(()=>[Ml("span",ig,Tl(Ge(e)("contentParam")),1),_t(H,{value:Ge(A)[1].contentParam,"onUpdate:value":D[5]||(D[5]=U=>Ge(A)[1].contentParam=U),readonly:"",size:"small"},null,8,["value"])]),_:1}),_t(K,{span:"7"},{default:yt(()=>[Ml("span",cg,Tl(Ge(e)("contentPage")),1),_t(oe,{value:Ge(A)[1].pageId,"onUpdate:value":D[6]||(D[6]=U=>Ge(A)[1].pageId=U),options:Ge(a)||[],placeholder:Ge(e)("selectPage"),"render-label":te,"label-field":"title","value-field":"id",filterable:"",clearable:"",size:"small",class:"w-full"},null,8,["value","options","placeholder"])]),_:1})]),_:1})]),_:1}),_t(P,{size:"small"},{header:yt(()=>[Ml("span",dg,Tl(Ge(e)("tags")),1)]),default:yt(()=>[_t(g,{cols:"24","x-gap":"12"},{default:yt(()=>[_t(K,{span:"10"},{default:yt(()=>[Ml("span",ug,Tl(Ge(e)("pathPrefix")),1),_t(H,{value:Ge(A)[2].pathPrefix,"onUpdate:value":D[7]||(D[7]=U=>Ge(A)[2].pathPrefix=U),"allow-input":s,size:"small"},null,8,["value"])]),_:1}),_t(K,{span:"7"},{default:yt(()=>[Ml("span",pg,Tl(Ge(e)("contentParam")),1),_t(H,{value:Ge(A)[2].contentParam,"onUpdate:value":D[8]||(D[8]=U=>Ge(A)[2].contentParam=U),readonly:"",size:"small"},null,8,["value"])]),_:1}),_t(K,{span:"7"},{default:yt(()=>[Ml("span",mg,Tl(Ge(e)("contentPage")),1),_t(oe,{value:Ge(A)[2].pageId,"onUpdate:value":D[9]||(D[9]=U=>Ge(A)[2].pageId=U),options:Ge(a)||[],placeholder:Ge(e)("selectPage"),"render-label":te,"label-field":"title","value-field":"id",filterable:"",clearable:"",size:"small",class:"w-full"},null,8,["value","options","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),_t(Y,{class:"!my-2"}),Ge(O)?.length&&Ge(A).length>3?(An(),Vo(P,{key:0,embedded:"",size:"small"},{default:yt(()=>[_t(h,{"default-expanded-names":["1"],"display-directive":"show"},{"header-extra":yt(({collapsed:U})=>[_t(x,null,{default:yt(()=>[U?(An(),Vo(W,{key:0,icon:"fa-solid:chevron-left"})):(An(),Vo(W,{key:1,icon:"fa-solid:chevron-down"}))]),_:2},1024)]),arrow:yt(()=>D[11]||(D[11]=[Ml("span",null,null,-1)])),default:yt(()=>[_t(y,{name:"1"},{header:yt(()=>[Ml("span",fg,Tl(Ge(e)("contentModels")),1)]),default:yt(()=>[(An(!0),hc(gc,null,eg(Ge(O),(U,R)=>(An(),Vo(P,{key:U.id,size:"small"},{header:yt(()=>[Ml("span",_g,Tl(Ge(n)(U.title)),1)]),default:yt(()=>[_t(g,{cols:"24","x-gap":"12"},{default:yt(()=>[_t(K,{span:"10"},{default:yt(()=>[Ml("span",vg,Tl(Ge(e)("pathPrefix")),1),_t(H,{value:Ge(A)[R+3].pathPrefix,"onUpdate:value":J=>Ge(A)[R+3].pathPrefix=J,"allow-input":s,size:"small"},null,8,["value","onUpdate:value"])]),_:2},1024),_t(K,{span:"7"},{default:yt(()=>[Ml("span",yg,Tl(Ge(e)("contentParam")),1),_t(H,{value:Ge(A)[R+3].contentParam,"onUpdate:value":J=>Ge(A)[R+3].contentParam=J,readonly:"",size:"small"},null,8,["value","onUpdate:value"])]),_:2},1024),_t(K,{span:"7"},{default:yt(()=>[Ml("span",gg,Tl(Ge(e)("contentPage")),1),_t(oe,{value:Ge(A)[R+3].pageId,"onUpdate:value":J=>Ge(A)[R+3].pageId=J,options:Ge(a)||[],placeholder:Ge(e)("selectPage"),"render-label":te,"label-field":"title","value-field":"id",filterable:"",clearable:"",size:"small",class:"w-full"},null,8,["value","onUpdate:value","options","placeholder"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):Zy("",!0)],64)}}}),kg=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["newsletter-campaigns"],operation:"insert",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"post",url:"/newsletter/campaigns",data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},wg=u=>{const{displayFormErrors:e}=Xe(),{request:n}=Pe(),{t:a}=ke(),o=Oe(),l=He();return ut({queryKey:["newsletter-campaigns"],operation:"update",getItemId:t=>t.id??`temp-${crypto.randomUUID()}`,mutationFn:async t=>{l.start();const c=await n({method:"put",url:`/newsletter/campaigns/${t.id}`,data:Xt(t,["id"])});if(l.finish(),c.failure&&c.error)throw new Error(c.error);return c.result.data},mutationOptions:{onSuccess:()=>{o.success(a("success"))},onError:t=>{t?.response?.data?.errorCode===Mt.FORM_INVALID_DATA?e(t?.response?.data?.data):o.error(a("anErrorOccurred"))},...u}})},xg=u=>{const{request:e}=Pe(),{t:n}=ke(),a=Oe(),o=He();return ut({queryKey:["newsletter-campaigns"],operation:"remove",getItemId:l=>l.id??`temp-${crypto.randomUUID()}`,mutationFn:async({id:l})=>{o.start();const t=await e({method:"delete",url:`/newsletter/campaigns/${l}`});if(o.finish(),!t.success)throw new Error(t.error);return t.result.data},mutationOptions:{onSuccess:()=>{a.success(n("success"))},onError:l=>{a.error(n("anErrorOccurred"))},...u}})},$g=()=>{const{displayFormErrors:u}=Xe(),{request:e}=Pe(),{t:n}=ke(),a=He(),o=Oe();return Oa(async l=>{const t=await e({url:"/sms",method:"post",data:l.data});if(t.failure&&t.error)throw new Error(t.error);return t.result},{onMutate:()=>a.start(),onSettled:()=>a.finish(),onSuccess:(l,t)=>{t.onSuccess?t.onSuccess(l):o.success(n("success"))},onError:(l,t)=>{if(t.onError)t.onError(l);else switch(l?.response?.data?.errorCode){case Mt.FORM_INVALID_DATA:u(l?.response?.data?.data);break;default:o.error(n("sendingFailed"))}},retry:2})},{unref:wc}=await me("vue"),{defineComponent:Cg}=await me("vue"),{unref:Ue,createVNode:dl,withCtx:xl,toDisplayString:$s,createTextVNode:Cs,resolveComponent:kh,createElementVNode:Jr,isRef:xc,renderList:Ig,Fragment:$c,openBlock:Is,createElementBlock:Cc,createBlock:Zr}=await me("vue"),Vg={class:"w-full"},{ref:to,h:tl,computed:Ic}=await me("vue"),Sg=Cg({__name:"Campaign",setup(u){const e=Oe(),n=ea(),{getSettingValue:a}=hd(),{ckEditorToolbarItems:o}=Xe(),{t:l,locale:t}=ke(),{data:c}=ad(),{data:fe}=nd(),{data:ae,isPending:ce}=$v(),{mutate:A,isPending:ne}=kg(),{mutate:O}=xg(),{mutate:I,isPending:d}=wg(),{mutate:F}=Ld(),{mutate:te}=$g(),s=to(""),re=to(),D={pageSize:12,prefix:({itemCount:U})=>tl("div",{class:"font-bold"},{default:()=>`${l("total")}: ${U}`})},W=[{title:l("title"),key:"title",resizable:!0,width:200,ellipsis:{tooltip:!0},fixed:"left",sortOrder:!1,sorter:"default",render(U){return tl("div",{},{default:()=>U.title})}},{title:l("subject"),key:"subject",resizable:!0,width:250,ellipsis:{tooltip:!0},render(U){return tl("small",{},{default:()=>U.subject})}},{title:l("numberOfRecipients"),key:"recipients",width:200,render(U){return tl("div",{},{default:()=>U.recipients.length})},sortOrder:!1,sorter:"default"},{title:l("updateAt"),key:"updatedAt",width:150,render(U){return tl("div",{},{default:()=>$n(U.updatedAt,{locale:t.value,outPattern:"DD MMMM YYYY"})})}},{title:l("createdAt"),key:"createdAt",width:150,render(U){return tl("div",{},{default:()=>$n(U.createdAt,{locale:t.value,outPattern:"DD MMMM YYYY"})})}},{title:()=>tl(ll,{ref:re,placeholder:l("search"),value:s.value,onInput:U=>{s.value=U}},{suffix:()=>tl(pe,{},{default:()=>tl(be,{icon:"carbon:search"})})}),key:"actions",width:175,render(U){return tl("div",{class:"flex justify-end items-center w-full"},[tl(Ye,{size:"small",type:"primary",secondary:!0,title:l("history"),onClick:()=>{K.value=U,H.value=!0},renderIcon:()=>tl(pe,null,{default:()=>tl(be,{icon:"mdi:history"})})}),tl("div",{class:"w-2"}),tl(Ye,{size:"small",type:"info",secondary:!0,title:l("launchCampaign"),onClick:()=>{const R=n.info({title:l("launchCampaign"),content:l("confirmLaunchCampaign",[U.recipients.length]),closeOnEsc:!1,maskClosable:!1,positiveText:l("yes"),negativeText:l("cancel"),onPositiveClick:async()=>{R.loading=!0,F({data:{title:U.title,subject:U.subject,content:U.content,recipients:U.recipients.filter(J=>Eo.isEmail(J)),tags:[]},onSuccess:J=>{const T=a("phone","string")?.split(",")[0];te({data:{from:T.replace(/\s+/g,""),content:U.rawContent,recipients:U.recipients.filter(C=>!Eo.isEmail(C))},onSuccess:C=>{const b=U.history||[];b.push({id:ql(),date:bd(new Date,{locale:t.value,outPattern:"DD MMMM YYYY - HH:mm"}),report:"Email: "+J.message+" Phone: "+C.message}),I({id:U.id,history:b}),R.loading=!1},onError:()=>{R.loading=!1}})},onError:()=>{R.loading=!1}})}})},renderIcon:()=>tl(pe,null,{default:()=>tl(be,{icon:"mdi:send"})})}),tl("div",{class:"w-2"}),tl(Ye,{size:"small",type:"warning",secondary:!0,title:l("edit"),onClick:()=>{y(U)},renderIcon:()=>tl(pe,null,{default:()=>tl(be,{icon:"carbon:edit"})})}),tl("div",{class:"w-2"}),tl(Ye,{size:"small",type:"error",secondary:!0,title:l("delete"),onClick:()=>{n.warning({title:l("confirm"),content:l("confirmDeleteCampaign"),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:async()=>{U.id&&O({id:U.id})}})},renderIcon:()=>tl(pe,null,{default:()=>tl(be,{icon:"carbon:trash-can"})})})])},fixed:"right"}],x=Ic(()=>{if(!s.value)return ae.value;const U=ae.value?.filter(R=>R.title.toLowerCase().includes(s.value.toLowerCase())||R.subject.toLowerCase().includes(s.value.toLowerCase()));return re.value&&re.value.focus(),U}),N=Ic(()=>[...(c.value||[]).map(U=>({recipient:U.email,type:"email"})),...(fe.value||[]).map(U=>({recipient:U.phone,type:"phone"}))]),q=to(!1),H=to(!1),K=to(null),oe=to(null),g=to({title:"",subject:"",content:"",rawContent:"",recipients:[]}),P={title:[{required:!0,message:l("fillRequired")}],subject:[{required:!0,message:l("fillRequired")}],content:[{required:!0,message:l("fillRequired")}],rawContent:[{required:!0,message:l("fillRequired")}],recipients:[{required:!0,message:l("fillRequired")}]},y=U=>{K.value=ie.cloneDeep(U),U?g.value=ie.cloneDeep(U):g.value={title:"",subject:"",content:"",rawContent:"",recipients:[]},q.value=!0},h=async()=>(oe.value?.validate(async U=>{if(!U){const R={title:g.value.title,subject:g.value.subject,content:g.value.content,rawContent:g.value.rawContent,recipients:g.value.recipients};K.value?K.value.title!==g.value.title&&(ae.value||[]).findIndex(J=>J.title==g.value.title)>-1?e.error(l("sameCampaignTitleMessage")):I({id:K.value.id,...R}):(ae.value||[]).findIndex(J=>J.title==g.value.title)>-1?e.error(l("sameCampaignTitleMessage")):A(R),q.value=!1}}),!1),Y=(U,R)=>ie.isEqual(U.slice().sort(),R.slice().sort());return(U,R)=>{const J=Ba,T=cr,C=sr,b=da,z=jc,xe=On,M=Ua,$=ca,i=Rl,k=Vd,Q=Fc,B=Oc,ge=Sa,De=Ea;return Is(),Cc($c,null,[dl(J,{to:"#alt-action"},{default:xl(()=>[dl(Ue(Ye),{type:"primary",secondary:"",onClick:R[0]||(R[0]=he=>y(null))},{icon:xl(()=>[dl(Ue(pe),{size:"18"},{default:xl(()=>[dl(Ue(be),{icon:"carbon:add-alt"})]),_:1})]),default:xl(()=>[Cs(" "+$s(Ue(l)("addCampaign")),1)]),_:1})]),_:1}),dl(C,null,{default:xl(()=>[dl(T,{columns:W,data:Ue(x),pagination:D,loading:Ue(ce),"single-line":!1,"scroll-x":1300,size:"small",striped:""},null,8,["data","loading"])]),_:1}),dl(i,{show:Ue(q),"onUpdate:show":R[9]||(R[9]=he=>xc(q)?q.value=he:null),loading:Ue(ne)||Ue(d),preset:"dialog",style:{width:"600px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Ue(K)?Ue(l)("editCampaign"):Ue(l)("addCampaign"),"positive-text":Ue(l)("validate"),"negative-text":Ue(l)("cancel"),onPositiveClick:h,onNegativeClick:R[10]||(R[10]=he=>q.value=!1)},{default:xl(()=>[dl($,{ref_key:"formRef",ref:oe,class:"mt-5",model:Ue(g),rules:P,"show-require-mark":!1,size:"medium"},{default:xl(()=>[dl(b,{label:Ue(l)("title"),path:"title"},{default:xl(()=>[dl(Ue(ll),{value:Ue(g).title,"onUpdate:value":R[1]||(R[1]=he=>Ue(g).title=he),placeholder:Ue(l)("title"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),dl(b,{label:Ue(l)("subject"),path:"subject"},{default:xl(()=>[dl(Ue(ll),{value:Ue(g).subject,"onUpdate:value":R[2]||(R[2]=he=>Ue(g).subject=he),placeholder:Ue(l)("subject"),type:"textarea",class:"w-full",rows:2},null,8,["value","placeholder"])]),_:1},8,["label"]),dl(b,{label:Ue(l)("content"),path:"content"},{default:xl(()=>[Jr("div",Vg,[dl(z,{modelValue:Ue(g).content,"onUpdate:modelValue":R[3]||(R[3]=he=>Ue(g).content=he),"toolbar-items":Ue(o),placeholder:Ue(l)("content"),"should-not-group-when-full":!1,"enable-upload":""},null,8,["modelValue","toolbar-items","placeholder"])])]),_:1},8,["label"]),dl(b,{label:Ue(l)("rawContent"),path:"rawContent"},{default:xl(()=>[dl(Ue(ll),{value:Ue(g).rawContent,"onUpdate:value":R[4]||(R[4]=he=>Ue(g).rawContent=he),placeholder:Ue(l)("rawContentPlaceholder"),type:"textarea",class:"w-full",rows:5},null,8,["value","placeholder"])]),_:1},8,["label"]),dl(b,{label:Ue(l)("recipients"),path:"recipients"},{default:xl(()=>[dl(M,{value:Ue(g).recipients,"onUpdate:value":R[8]||(R[8]=he=>Ue(g).recipients=he),options:Ue(N),placeholder:Ue(l)("recipients"),loading:Ue(ce),"max-tag-count":"responsive",filterable:"",multiple:"","value-field":"recipient","label-field":"recipient",class:"w-full"},{action:xl(()=>[dl(xe,{size:"large",class:"w-full","default-checked":Ue(N).length&&Y(Ue(g).recipients,Ue(N).filter(he=>he.type=="email").map(he=>he.recipient)),"onUpdate:checked":R[5]||(R[5]=he=>{he?Ue(g).recipients=Ue(N).filter(ve=>ve.type=="email").map(ve=>ve.recipient):Ue(g).recipients=Ue(g).recipients.filter(ve=>!("_v"in U?U._v:wc(Eo)).isEmail(ve))})},{default:xl(()=>[Cs($s(Ue(l)("selectOnlyEmails")),1)]),_:1},8,["default-checked"]),R[12]||(R[12]=Jr("div",{class:"h-2"},null,-1)),dl(xe,{size:"large",class:"w-full","default-checked":Ue(N).length&&Y(Ue(g).recipients,Ue(N).filter(he=>he.type=="phone").map(he=>he.recipient)),"onUpdate:checked":R[6]||(R[6]=he=>{he?Ue(g).recipients=Ue(N).filter(ve=>ve.type=="phone").map(ve=>ve.recipient):Ue(g).recipients=Ue(g).recipients.filter(ve=>("_v"in U?U._v:wc(Eo)).isEmail(ve))})},{default:xl(()=>[Cs($s(Ue(l)("selectOnlyPhoneNumbers")),1)]),_:1},8,["default-checked"]),R[13]||(R[13]=Jr("div",{class:"h-2"},null,-1)),dl(xe,{size:"large",class:"w-full","default-checked":Ue(N).length&&Ue(g).recipients.length===Ue(N).length,"onUpdate:checked":R[7]||(R[7]=he=>{he?Ue(g).recipients=Ue(N).filter(ve=>ve.recipient).map(ve=>ve.recipient):Ue(g).recipients=[]})},{default:xl(()=>[Cs($s(Ue(l)("selectAll")),1)]),_:1},8,["default-checked"])]),_:1},8,["value","options","placeholder","loading"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"]),dl(i,{show:Ue(H),"onUpdate:show":R[11]||(R[11]=he=>xc(H)?H.value=he:null),loading:Ue(d),preset:"card",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:Ue(l)("history")},{default:xl(()=>[Ue(K)?.history?.length?(Is(),Zr(ge,{key:0,style:{"max-height":"400px"}},{default:xl(()=>[dl(B,{hoverable:""},{default:xl(()=>[(Is(!0),Cc($c,null,Ig(Ue(K)?.history.slice().reverse(),he=>(Is(),Zr(Q,{key:he.id},{default:xl(()=>[dl(k,{title:he.date,"content-style":"margin-top: 10px;"},{default:xl(()=>[Cs($s(he.report),1)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})]),_:1})):(Is(),Zr(De,{key:1,description:Ue(l)("noCampaignHistory"),class:"mb-10 mt-5"},null,8,["description"]))]),_:1},8,["show","loading","title"])],64)}}}),Eg=()=>{const{request:u}=Pe(),{t:e}=ke(),n=He(),a=Oe();return Oa(async o=>{const l=await u({url:"/app-information",method:"put",data:o});if(l.failure&&l.error)throw new Error(l.error);return l.result.data},{onMutate:()=>n.start(),onSettled:()=>n.finish(),onSuccess:(o,l)=>{a.success(e("success"))},onError:(o,l)=>{a.error(e("unableToUpdateAppInformation"))}})},{defineComponent:Ug}=await me("vue"),{unref:f,createVNode:j,withCtx:le,toDisplayString:jt,createTextVNode:lo,resolveComponent:Mg,openBlock:Pt,createBlock:bn,createCommentVNode:Jl,createElementBlock:gl,createElementVNode:wt,isRef:ei,vShow:ti,withDirectives:li,normalizeStyle:kn,Fragment:ao,renderList:Vc,TransitionGroup:Ng,withKeys:Tg}=await me("vue"),Dg={id:"header-btn"},zg={key:1,id:"alt-action"},Ag={key:"basic-info"},Pg={class:"text-xs"},Lg={class:"text-xs"},Bg={class:"text-xs"},Og={class:"text-xs"},Fg={class:"text-xs"},qg={class:"text-xs"},Rg={class:"text-xs"},jg={class:"flex items-center gap-2 w-full"},Kg={key:"branding"},Yg={class:"text-sm"},Gg={class:"text-sm"},Hg={class:"flex flex-col items-center justify-center text-gray-400"},Wg={class:"text-sm"},Qg={class:"flex flex-col items-center justify-center text-gray-400"},Xg={class:"text-sm"},Jg={class:"flex flex-col items-center justify-center text-gray-400"},Zg={class:"text-sm"},e1={class:"flex flex-col items-center justify-center text-gray-400"},t1={class:"text-sm"},l1={class:"flex items-center justify-between"},a1={class:"font-bold"},n1={class:"flex items-center"},o1={class:"flex items-center justify-between"},s1={class:"font-bold"},r1={class:"flex items-center"},i1={class:"flex items-center justify-between"},c1={class:"font-bold"},d1={class:"flex items-center"},u1={key:"social-networks"},p1={class:"text-xs"},m1={key:"newsletter-email"},f1={key:"newsletter-phone"},_1={key:"newsletter-campaign"},v1={key:"ads"},y1={key:"videos"},g1={key:"content-models"},h1={key:"menus"},b1={key:"content-permalinks"},k1={key:"page-sections"},{defineComponent:w1,inject:x1,ref:ka,h:ai,computed:ni,watch:oi,onMounted:Sc}=await me("vue"),{storeToRefs:$1,defineStore:C1}=await me("pinia"),I1=w1({name:Uc.CONTENT_MANAGEMENT.NAME}),V1=Ug({...I1,setup(u){const e=["basic-info","branding","social-networks","newsletter-email","newsletter-phone","newsletter-campaign","ads","videos","menus","content-permalinks","content-models","page-sections","add-new-page"],n=V=>e.includes(V),{t:a,locale:o}=ke(),l=Od(),t=ea(),{appPrimaryColor:c,pickByTheme:fe,fileUrl:ae,isLgScreen:ce,isMdScreen:A,isSmScreen:ne,isXlScreen:O,is2XlScreen:I,tr:d}=Xe(),F=kd({enabled:!1}),{isLightTheme:te,contentLayoutSize:s}=$1(To());ii();const{data:re,refetch:D}=ci(),{mutate:W,isPending:x}=Eg(),{mutate:N,isPending:q}=ed(),{mutate:H,isPending:K}=kp(),oe=x1("appConfig"),g=ka({name:"",icon:"",oneColorIcon:"",logo:"",oneColorLogo:"",phone:"",email:"",address:"",postalCode:"",description:"",primaryColor:"",secondaryColor:"",accentColor:"",facebook:"",twitter:"",instagram:"",whatsapp:"",linkedin:"",youtube:"",pinterest:"",snapchat:"",tiktok:"",telegram:"",discord:"",reddit:"",tumblr:"",vimeo:"",messenger:"",twitch:"",github:"",dribbble:"",behance:"",medium:"",stackOverflow:"",playstore:"",appstore:"",threads:"",additionalInfo:""}),P=ka(g.value),y=C1("content-management",()=>({currentMenuItemKey:ka("basic-info")}))(),h=(V,w)=>()=>ai(pe,{},{default:()=>ai(be,{icon:V})}),Y=(V,w,et=!1)=>()=>ai("span",{id:w,class:{"page-menu-item":et}},{default:()=>V}),U=ni(()=>{const V=[{label:Y(a("basicInfo"),"basic-info"),key:"basic-info",icon:h("carbon:identification")},{label:Y(a("branding"),"branding"),key:"branding",icon:h("carbon:color-palette")},{label:Y(a("socialNetworks"),"social-networks"),key:"social-networks",icon:h("carbon:share")},{key:"divider",type:"divider"},{label:Y(a("newsletterEmails"),"newsletter-email"),key:"newsletter-email",icon:h("carbon:at")},{label:Y(a("newsletterNumbers"),"newsletter-phone"),key:"newsletter-phone",icon:h("carbon:phone")},{label:Y(a("newsletterCampaigns"),"newsletter-campaign"),key:"newsletter-campaign",icon:h("carbon:bullhorn")},{key:"divider",type:"divider"},{label:Y(a("ads"),"ads"),key:"ads",icon:h("ic:baseline-ads-click")},{key:"divider",type:"divider"},{label:Y(a("videos"),"videos"),key:"videos",icon:h("carbon:video-player")},{key:"divider",type:"divider"},{label:Y(a("menusManagement"),"menus"),key:"menus",icon:h("carbon:menu")},{label:Y(a("contentPermalinks"),"content-permalinks"),key:"content-permalinks",icon:h("carbon:link")},{key:"divider",type:"divider"},{label:Y(a("contentModels"),"content-models"),key:"content-models",icon:h("carbon:model-alt")},{label:Y(a("pageSections"),"page-sections"),key:"page-sections",icon:h("carbon:list-boxes")},{key:"divider",type:"divider"}];for(const w of re.value||[])V.push({label:Y(d(w.title).startsWith(a("page"))?d(w.title):`${a("page")} ${d(w.title)}`,`${w.slug}-page`,!0),key:`${w.slug}-page`,icon:h("carbon:document",`${w.slug}-page`)});return re.value&&re.value.length>0&&V.push({key:"divider",type:"divider"}),V.push({label:Y(a("addPage"),"add-new-page"),key:"add-new-page",icon:h("carbon:add-alt")}),V}),R=ni(()=>ie.isEqual(g.value,P.value)),J=ni(()=>s.value.height-165),T=ka(null),C={email:[{required:!1,message:a("fillRequired")},{trigger:["input"],validator(V,w){return w&&!Eo.isEmail(w)?new Error(a("invalidEmail")):!0}}]},b=ka();oi(()=>b.value,V=>{g.value.additionalInfo=JSON.stringify(V||"[]")},{deep:!0});const z=ka(null),xe={},M=[{name:"facebook",icon:"fa-brands:facebook"},{name:"twitter",icon:"fa6-brands:x-twitter"},{name:"instagram",icon:"fa-brands:instagram"},{name:"whatsapp",icon:"fa-brands:whatsapp"},{name:"linkedin",icon:"fa-brands:linkedin"},{name:"youtube",icon:"fa-brands:youtube"},{name:"pinterest",icon:"fa-brands:pinterest"},{name:"snapchat",icon:"fa-brands:snapchat"},{name:"tiktok",icon:"fa-brands:tiktok"},{name:"threads",icon:"fa6-brands:threads"},{name:"telegram",icon:"fa-brands:telegram"},{name:"discord",icon:"fa-brands:discord"},{name:"reddit",icon:"fa-brands:reddit"},{name:"tumblr",icon:"fa-brands:tumblr"},{name:"vimeo",icon:"fa-brands:vimeo"},{name:"messenger",icon:"fa6-brands:facebook-messenger"},{name:"twitch",icon:"fa-brands:twitch"},{name:"github",icon:"fa-brands:github"},{name:"dribbble",icon:"fa-brands:dribbble"},{name:"behance",icon:"fa-brands:behance"},{name:"medium",icon:"fa-brands:medium"},{name:"stackOverflow",icon:"fa-brands:stack-overflow"},{name:"playstore",icon:"fa-brands:google-play"},{name:"appstore",icon:"fa-brands:app-store"}],$=ka("logos"),i=ka(!1),k=async V=>{switch($.value){case"logos":g.value.logo=V;break;case"icons":g.value.icon=V;break;case"monochrome-logos":g.value.oneColorLogo=V;break;case"monochrome-icons":g.value.oneColorIcon=V;break}i.value=!1},Q={name:"",title:"",content:"",slug:""},B=ka(!1),ge=ka(null),De=ka(Q),he={title:[{required:!0,message:a("fillRequired")}]},ve=ka(null),gt=V=>{ve.value=ie.cloneDeep(V),De.value=ie.cloneDeep(V||Q),B.value=!0},ct=async()=>(ge.value?.validate(async V=>{if(!V){const w={title:De.value.title};ve.value?N({slug:ve.value.slug,...w},{onSuccess:et=>{y.currentMenuItemKey=`${et?.slug}-page`,B.value=!1}}):H({name:ie.startCase(ie.camelCase(d(De.value.title))).replace(/\s+/g,""),...w},{onSuccess:et=>{y.currentMenuItemKey=`${et?.slug}-page`,B.value=!1}})}}),!1),we=async()=>{await F.refetch(),F.data.value?.forEach(V=>{g.value[V.key]!=null&&(g.value[V.key]=V.value)}),P.value=ie.cloneDeep(g.value);try{b.value=JSON.parse(g.value.additionalInfo||"[]")}catch{b.value=[]}};we(),Sc(()=>{setTimeout(()=>{l.params.key&&n(l.params.key)&&(y.currentMenuItemKey=l.params.key)},500)});const qe=()=>{W(g.value,{onSuccess:()=>we()})},$e=["basic-info","branding","social-networks"];oi(()=>y.currentMenuItemKey,(V,w)=>{V==="add-new-page"?(y.currentMenuItemKey=w,gt(null)):$e.includes(w)&&!$e.includes(V)&&(R.value||t.warning({title:a("confirm"),content:a("marketInfoDiscardChangesConfirm"),positiveText:a("yes"),negativeText:a("cancel"),onPositiveClick:async()=>{},onNegativeClick:async()=>{y.currentMenuItemKey=w}}))});const Qe=ka();oi(()=>[A.value,ne.value,ce.value,O.value],([V,w,et,Ee])=>{Qe.value=V||w||et||Ee,setTimeout(()=>{Qe.value=void 0},500)},{immediate:!0});const L=Bd({tourName:"content-management",exitOnEsc:!0,useModalOverlay:!0,defaultStepOptions:{cancelIcon:{enabled:!0,label:a("cancel")},scrollTo:{behavior:"smooth",block:"center"}}});return Sc(()=>{setTimeout(()=>{const V=document.getElementById("sidebar");L.addStep({attachTo:{element:V,on:"left"},title:a("contentManagementGuideTitle1"),text:a("contentManagementGuideText1"),buttons:[{text:a("pass"),label:a("pass"),secondary:!0,classes:"p-1 text-xs font-medium text-center text-white rounded-sm focus:ring-4 focus:outline-none",action(){L.cancel()}},{text:a("next"),label:a("next"),classes:"p-1 text-xs font-medium text-center text-white rounded-sm focus:ring-4 focus:outline-none",action(){L.next()}}]});const w=document.getElementsByClassName("page-menu-item");if(w&&w.length>0){const Ee=[];for(let st=0;st<w.length;st++)Ee.push(w[st]?.parentNode?.parentNode?.parentNode);L.addStep({attachTo:{element:Ee[0],on:"left"},title:a("contentManagementGuideTitle2"),text:a("contentManagementGuideText2"),extraHighlights:["div:has(.page-menu-item)"],buttons:[{text:a("previous"),label:a("previous"),secondary:!0,classes:"p-1 text-xs font-medium text-center text-white rounded-sm focus:ring-4 focus:outline-none",action(){L.back()}},{text:a("next"),label:a("next"),classes:"p-1 text-xs font-medium text-center text-white rounded-sm focus:ring-4 focus:outline-none",action(){L.next()}}]})}const et=document.getElementById("add-new-page")?.parentNode?.parentNode?.parentNode;L.addStep({attachTo:{element:et,on:"left"},title:a("contentManagementGuideTitle3"),text:a("contentManagementGuideText3"),buttons:[{text:a("previous"),label:a("previous"),secondary:!0,classes:"p-1 text-xs font-medium text-center text-white rounded-sm focus:ring-4 focus:outline-none",action(){L.back()}},{text:a("ok"),label:a("ok"),classes:"p-1 text-xs font-medium text-center text-white rounded-sm focus:ring-4 focus:outline-none",action(){L.next()}}]})},1e3)}),(V,w)=>{const et=Ye,Ee=$l,st=Ud,G=Ed,_=ll,E=da,m=Bn,ue=fa,Ie=ma,Et=ur,_a=ca,jl=hl,Kl=Rc,Cl=on,Ft=Ra,Yl=Mg("color-picker"),_l=Sd,ul=od,Ot=no,Yt=Rl;return Pt(),gl(ao,null,[j(ul,null,{"header-extra":le(()=>[j(Ee,null,{default:le(()=>[wt("div",Dg,[$e.includes(f(y).currentMenuItemKey)?(Pt(),bn(et,{key:0,loading:f(x)||f(F).isPending.value,disabled:f(R),type:"primary",secondary:"",onClick:qe},{icon:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:save"})]),_:1})]),default:le(()=>[lo(" "+jt(f(a)("save")),1)]),_:1},8,["loading","disabled"])):(Pt(),gl("div",zg))]),j(et,{dashed:"",type:"primary",title:f(a)("help"),onClick:w[0]||(w[0]=Le=>f(L).start())},{icon:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:help"})]),_:1})]),_:1},8,["title"])]),_:1})]),default:le(()=>[j(_l,{style:kn(`height: ${f(J)}px`)},{default:le(()=>[j(_l,{position:"absolute",style:{top:"0",bottom:"0"},"has-sider":""},{default:le(()=>[j(G,{id:"sidebar",bordered:"","show-trigger":"","collapse-mode":"width","content-style":"padding: 4px",collapsed:f(Qe),"default-collapsed":!f(I),"collapsed-width":64,"native-scrollbar":!1,width:f(I)?300:275},{default:le(()=>[j(st,{value:f(y).currentMenuItemKey,"onUpdate:value":w[1]||(w[1]=Le=>f(y).currentMenuItemKey=Le),"collapsed-width":64,"collapsed-icon-size":22,options:f(U)},null,8,["value","options"])]),_:1},8,["collapsed","default-collapsed","width"]),j(_l,{"content-style":"padding: 10px 24px","native-scrollbar":!1},{default:le(()=>[j(Ng,{name:"slide-fade"},{default:le(()=>[li(wt("section",Ag,[j(jl,{hoverable:""},{default:le(()=>[j(_a,{ref_key:"basicInfoFormRef",ref:T,model:f(g),rules:C,"show-label":!0,"show-require-mark":!1,size:"medium"},{default:le(()=>[j(E,{path:"name"},{label:le(()=>[wt("b",Pg,jt(f(a)("websiteName")),1)]),default:le(()=>[j(_,{value:f(g).name,"onUpdate:value":w[2]||(w[2]=Le=>f(g).name=Le),placeholder:f(a)("websiteName"),class:"w-full"},null,8,["value","placeholder"])]),_:1}),j(ue,{"x-gap":"12",span:24},{default:le(()=>[j(m,{span:12,path:"email"},{label:le(()=>[wt("b",Lg,jt(f(a)("email")),1)]),default:le(()=>[j(_,{value:f(g).email,"onUpdate:value":w[3]||(w[3]=Le=>f(g).email=Le),placeholder:f(a)("email"),class:"w-full"},{prefix:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:email"})]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),j(m,{span:12,path:"phone"},{label:le(()=>[wt("b",Bg,jt(f(a)("phone")),1)]),default:le(()=>[j(_,{value:f(g).phone,"onUpdate:value":w[4]||(w[4]=Le=>f(g).phone=Le),placeholder:f(a)("phone"),class:"w-full"},{prefix:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:phone"})]),_:1})]),_:1},8,["value","placeholder"])]),_:1})]),_:1}),j(E,{path:"address"},{label:le(()=>[wt("span",Og,[wt("b",null,jt(f(a)("address")),1)])]),default:le(()=>[j(_,{value:f(g).address,"onUpdate:value":w[5]||(w[5]=Le=>f(g).address=Le),placeholder:f(a)("address"),class:"w-full"},{prefix:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:location"})]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),j(ue,{"x-gap":"12",span:24},{default:le(()=>[j(m,{span:12,path:"postalCode"},{label:le(()=>[wt("b",Fg,jt(f(a)("postalCode")),1)]),default:le(()=>[j(_,{value:f(g).postalCode,"onUpdate:value":w[6]||(w[6]=Le=>f(g).postalCode=Le),placeholder:f(a)("postalCode"),class:"w-full"},{prefix:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:text-short-paragraph"})]),_:1})]),_:1},8,["value","placeholder"])]),_:1})]),_:1}),j(E,{"show-label":!1,path:"description"},{default:le(()=>[j(Ie,{modelValue:f(g).description,"onUpdate:modelValue":w[7]||(w[7]=Le=>f(g).description=Le),placeholder:f(a)("description"),type:"textarea",class:"w-full",rows:6,sync:""},{label:le(()=>[wt("b",qg,jt(f(a)("description")),1)]),_:1},8,["modelValue","placeholder"])]),_:1}),j(E,{path:"additionalInfo"},{label:le(()=>[wt("b",Rg,jt(f(a)("additionalInfo")),1)]),default:le(()=>[j(Et,{value:f(b),"onUpdate:value":w[8]||(w[8]=Le=>ei(b)?b.value=Le:null),"show-sort-button":!1,"on-create":()=>({name:"",content:""})},{"create-button-default":le(()=>[lo(jt(f(a)("add")),1)]),default:le(({value:Le})=>[wt("div",jg,[j(_,{value:Le.name,"onUpdate:value":Gl=>Le.name=Gl,placeholder:f(a)("name"),class:"w-full"},null,8,["value","onUpdate:value","placeholder"]),j(_,{value:Le.content,"onUpdate:value":Gl=>Le.content=Gl,placeholder:f(a)("content"),class:"w-full"},null,8,["value","onUpdate:value","placeholder"])])]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})],512),[[ti,f(y).currentMenuItemKey==="basic-info"]]),li(wt("section",Kg,[j(jl,{segmented:"",size:"small"},{header:le(()=>[wt("span",Yg,jt(f(a)("graphicElements")),1)]),default:le(()=>[j(ue,{cols:"1 s:1 m:2 l:4 xl:4 2xl:4",responsive:"screen","x-gap":"8","y-gap":"8"},{default:le(()=>[j(Cl,null,{default:le(()=>[j(jl,{hoverable:"",segmented:"",size:"small",class:"h-full"},{header:le(()=>[wt("span",Gg,jt(f(a)("logo")),1)]),default:le(()=>[j(Ee,{align:"center",justify:"center",style:{height:"100%"},vertical:""},{default:le(()=>[f(g).logo?(Pt(),bn(Kl,{key:0,class:"cursor-pointer","object-fit":"contain",style:kn("border: 1px dashed "+f(fe)(f(c),"white")),size:125,src:f(ae)(f(g).logo),onClick:w[9]||(w[9]=()=>{$.value="logos",i.value=!0})},null,8,["style","src"])):(Pt(),gl("section",{key:1,class:"cursor-pointer flex items-center justify-center",style:kn(`border: 1px dashed ${f(fe)(f(c),"white")}; width: 125px; height: 125px`),onClick:w[10]||(w[10]=()=>{$.value="logos",i.value=!0})},[wt("div",Hg,[j(f(pe),{size:"50"},{default:le(()=>[j(f(be),{icon:"carbon:image"})]),_:1}),wt("span",null,jt(f(a)("import")),1)])],4)),f(g).logo?(Pt(),bn(et,{key:2,quaternary:"",onClick:w[11]||(w[11]=()=>f(g).logo="")},{icon:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),default:le(()=>[lo(" "+jt(f(a)("clear")),1)]),_:1})):Jl("",!0)]),_:1})]),_:1})]),_:1}),j(Cl,null,{default:le(()=>[j(jl,{hoverable:"",segmented:"",size:"small",class:"h-full"},{header:le(()=>[wt("span",Wg,jt(f(a)("icon")),1)]),default:le(()=>[j(Ee,{align:"center",justify:"center",style:{height:"100%"},vertical:""},{default:le(()=>[f(g).icon?(Pt(),bn(Kl,{key:0,class:"cursor-pointer","object-fit":"contain",style:kn("border: 1px dashed "+f(fe)(f(c),"white")),size:125,src:f(ae)(f(g).icon),onClick:w[12]||(w[12]=()=>{$.value="icons",i.value=!0})},null,8,["style","src"])):(Pt(),gl("section",{key:1,class:"cursor-pointer flex items-center justify-center",style:kn(`border: 1px dashed ${f(fe)(f(c),"white")}; width: 125px; height: 125px`),onClick:w[13]||(w[13]=()=>{$.value="icons",i.value=!0})},[wt("div",Qg,[j(f(pe),{size:"50"},{default:le(()=>[j(f(be),{icon:"carbon:image"})]),_:1}),wt("span",null,jt(f(a)("import")),1)])],4)),f(g).icon?(Pt(),bn(et,{key:2,quaternary:"",onClick:w[14]||(w[14]=()=>f(g).icon="")},{icon:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),default:le(()=>[lo(" "+jt(f(a)("clear")),1)]),_:1})):Jl("",!0)]),_:1})]),_:1})]),_:1}),j(Cl,null,{default:le(()=>[j(jl,{hoverable:"",segmented:"",size:"small",class:"h-full"},{header:le(()=>[wt("span",Xg,jt(f(a)("logoMonochrome")),1)]),default:le(()=>[j(Ee,{align:"center",justify:"center",style:{height:"100%"},vertical:""},{default:le(()=>[f(g).oneColorLogo?(Pt(),bn(Kl,{key:0,class:"cursor-pointer !bg-black !text-white","object-fit":"contain",style:kn("border: 1px dashed "+f(fe)(f(c),"white")),size:125,src:f(ae)(f(g).oneColorLogo),onClick:w[15]||(w[15]=()=>{$.value="monochrome-logos",i.value=!0})},null,8,["style","src"])):(Pt(),gl("section",{key:1,class:"cursor-pointer flex items-center justify-center bg-black text-white",style:kn(`border: 1px dashed ${f(fe)(f(c),"white")}; width: 125px; height: 125px`),onClick:w[16]||(w[16]=()=>{$.value="monochrome-logos",i.value=!0})},[wt("div",Jg,[j(f(pe),{size:"50"},{default:le(()=>[j(f(be),{icon:"carbon:image"})]),_:1}),wt("span",null,jt(f(a)("import")),1)])],4)),f(g).oneColorLogo?(Pt(),bn(et,{key:2,quaternary:"",onClick:w[17]||(w[17]=()=>f(g).oneColorLogo="")},{icon:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),default:le(()=>[lo(" "+jt(f(a)("clear")),1)]),_:1})):Jl("",!0)]),_:1})]),_:1})]),_:1}),j(Cl,null,{default:le(()=>[j(jl,{hoverable:"",segmented:"",size:"small",class:"h-full"},{header:le(()=>[wt("span",Zg,jt(f(a)("iconMonochrome")),1)]),default:le(()=>[j(Ee,{align:"center",justify:"center",style:{height:"100%"},vertical:""},{default:le(()=>[f(g).oneColorIcon?(Pt(),bn(Kl,{key:0,class:"cursor-pointer !bg-black !text-white","object-fit":"contain",style:kn("border: 1px dashed "+f(fe)(f(c),"white")),size:125,src:f(ae)(f(g).oneColorIcon),onClick:w[18]||(w[18]=()=>{$.value="monochrome-icons",i.value=!0})},null,8,["style","src"])):(Pt(),gl("section",{key:1,class:"cursor-pointer flex items-center justify-center bg-black text-white",style:kn(`border: 1px dashed ${f(fe)(f(c),"white")}; width: 125px; height: 125px`),onClick:w[19]||(w[19]=()=>{$.value="monochrome-icons",i.value=!0})},[wt("div",e1,[j(f(pe),{size:"50"},{default:le(()=>[j(f(be),{icon:"carbon:image"})]),_:1}),wt("span",null,jt(f(a)("import")),1)])],4)),f(g).oneColorIcon?(Pt(),bn(et,{key:2,quaternary:"",onClick:w[20]||(w[20]=()=>f(g).oneColorIcon="")},{icon:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),default:le(()=>[lo(" "+jt(f(a)("clear")),1)]),_:1})):Jl("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),w[31]||(w[31]=wt("br",null,null,-1)),j(jl,{hoverable:"",segmented:"",size:"small"},{header:le(()=>[wt("span",t1,jt(f(a)("websiteColors")),1)]),default:le(()=>[j(ue,{cols:"1 s:1 m:3 l:3 xl:3 2xl:3",responsive:"screen","x-gap":"42"},{default:le(()=>[j(Cl,null,{default:le(()=>[wt("div",l1,[wt("span",a1,jt(f(a)("baseColor")),1),wt("div",n1,[f(g).primaryColor?(Pt(),gl(ao,{key:0},[j(et,{text:"",type:"error",style:{"font-size":"21px"},onClick:w[21]||(w[21]=Le=>f(g).primaryColor="")},{default:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),_:1}),j(Ft,{vertical:""})],64)):Jl("",!0),j(Yl,{"pure-color":f(g).primaryColor,"onUpdate:pureColor":w[22]||(w[22]=Le=>f(g).primaryColor=Le),"default-pure-color":"#00000000","picker-type":"chrome","use-type":"pure",format:"hex",shape:"circle","z-index":5e3,theme:f(te)?"white":"black",lang:f(o)},null,8,["pure-color","theme","lang"])])])]),_:1}),j(Cl,null,{default:le(()=>[wt("div",o1,[wt("span",s1,jt(f(a)("secondaryColor")),1),wt("div",r1,[f(g).secondaryColor?(Pt(),gl(ao,{key:0},[j(et,{text:"",type:"error",style:{"font-size":"21px"},onClick:w[23]||(w[23]=Le=>f(g).secondaryColor="")},{default:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),_:1}),j(Ft,{vertical:""})],64)):Jl("",!0),j(Yl,{"pure-color":f(g).secondaryColor,"onUpdate:pureColor":w[24]||(w[24]=Le=>f(g).secondaryColor=Le),"default-pure-color":"#00000000","picker-type":"chrome","use-type":"pure",format:"hex",shape:"circle","z-index":5e3,theme:f(te)?"white":"black",lang:f(o)},null,8,["pure-color","theme","lang"])])])]),_:1}),j(Cl,null,{default:le(()=>[wt("div",i1,[wt("span",c1,jt(f(a)("tertiaryColor")),1),wt("div",d1,[f(g).accentColor?(Pt(),gl(ao,{key:0},[j(et,{text:"",type:"error",style:{"font-size":"21px"},onClick:w[25]||(w[25]=Le=>f(g).accentColor="")},{default:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:"carbon:trash-can"})]),_:1})]),_:1}),j(Ft,{vertical:""})],64)):Jl("",!0),j(Yl,{"pure-color":f(g).accentColor,"onUpdate:pureColor":w[26]||(w[26]=Le=>f(g).accentColor=Le),"default-pure-color":"#00000000","picker-type":"chrome","use-type":"pure",format:"hex",shape:"circle","z-index":5e3,theme:f(te)?"white":"black",lang:f(o)},null,8,["pure-color","theme","lang"])])])]),_:1})]),_:1})]),_:1})],512),[[ti,f(y).currentMenuItemKey==="branding"]]),li(wt("section",u1,[j(jl,{hoverable:""},{default:le(()=>[j(_a,{ref_key:"socialNetworksFormRef",ref:z,model:f(g),rules:xe,"show-label":!0,"show-require-mark":!1,size:"medium"},{default:le(()=>[j(ue,{"x-gap":"12",span:24},{default:le(()=>[(Pt(),gl(ao,null,Vc(M,Le=>j(m,{key:Le.name,span:12,path:Le.name},{label:le(()=>[wt("b",p1,jt(f(a)(Le.name)),1)]),default:le(()=>[j(_,{value:f(g)[Le.name],"onUpdate:value":Gl=>f(g)[Le.name]=Gl,placeholder:f(a)(Le.name),class:"w-full"},{prefix:le(()=>[j(f(pe),null,{default:le(()=>[j(f(be),{icon:Le.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["value","onUpdate:value","placeholder"])]),_:2},1032,["path"])),64))]),_:1})]),_:1},8,["model"])]),_:1})],512),[[ti,f(y).currentMenuItemKey==="social-networks"]]),f(y).currentMenuItemKey==="newsletter-email"?(Pt(),gl("section",m1,[j(Lv)])):Jl("",!0),f(y).currentMenuItemKey==="newsletter-phone"?(Pt(),gl("section",f1,[j(Jv)])):Jl("",!0),f(y).currentMenuItemKey==="newsletter-campaign"?(Pt(),gl("section",_1,[j(Sg)])):Jl("",!0),f(y).currentMenuItemKey==="ads"?(Pt(),gl("section",v1,[j(pu)])):Jl("",!0),f(y).currentMenuItemKey==="videos"?(Pt(),gl("section",y1,[j(Qf)])):Jl("",!0),f(y).currentMenuItemKey==="content-models"?(Pt(),gl("section",g1,[j(Wy)])):Jl("",!0),f(y).currentMenuItemKey==="menus"?(Pt(),gl("section",h1,[j(vf)])):Jl("",!0),f(y).currentMenuItemKey==="content-permalinks"?(Pt(),gl("section",b1,[j(bg)])):Jl("",!0),f(y).currentMenuItemKey==="page-sections"?(Pt(),gl("section",k1,[j(xv)])):Jl("",!0),(Pt(!0),gl(ao,null,Vc(f(re),(Le,Gl)=>(Pt(),gl(ao,{key:`${Le.slug}-page`},[f(y).currentMenuItemKey===`${Le.slug}-page`?(Pt(),gl("section",{key:`${Le.slug}-page`},[j(Wp,{slug:Le.slug,"open-form-modal":gt,onDelete:()=>{f(y).currentMenuItemKey=(f(re)?.length||0)>1?`${f(re)?.[Gl-1].slug}-page`:e[0],f(D)()}},null,8,["slug","onDelete"])])):Jl("",!0)],64))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1}),j(Ot,{show:f(i),"onUpdate:show":w[27]||(w[27]=Le=>ei(i)?i.value=Le:null),title:f(a)("selectImage"),"upload-config":{folder:f($),limit:0,maxSize:0,baseUrl:f(oe)?.apiUrl+"/media-files/upload",excludedExtensions:[]},onSubmit:k},null,8,["show","title","upload-config"]),j(Yt,{show:f(B),"onUpdate:show":w[29]||(w[29]=Le=>ei(B)?B.value=Le:null),loading:f(K)||f(q),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:f(ve)?f(a)("editPage"):f(a)("addPage"),"positive-text":f(a)("validate"),"negative-text":f(a)("cancel"),onPositiveClick:ct,onNegativeClick:w[30]||(w[30]=Le=>B.value=!1)},{default:le(()=>[j(_a,{ref_key:"addPageFormRef",ref:ge,model:f(De),rules:he,"show-require-mark":!1,size:"medium"},{default:le(()=>[j(E,{"show-label":!1,path:"title",class:"mt-5"},{default:le(()=>[j(Ie,{modelValue:f(De).title,"onUpdate:modelValue":w[28]||(w[28]=Le=>f(De).title=Le),placeholder:f(a)("title"),class:"w-full",sync:"",onKeydown:Tg(ct,["enter"])},{label:le(()=>[lo(jt(f(a)("title")),1)]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","loading","title","positive-text","negative-text"])],64)}}}),wh=Cn(V1,[["__scopeId","data-v-eb0e0d24"]]);export{wh as default};
