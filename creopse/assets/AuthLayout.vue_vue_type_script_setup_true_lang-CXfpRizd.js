import{i as C}from"./ckeditor_ckeditor5-vue-CmLqe3wy.js";import{u as G,p as J,d as K,e as O,R as Q,_ as W}from"./main-BFQh8EtE.js";import{I as X}from"./iconify_vue-DXPEksg3.js";import{a as Y,u as Z}from"./vue-router-DjpI5axN.js";import{u as ee}from"./unhead_vue-ObhOJ4d0.js";import{p as te,f as ne,h as oe,q as se,r as ae,s as re}from"./naive-ui-BrWbllCz.js";import{u as le}from"./vue-i18n-B92nPylK.js";const{defineComponent:ie}=await C("vue"),{unref:e,resolveComponent:Le,openBlock:c,createBlock:V,createCommentVNode:_,toDisplayString:h,createVNode:o,withCtx:s,createElementVNode:n,createTextVNode:ce,createElementBlock:v,normalizeClass:ue,normalizeStyle:w,renderSlot:de,isRef:pe,Fragment:me}=await C("vue"),_e={key:0,class:"fixed top-8 left-5 right-5 px-10"},fe={class:"flex items-center justify-between"},ge={class:"text-sm ml-1"},be={class:"h-screen flex items-center justify-center"},he={class:"flex flex-col items-center justify-center"},ve={class:"w-full bg-[#ffffff] dark:bg-[#18181b] py-20 px-8 sm:px-20",style:{"border-radius":"15px"}},ye={class:"text-center mb-8"},ke={class:"flex justify-center mb-4"},xe=["src","alt"],we={key:0,class:"text-[#111827] dark:text-[#ffffff] text-3xl font-medium mb-4"},Ce={key:1,class:"text-[#6b7280] font-medium"},Se={class:"text-center py-2 px-4 fixed bottom-0 w-full bg-[#ffffff] dark:bg-[#18181b] border-slate-200 dark:border-gray-500"},{ref:z,onMounted:Be,computed:Ae}=await C("vue"),Pe=ie({__name:"AuthLayout",props:{displayServerAlerts:{type:Boolean,default:!0},title:{},subtitle:{}},setup(L){const u=L,{t:y,locale:f}=le(),{request:S}=O(),{pickByTheme:P,isSmScreen:D,languages:B,updateLocale:A,appPrimaryColor:R,fileUrl:I,icon:U,tr:$}=G(),d=Y(),q=Z(),T=J(),{getSettingValue:p}=K(),j=te(),g=z(!0),k=z(!0);Be(async()=>{if(d.query&&d.query.lang){const t=String(d.query.lang);B.map(a=>a.value).includes(t)&&f.value!=t&&A(t)}j.start();const m=await S({url:"/"});if(g.value=m.success,g.value){const t=await S({url:"/database"});k.value=t.success}j.finish()});const E=Ae(()=>{const m="#f1f5f9",t="#09090b",a=p("appearance.authPages.backgroundColor.light","string"),r=p("appearance.authPages.backgroundColor.dark","string"),l=p("appearance.authPages.backgroundImage.light","string"),b=p("appearance.authPages.backgroundImage.dark","string");return P(l?`background: url(${I(l)}) no-repeat center cover`:`background-color: ${a||m}`,b?`background: url(${I(b)}) no-repeat center cover`:`background-color: ${r||t}`)}),x=p("appearance.authPages.iconSize","number"),H="Creopse";return ee({title:()=>($(d?.meta?.title)?$(d?.meta?.title)+" - ":"")+"Creopse"}),(m,t)=>{const a=ne,r=X,l=oe,b=W,M=ae,F=re,N=se;return c(),v(me,null,[u.displayServerAlerts&&(!e(g)||!e(k))?(c(),v("section",_e,[e(g)?_("",!0):(c(),V(a,{key:0,title:e(y)("serverUnreachable"),type:"error"},null,8,["title"])),e(k)?_("",!0):(c(),V(a,{key:1,type:"warning"},{header:s(()=>[n("div",fe,[ce(h(e(y)("unableToConnectToDatabase"))+" ",1),n("div",{class:"flex items-center justify-between cursor-pointer",onClick:t[0]||(t[0]=i=>e(q).push(e(Q).SETUP.PATH))},[o(l,null,{default:s(()=>[o(r,{icon:"carbon:bottom-panel-close"})]),_:1}),n("span",ge,h(e(y)("openInstaller")),1)])])]),_:1}))])):_("",!0),n("section",be,[n("div",{style:w(`${e(E)}`),class:"flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden"},[n("div",he,[o(b,{name:"slide-fade",appear:""},{default:s(()=>[n("div",{style:w(`
              border-radius: 15px;
              padding: 0.3rem;
              background: linear-gradient(
                ${Math.floor(Math.random()*360)}deg,
                ${e(R)} 10%,
                rgba(33, 150, 243, 0) 30%
              );
            `)},[n("div",ve,[n("div",ye,[n("div",ke,[n("img",{src:e(U),style:w(e(x)?`width: ${e(x)}px;`:""),class:ue(`${e(x)?"":"w-24"}`),alt:e(H)},null,14,xe)]),u.title?(c(),v("div",we,h(u.title),1)):_("",!0),u.subtitle?(c(),v("span",Ce,h(u.subtitle),1)):_("",!0)]),de(m.$slots,"default")])],4)]),_:3})])],4)]),n("section",Se,[o(N,{justify:e(D)?"center":"space-evenly",align:"center",class:"container mx-auto"},{default:s(()=>[o(M,{value:e(f),"onUpdate:value":[t[1]||(t[1]=i=>pe(f)?f.value=i:null),t[2]||(t[2]=i=>e(A)(i,!1))],"consistent-menu-width":!1,size:"tiny",options:e(B)},null,8,["value","options"]),o(N,{justify:"center",align:"center"},{default:s(()=>[o(F,{value:e(T).isLightTheme,"onUpdate:value":t[3]||(t[3]=i=>e(T).isLightTheme=i),size:"small"},{"checked-icon":s(()=>[o(l,{color:"orange"},{default:s(()=>[o(r,{icon:"carbon:sun"})]),_:1})]),"unchecked-icon":s(()=>[o(l,{color:"dimgray"},{default:s(()=>[o(r,{icon:"carbon:moon"})]),_:1})]),checked:s(()=>[...t[4]||(t[4]=[n("div",{class:"w-4"},null,-1)])]),unchecked:s(()=>[...t[5]||(t[5]=[n("div",{class:"w-4"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1},8,["justify"])])],64)}}});export{Pe as _};
