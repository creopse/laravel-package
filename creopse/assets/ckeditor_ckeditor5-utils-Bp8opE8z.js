import{q as nt,i as it,a as Et,d as Ot,c as F,p as Wt,e as Kt}from"./es-toolkit-RjqxEpf9.js";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let _;try{_={window,document}}catch{/* istanbul ignore next -- @preserve */_={window:{},document:{}}}function $t(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const T=$t(),C={isMac:Tt(T),isWindows:Ht(T),isGecko:Ut(T),isSafari:Gt(T),isiOS:qt(T),isAndroid:Yt(T),isBlink:Xt(T),get isMediaForcedColors(){return Jt()}};function Tt(e){return e.indexOf("macintosh")>-1}function Ht(e){return e.indexOf("windows")>-1}function Ut(e){return!!e.match(/gecko\/\d+/)}function Gt(e){return e.indexOf(" applewebkit/")>-1&&e.indexOf("chrome")===-1}function qt(e){return!!e.match(/iphone|ipad/i)||Tt(e)&&navigator.maxTouchPoints>0}function Yt(e){return e.indexOf("android")>-1}function Xt(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function Jt(){return _.window.matchMedia?_.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Qt(e,t,n,i){n=n||function(a,c){return a===c};const s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Array.isArray(t)?t:Array.prototype.slice.call(t),r=Zt(s,o,n);return i?te(r,o.length):zt(o,r)}function Zt(e,t,n){const i=st(e,t,n);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=ot(e,i),o=ot(t,i),r=st(s,o,n),l=e.length-r,a=t.length-r;return{firstIndex:i,lastIndexOld:l,lastIndexNew:a}}function st(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++)if(e[i]===void 0||t[i]===void 0||!n(e[i],t[i]))return i;return-1}function ot(e,t){return e.slice(t).reverse()}function zt(e,t){const n=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:o}=t;return o-i>0&&n.push({index:i,type:"insert",values:e.slice(i,o)}),s-i>0&&n.push({index:i+(o-i),type:"delete",howMany:s-i}),n}function te(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:s}=e;if(n===-1)return Array(t).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),s-n>0&&(o=o.concat(Array(s-n).fill("insert"))),i-n>0&&(o=o.concat(Array(i-n).fill("delete"))),s<t&&(o=o.concat(Array(t-s).fill("equal"))),o}function xt(e,t,n){n=n||function(p,k){return p===k};const i=e.length,s=t.length;if(i>200||s>200||i+s>300)return xt.fastDiff(e,t,n,!0);let o,r;if(s<i){const p=e;e=t,t=p,o="delete",r="insert"}else o="insert",r="delete";const l=e.length,a=t.length,c=a-l,f={},u={};function w(p){const k=(u[p-1]!==void 0?u[p-1]:-1)+1,D=u[p+1]!==void 0?u[p+1]:-1,et=k>D?-1:1;f[p+et]&&(f[p]=f[p+et].slice(0)),f[p]||(f[p]=[]),f[p].push(k>D?o:r);let M=Math.max(k,D),j=M-p;for(;j<l&&M<a&&n(e[j],t[M]);)j++,M++,f[p].push("equal");return M}let L=0,y;do{for(y=-L;y<c;y++)u[y]=w(y);for(y=c+L;y>c;y--)u[y]=w(y);u[c]=w(c),L++}while(u[c]!==a);return f[c].slice(1)}xt.fastDiff=Qt;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rt(){return function e(){e.called=!0}}class H{source;name;path;stop;off;return;constructor(t,n){this.source=t,this.name=n,this.path=[],this.stop=rt(),this.off=rt()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const b=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));function X(){const[e,t,n,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+b[e>>0&255]+b[e>>8&255]+b[e>>16&255]+b[e>>24&255]+b[t>>0&255]+b[t>>8&255]+b[t>>16&255]+b[t>>24&255]+b[n>>0&255]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]+b[i>>0&255]+b[i>>8&255]+b[i>>16&255]+b[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const U={get(e="normal"){return typeof e!="number"?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ee(e,t){const n=U.get(t.priority);let i=0,s=e.length;for(;i<s;){const o=i+s>>1;U.get(e[o].priority)<n?s=o:i=o+1}e.splice(i,0,t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ne="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class d extends Error{context;data;constructor(t,n,i,s){super(ie(t,i,s)),this.name="CKEditorError",this.context=n,this.data=i,s&&(this.stack=s.stack)}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,n){throw t.is&&t.is("CKEditorError")?t:new d("unexpected-error",n,void 0,t)}}function on(e,t){console.warn(...At(e,t))}function rn(e,t){console.error(...At(e,t))}function It(e){return`
Read more: ${ne}#error-${e}`}function ie(e,t,n){const i=new WeakSet,o=t?` ${JSON.stringify(t,(a,c)=>{if(typeof c=="object"&&c!==null){if(i.has(c))return`[object ${c.constructor.name}]`;i.add(c)}return c})}`:"",r=It(e),l=n?`
Original error: ${n.name}: ${n.message}`:"";return e+o+r+l}function At(e,t){const n=It(e);return t?[e,t,n]:[e,n]}const se="46.1.1",ln=new Date(2025,8,15);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new d("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=se;const A=Symbol("listeningTo"),G=Symbol("emitterId"),E=Symbol("delegations"),oe=I(Object);function I(e){if(!e)return oe;class t extends e{on(i,s,o){this.listenTo(this,i,s,o)}once(i,s,o){let r=!1;const l=(a,...c)=>{r||(r=!0,a.off(),s.call(this,a,...c))};this.listenTo(this,i,l,o)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,o,r={}){let l,a;this[A]||(this[A]={});const c=this[A];O(i)||Ct(i);const f=O(i);(l=c[f])||(l=c[f]={emitter:i,callbacks:{}}),(a=l.callbacks[s])||(a=l.callbacks[s]=[]),a.push(o),fe(this,i,s,o,r)}stopListening(i,s,o){const r=this[A];let l=i&&O(i);const a=r&&l?r[l]:void 0,c=a&&s?a.callbacks[s]:void 0;if(!(!r||i&&!a||s&&!c))if(o)W(this,i,s,o),c.indexOf(o)!==-1&&(c.length===1?delete a.callbacks[s]:W(this,i,s,o));else if(c){for(;o=c.pop();)W(this,i,s,o);delete a.callbacks[s]}else if(a){for(s in a.callbacks)this.stopListening(i,s);delete r[l]}else{for(l in r)this.stopListening(r[l].emitter);delete this[A]}}fire(i,...s){try{const o=i instanceof H?i:new H(this,i),r=o.name;let l=ae(this,r);if(o.path.push(this),l){l=l.slice();for(let c=0;c<l.length;c++){const f=l[c].callback;if(f.call(this,o,...s),o.off.called&&(delete o.off.called,this._removeEventListener(r,f)),o.stop.called)break}}const a=this[E];if(a){const c=a.get(r),f=a.get("*");c&&lt(c,o,s),f&&lt(f,o,s)}return o.return}catch(o){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(o,this)}}delegate(...i){return{to:(s,o)=>{this[E]||(this[E]=new Map),i.forEach(r=>{const l=this[E].get(r);l?l.set(s,o):this[E].set(r,new Map([[s,o]]))})}}}stopDelegating(i,s){if(this[E])if(!i)this[E].clear();else if(!s)this[E].delete(i);else{const o=this[E].get(i);o&&o.delete(s)}}_addEventListener(i,s,o){ce(this,i);const r=q(this,i),l=U.get(o.priority),a={callback:s,priority:l};for(const c of r)ee(c,a)}_removeEventListener(i,s){const o=q(this,i);for(const r of o)for(let l=0;l<r.length;l++)r[l].callback==s&&(r.splice(l,1),l--)}}return t}function re(e,t){const n=e[A];return n&&n[t]?n[t].emitter:null}function Ct(e,t){e[G]||(e[G]=t||X())}function O(e){return e[G]}function Lt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function le(){return{callbacks:[],childEvents:[]}}function ce(e,t){const n=Lt(e);if(n[t])return;let i=t,s=null;const o=[];for(;i!==""&&!n[i];)n[i]=le(),o.push(n[i]),s&&n[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const r of o)r.callbacks=n[i].callbacks.slice();n[i].childEvents.push(s)}}function q(e,t){const n=Lt(e)[t];if(!n)return[];let i=[n.callbacks];for(let s=0;s<n.childEvents.length;s++){const o=q(e,n.childEvents[s]);i=i.concat(o)}return i}function ae(e,t){if(!e._events)return null;let n=t;do{const i=e._events[n];if(i&&i.callbacks&&i.callbacks.length)return i.callbacks;const s=n.lastIndexOf(":");n=s>-1?n.substring(0,s):""}while(n);return null}function lt(e,t,n){for(let[i,s]of e){s?typeof s=="function"&&(s=s(t.name)):s=t.name;const o=new H(t.source,s);o.path=[...t.path],i.fire(o,...n)}}function fe(e,t,n,i,s){t._addEventListener?t._addEventListener(n,i,s):e._addEventListener.call(t,n,i,s)}function W(e,t,n,i){t._removeEventListener?t._removeEventListener(n,i):e._removeEventListener.call(t,n,i)}const S=Symbol("observableProperties"),R=Symbol("boundObservables"),V=Symbol("boundProperties"),x=Symbol("decoratedMethods"),ct=Symbol("decoratedOriginal"),ue=kt(I());function kt(e){if(!e)return ue;class t extends e{set(i,s){if(Ot(i)){Object.keys(i).forEach(r=>{this.set(r,i[r])},this);return}K(this);const o=this[S];if(i in this&&!o.has(i))throw new d("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return o.get(i)},set(r){const l=o.get(i);let a=this.fire(`set:${i}`,i,r,l);a===void 0&&(a=r),(l!==a||!o.has(i))&&(o.set(i,a),this.fire(`change:${i}`,i,a,l))}}),this[i]=s}bind(...i){if(!i.length||!at(i))throw new d("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new d("observable-bind-duplicate-properties",this);K(this);const s=this[V];i.forEach(r=>{if(s.has(r))throw new d("observable-bind-rebind",this)});const o=new Map;return i.forEach(r=>{const l={property:r,to:[]};s.set(r,l),o.set(r,l)}),{to:de,toMany:he,_observable:this,_bindProperties:i,_to:[],_bindings:o}}unbind(...i){if(!this[S])return;const s=this[V],o=this[R];if(i.length){if(!at(i))throw new d("observable-unbind-wrong-properties",this);i.forEach(r=>{const l=s.get(r);l&&(l.to.forEach(([a,c])=>{const f=o.get(a),u=f[c];u.delete(l),u.size||delete f[c],Object.keys(f).length||(o.delete(a),this.stopListening(a,"change"))}),s.delete(r))})}else o.forEach((r,l)=>{this.stopListening(l,"change")}),o.clear(),s.clear()}decorate(i){K(this);const s=this[i];if(!s)throw new d("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(o,r)=>{o.return=s.apply(this,r)}),this[i]=function(...o){return this.fire(i,o)},this[i][ct]=s,this[x]||(this[x]=[]),this[x].push(i)}stopListening(i,s,o){if(!i&&this[x]){for(const r of this[x])this[r]=this[r][ct];delete this[x]}super.stopListening(i,s,o)}[S];[x];[V];[R]}return t}function K(e){e[S]||(Object.defineProperty(e,S,{value:new Map}),Object.defineProperty(e,R,{value:new Map}),Object.defineProperty(e,V,{value:new Map}))}function de(...e){const t=ge(...e),n=Array.from(this._bindings.keys()),i=n.length;if(!t.callback&&t.to.length>1)throw new d("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new d("observable-bind-to-extra-callback",this);t.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new d("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),_e(this._observable,this._to),be(this),this._bindProperties.forEach(s=>{Mt(this._observable,s)})}function he(e,t,n){if(this._bindings.size>1)throw new d("observable-bind-to-many-not-one-binding",this);this.to(...pe(e,t),n)}function pe(e,t){const n=e.map(i=>[i,t]);return Array.prototype.concat.apply([],n)}function at(e){return e.every(t=>typeof t=="string")}function ge(...e){if(!e.length)throw new d("observable-bind-to-parse-error",null);const t={to:[]};let n;return typeof e[e.length-1]=="function"&&(t.callback=e.pop()),e.forEach(i=>{if(typeof i=="string")n.properties.push(i);else if(typeof i=="object")n={observable:i,properties:[]},t.to.push(n);else throw new d("observable-bind-to-parse-error",null)}),t}function me(e,t,n,i){const s=e[R],o=s.get(n),r=o||{};r[i]||(r[i]=new Set),r[i].add(t),o||s.set(n,r)}function be(e){let t;e._bindings.forEach((n,i)=>{e._to.forEach(s=>{t=s.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([s.observable,t]),me(e._observable,n,s.observable,t)})})}function Mt(e,t){const i=e[V].get(t);let s;i.callback?s=i.callback.apply(e,i.to.map(o=>o[0][o[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=s:e.set(t,s)}function _e(e,t){t.forEach(n=>{const i=e[R];let s;i.get(n.observable)||e.listenTo(n.observable,"change",(o,r)=>{s=i.get(n.observable)[r],s&&s.forEach(l=>{Mt(e,l.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class cn{_replacedElements;constructor(){this._replacedElements=[]}replace(t,n){this._replacedElements.push({element:t,newElement:n}),t.style.display="none",n&&t.parentNode.insertBefore(n,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:n})=>{t.style.display="",n&&n.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function an(e){let t=0;for(const n of e)t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fn(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function J(e){return!!(e&&e[Symbol.iterator])}function un(e,t,n={},i=[]){const s=n&&n.xmlns,o=s?e.createElementNS(s,t):e.createElement(t);for(const r in n)o.setAttribute(r,n[r]);(nt(i)||!J(i))&&(i=[i]);for(let r of i)nt(r)&&(r=e.createTextNode(r)),o.appendChild(r);return o}class dn{_config;constructor(t,n){this._config=Object.create(null),n&&this.define(ft(n)),t&&this._setObjectToTarget(this._config,t)}set(t,n){this._setToTarget(this._config,t,n)}define(t,n){this._setToTarget(this._config,t,n,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,n,i,s=!1){if(F(n)){this._setObjectToTarget(t,n,s);return}const o=n.split(".");n=o.pop();for(const r of o)F(t[r])||(t[r]=Object.create(null)),t=t[r];if(F(i)){F(t[n])||(t[n]=Object.create(null)),t=t[n],this._setObjectToTarget(t,i,s);return}s&&typeof t[n]<"u"||(t[n]=i)}_getFromSource(t,n){const i=n.split(".");n=i.pop();for(const s of i){if(!F(t[s])){t=null;break}t=t[s]}return t?ft(t[n]):void 0}_setObjectToTarget(t,n,i){Object.keys(n).forEach(s=>{this._setToTarget(t,s,n[s],i)})}}function ft(e){return Wt(e,we)}function we(e){return Et(e)||typeof e=="function"?e:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ut(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function N(e){const t=Object.prototype.toString.apply(e);return t=="[object Window]"||t=="[object global]"}const ye=Q(I());function Q(e){if(!e)return ye;class t extends e{listenTo(i,s,o,r={}){if(ut(i)||N(i)||i instanceof _.window.EventTarget){const l={capture:!!r.useCapture,passive:!!r.usePassive},a=this._getProxyEmitter(i,l)||new Ee(i,l);this.listenTo(a,s,o,r)}else super.listenTo(i,s,o,r)}stopListening(i,s,o){if(ut(i)||N(i)||i instanceof _.window.EventTarget){const r=this._getAllProxyEmitters(i);for(const l of r)this.stopListening(l,s,o)}else super.stopListening(i,s,o)}_getProxyEmitter(i,s){return re(this,Ft(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return t}class Ee extends I(){_domNode;_options;constructor(t,n){super(),Ct(this,Ft(t,n)),this._domNode=t,this._options=n}_domListeners;attach(t){if(this._domListeners&&this._domListeners[t])return;const n=this._createDomListener(t);this._domNode.addEventListener(t,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=n}detach(t){let n;this._domListeners[t]&&(!(n=this._events[t])||!n.callbacks.length)&&this._domListeners[t].removeListener()}_addEventListener(t,n,i){this.attach(t),I().prototype._addEventListener.call(this,t,n,i)}_removeEventListener(t,n){I().prototype._removeEventListener.call(this,t,n),this.detach(t)}_createDomListener(t){const n=i=>{this.fire(t,i)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,this._options),delete this._domListeners[t]},n}}function Te(e){return e["data-ck-expando"]||(e["data-ck-expando"]=X())}function Ft(e,t){let n=Te(e);for(const i of Object.keys(t).sort())t[i]&&(n+="-"+i);return n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hn(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pn(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function St(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gn(e){if(!e.target)return null;const t=e.target.ownerDocument,n=e.clientX,i=e.clientY;let s=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,i)?s=t.caretRangeFromPoint(n,i):e.rangeParent&&(s=t.createRange(),s.setStart(e.rangeParent,e.rangeOffset),s.collapse(!0)),s}function Vt(e){return!e||!e.parentNode||e.offsetParent===_.document.body?null:e.offsetParent}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z(e){return Object.prototype.toString.call(e)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function z(e){return Object.prototype.toString.apply(e)=="[object Range]"}const Rt=["top","right","bottom","left","width","height"];class m{top;right;bottom;left;width;height;_source;constructor(t){const n=z(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Y(t)||n)if(n){const i=m.getDomRangeRects(t);v(this,m.getBoundingRect(i))}else v(this,t.getBoundingClientRect());else if(N(t)){const{innerWidth:i,innerHeight:s}=t;v(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else v(this,t)}clone(){return new m(this)}moveTo(t,n){return this.top=n,this.right=t+this.width,this.bottom=n+this.height,this.left=t,this}moveBy(t,n){return this.top+=n,this.right+=t,this.left+=t,this.bottom+=n,this}getIntersection(t){const n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0)return null;{const i=new m(n);return i._source=this._source,i}}getIntersectionArea(t){const n=this.getIntersection(t);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let n=this.clone();if(dt(t))return n;let i=t,s=t.parentNode||t.commonAncestorContainer,o;for(;s&&!dt(s);){const r=xe(s)==="visible";i instanceof HTMLElement&&ht(i)==="absolute"&&(o=i);const l=ht(s);if(r||o&&(l==="relative"&&r||l!=="relative")){i=s,s=s.parentNode;continue}const a=new m(s),c=n.getIntersection(a);if(c)c.getArea()<n.getArea()&&(n=c);else return null;i=s,s=s.parentNode}return n}isEqual(t){for(const n of Rt)if(this[n]!==t[n])return!1;return!0}contains(t){const n=this.getIntersection(t);return!!(n&&n.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:n}=_.window,i=this.clone().moveBy(t,n);if(Y(i._source)){const s=Vt(i._source);s&&Ie(i,s)}return i}excludeScrollbarsAndBorders(){const t=this._source;let n,i,s;if(N(t))n=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,s=t.getComputedStyle(t.document.documentElement).direction;else{const o=St(t);n=t.offsetWidth-t.clientWidth-o.left-o.right,i=t.offsetHeight-t.clientHeight-o.top-o.bottom,s=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,s==="ltr"?this.right-=n:this.left+=n,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const n=[],i=Array.from(t.getClientRects());if(i.length)for(const s of i)n.push(new m(s));else{let s=t.startContainer;Z(s)&&(s=s.parentNode);const o=new m(s.getBoundingClientRect());o.right=o.left,o.width=0,n.push(o)}return n}static getBoundingRect(t){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of t)i++,n.left=Math.min(n.left,s.left),n.top=Math.min(n.top,s.top),n.right=Math.max(n.right,s.right),n.bottom=Math.max(n.bottom,s.bottom);return i==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new m(n))}}function v(e,t){for(const n of Rt)e[n]=t[n]}function dt(e){return Y(e)?e===e.ownerDocument.body:!1}function Y(e){return e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.getBoundingClientRect=="function"}function ht(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}function xe(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).overflow:"visible"}function Ie(e,t){const n=new m(t),i=St(t);let s=0,o=0;s-=n.left,o-=n.top,s+=t.scrollLeft,o+=t.scrollTop,s-=i.left,o-=i.top,e.moveBy(s,o)}class h{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(t,n){h._observerInstance||h._createObserver(),this._element=t,this._callback=n,h._addElementCallback(t,n),h._observerInstance.observe(t)}get element(){return this._element}destroy(){h._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,n){h._elementCallbacks||(h._elementCallbacks=new Map);let i=h._elementCallbacks.get(t);i||(i=new Set,h._elementCallbacks.set(t,i)),i.add(n)}static _deleteElementCallback(t,n){const i=h._getElementCallbacks(t);i&&(i.delete(n),i.size||(h._elementCallbacks.delete(t),h._observerInstance.unobserve(t))),h._elementCallbacks&&!h._elementCallbacks.size&&(h._observerInstance=null,h._elementCallbacks=null)}static _getElementCallbacks(t){return h._elementCallbacks?h._elementCallbacks.get(t):null}static _createObserver(){h._observerInstance=new _.window.ResizeObserver(t=>{for(const n of t){const i=h._getElementCallbacks(n.target);if(i)for(const s of i)s(n)}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mn(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bn(e){return t=>t+e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _n(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wn(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yn(e){return e&&e.nodeType===Node.COMMENT_NODE}function En(e){try{_.document.createAttribute(e)}catch{return!1}return!0}function Ae(e){return e?Z(e)?Ae(e.parentElement):e.getClientRects?!!e.getClientRects().length:!1:!1}function Tn({element:e,target:t,positions:n,limiter:i,fitInViewport:s,viewportOffsetConfig:o}){it(t)&&(t=t()),it(i)&&(i=i());const r=Vt(e),l=Ce(o),a=new m(e),c=pt(t,l);let f;if(!c||!l.getIntersection(c))return null;const u={targetRect:c,elementRect:a,positionedElementAncestor:r,viewportRect:l};if(!i&&!s)f=new vt(n[0],u);else{if(i){const w=pt(i,l);w&&(u.limiterRect=w)}f=Le(n,u)}return f}function pt(e,t){const n=new m(e).getVisible();return n?n.getIntersection(t):null}function Ce(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new m(_.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}function Le(e,t){const{elementRect:n}=t,i=n.getArea(),s=e.map(l=>new vt(l,t)).filter(l=>!!l.name);let o=0,r=null;for(const l of s){const{limiterIntersectionArea:a,viewportIntersectionArea:c}=l;if(a===i)return l;const f=c**2+a**2;f>o&&(o=f,r=l)}return r}class vt{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(t,n){const i=t(n.targetRect,n.elementRect,n.viewportRect,n.limiterRect);if(!i)return;const{left:s,top:o,name:r,config:l}=i;this.name=r,this.config=l,this._positioningFunctionCoordinates={left:s,top:o},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xn(e){const t=e.parentNode;t&&t.removeChild(e)}function In(){const e=_.window.visualViewport;if(!e||!(C.isiOS||C.isSafari))return{left:0,top:0};const t=Math.max(Math.round(e.offsetLeft),0),n=Math.max(Math.round(e.offsetTop),0);return{left:t,top:n}}function An({target:e,viewportOffset:t=0,ancestorOffset:n=0,alignToTop:i,forceScroll:s}){const o=tt(e);let r=o,l=null;for(t=Fe(t);r;){let a;r==o?a=gt(e):a=gt(l),Me({parent:a,getRect:()=>$(e,r),alignToTop:i,ancestorOffset:n,forceScroll:s});let c=$(e,r);const f=$(a,r);if(c.height>f.height){const u=c.getIntersection(f);u&&(c=u)}if(ke({window:r,rect:c,viewportOffset:t,alignToTop:i,forceScroll:s}),r.parent!=r){if(l=r.frameElement,r=r.parent,!l)return}else r=null}}function ke({window:e,rect:t,alignToTop:n,forceScroll:i,viewportOffset:s}){const o=t.clone().moveBy(0,s.bottom),r=t.clone().moveBy(0,-s.top),l=new m(e).excludeScrollbarsAndBorders(),a=[r,o],c=n&&i,f=a.every(p=>l.contains(p));let{scrollX:u,scrollY:w}=e;const L=u,y=w;c?w-=l.top-t.top+s.top:f||(Nt(r,l)?w-=l.top-t.top+s.top:Pt(o,l)&&(n?w+=t.top-l.top-s.top:w+=t.bottom-l.bottom+s.bottom)),f||(Bt(t,l)?u-=l.left-t.left+s.left:Dt(t,l)&&(u+=t.right-l.right+s.right)),(u!=L||w!==y)&&e.scrollTo(u,w)}function Me({parent:e,getRect:t,alignToTop:n,forceScroll:i,ancestorOffset:s=0,limiterElement:o}){const r=tt(e),l=n&&i;let a,c,f;const u=o||r.document.body;for(;e!=u;)c=t(),a=new m(e).excludeScrollbarsAndBorders(),f=a.contains(c),l?e.scrollTop-=a.top-c.top+s:f||(Nt(c,a)?e.scrollTop-=a.top-c.top+s:Pt(c,a)&&(n?e.scrollTop+=c.top-a.top-s:e.scrollTop+=c.bottom-a.bottom+s)),f||(Bt(c,a)?e.scrollLeft-=a.left-c.left+s:Dt(c,a)&&(e.scrollLeft+=c.right-a.right+s)),e=e.parentNode}function Pt(e,t){return e.bottom>t.bottom}function Nt(e,t){return e.top<t.top}function Bt(e,t){return e.left<t.left}function Dt(e,t){return e.right>t.right}function tt(e){return z(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function gt(e){if(z(e)){let t=e.commonAncestorContainer;return Z(t)&&(t=t.parentNode),t}else return e.parentNode}function $(e,t){const n=tt(e),i=new m(e);if(n===t)return i;{let s=n;for(;s!=t;){const o=s.frameElement,r=new m(o).excludeScrollbarsAndBorders();i.moveBy(r.left,r.top),s=s.parent}}return i}function Fe(e){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:e}const Se={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Ve={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},mt={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},g=Ne(),Re=Object.fromEntries(Object.entries(g).map(([e,t])=>{let n;return t in mt?n=mt[t]:n=e.charAt(0).toUpperCase()+e.slice(1),[t,n]}));function B(e){let t;if(typeof e=="string"){if(t=g[e.toLowerCase()],!t)throw new d("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?g.alt:0)+(e.ctrlKey?g.ctrl:0)+(e.shiftKey?g.shift:0)+(e.metaKey?g.cmd:0);return t}function jt(e){return typeof e=="string"&&(e=Be(e)),e.map(t=>typeof t=="string"?Pe(t):t).reduce((t,n)=>n+t,0)}function Cn(e,t){let n=jt(e);const i=C.isMac||C.isiOS;return Object.entries(i?Se:Ve).reduce((r,[l,a])=>((n&g[l])!=0&&(n&=~g[l],r+=a),r),"")+(n?Re[n]:"")}function Ln(e){return e==g.arrowright||e==g.arrowleft||e==g.arrowup||e==g.arrowdown}function ve(e,t){const n=t==="ltr";switch(e){case g.arrowleft:return n?"left":"right";case g.arrowright:return n?"right":"left";case g.arrowup:return"up";case g.arrowdown:return"down"}}function Pe(e){if(e.endsWith("!"))return B(e.slice(0,-1));const t=B(e);return(C.isMac||C.isiOS)&&t==g.ctrl?g.cmd:t}function kn(e,t){const n=ve(e,t);return n==="down"||n==="right"}function Ne(){const e={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const n=String.fromCharCode(t);e[n.toLowerCase()]=t}for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}function Be(e){return e.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const De=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function bt(e){return De.includes(e)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function je(e){return Array.isArray(e)?e:[e]}/* istanbul ignore else -- @preserve */_.window.CKEDITOR_TRANSLATIONS||(_.window.CKEDITOR_TRANSLATIONS={});function Oe(e,t,n=1,i){if(typeof n!="number")throw new d("translation-service-quantity-not-a-number",null,{quantity:n});const s=i||_.window.CKEDITOR_TRANSLATIONS,o=$e(s);o===1&&(e=Object.keys(s)[0]);const r=t.id||t.string;if(o===0||!Ke(e,r,s))return n!==1?t.plural:t.string;const l=s[e].dictionary,a=s[e].getPluralForm||(u=>u===1?0:1),c=l[r];if(typeof c=="string")return c;const f=Number(a(n));return c[f]}function We(e){return Array.isArray(e)?e.reduce((t,n)=>Kt(t,n)):e}function Ke(e,t,n){return!!n[e]&&!!n[e].dictionary[t]}function $e(e){return Object.keys(e).length}class Mn{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:t="en",contentLanguage:n,translations:i}={}){this.uiLanguage=t,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=bt(this.uiLanguage),this.contentLanguageDirection=bt(this.contentLanguage),this.translations=We(i),this.t=(s,o)=>this._t(s,o)}_t(t,n=[]){n=je(n),typeof t=="string"&&(t={string:t});const s=!!t.plural?n[0]:1,o=Oe(this.uiLanguage,t,s,this.translations);return He(o,n)}}function He(e,t){return e.replace(/%(\d+)/g,(n,i)=>i<t.length?t[i]:n)}class Fn extends I(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(t={},n={}){super();const i=J(t);if(i||(n=t),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const s of t)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,n){return this.addMany([t],n)}addMany(t,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new d("collection-add-item-invalid-index",this);let i=0;for(const s of t){const o=this._getItemIdBeforeAdding(s),r=n+i;this._items.splice(r,0,s),this._itemMap.set(o,s),this.fire("add",s,r),i++}return this.fire("change",{added:t,removed:[],index:n}),this}get(t){let n;if(typeof t=="string")n=this._itemMap.get(t);else if(typeof t=="number")n=this._items[t];else throw new d("collection-get-invalid-arg",this);return n||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const n=this._idProperty,i=t[n];return i&&this._itemMap.has(i)}}getIndex(t){let n;return typeof t=="string"?n=this._itemMap.get(t):n=t,n?this._items.indexOf(n):-1}remove(t){const[n,i]=this._remove(t);return this.fire("change",{added:[],removed:[n],index:i}),n}map(t,n){return this._items.map(t,n)}forEach(t,n){this._items.forEach(t,n)}find(t,n){return this._items.find(t,n)}filter(t,n){return this._items.filter(t,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new d("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:n=>{this._setUpBindToBinding(i=>new n(i))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(i=>i[n])}}}_setUpBindToBinding(t){const n=this._bindToCollection,i=(s,o,r)=>{const l=n._bindToCollection==this,a=n._bindToInternalToExternalMap.get(o);if(l&&a)this._bindToExternalToInternalMap.set(o,a),this._bindToInternalToExternalMap.set(a,o);else{const c=t(o);if(!c){this._skippedIndexesFromExternal.push(r);return}let f=r;for(const u of this._skippedIndexesFromExternal)r>u&&f--;for(const u of n._skippedIndexesFromExternal)f>=u&&f++;this._bindToExternalToInternalMap.set(o,c),this._bindToInternalToExternalMap.set(c,o),this.add(c,f);for(let u=0;u<n._skippedIndexesFromExternal.length;u++)f<=n._skippedIndexesFromExternal[u]&&n._skippedIndexesFromExternal[u]++}};for(const s of n)i(null,s,n.getIndex(s));this.listenTo(n,"add",i),this.listenTo(n,"remove",(s,o,r)=>{const l=this._bindToExternalToInternalMap.get(o);l&&this.remove(l),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((a,c)=>(r<c&&a.push(c-1),r>c&&a.push(c),a),[])})}_getItemIdBeforeAdding(t){const n=this._idProperty;let i;if(n in t){if(i=t[n],typeof i!="string")throw new d("collection-add-invalid-id",this);if(this.get(i))throw new d("collection-add-item-already-exists",this)}else t[n]=i=X();return i}_remove(t){let n,i,s,o=!1;const r=this._idProperty;if(typeof t=="string"?(i=t,s=this._itemMap.get(i),o=!s,s&&(n=this._items.indexOf(s))):typeof t=="number"?(n=t,s=this._items[n],o=!s,s&&(i=s[r])):(s=t,i=s[r],n=this._items.indexOf(s),o=n==-1||!this._itemMap.get(i)),o)throw new d("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(i);const l=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(l),this.fire("remove",s,n),[s,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Sn(e){const t=e.next();return t.done?null:t.value}class Ue extends Q(kt()){_elements=new Set;_externalViews=new Set;_blurTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(t){if(wt(t))this._addElement(t);else if(_t(t))this._addView(t);else{if(!t.element)throw new d("focustracker-add-view-missing-element",{focusTracker:this,view:t});this._addElement(t.element)}}remove(t){wt(t)?this._removeElement(t):_t(t)?this._removeView(t):this._removeElement(t.element)}_addElement(t){if(this._elements.has(t))throw new d("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>{const n=this.externalViews.find(i=>Ge(t,i));n?this._focus(n.element):this._focus(t)},{useCapture:!0}),this.listenTo(t,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(t)}_removeElement(t){this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t)),t===this.focusedElement&&this._blur()}_addView(t){t.element&&this._addElement(t.element),this.listenTo(t.focusTracker,"change:focusedElement",()=>{t.focusTracker.focusedElement?t.element&&this._focus(t.element):this._blur()}),this._externalViews.add(t)}_removeView(t){t.element&&this._removeElement(t.element),this.stopListening(t.focusTracker),this._externalViews.delete(t)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(t){this._clearBlurTimeout(),this.focusedElement=t,this.isFocused=!0}_blur(){this.elements.find(i=>i.contains(document.activeElement))||this.externalViews.find(i=>i.focusTracker.isFocused&&!i.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function _t(e){return"focusTracker"in e&&e.focusTracker instanceof Ue}function wt(e){return Et(e)}function Ge(e,t){return yt(e,t)?!0:!!t.focusTracker.externalViews.find(n=>yt(e,n))}function yt(e,t){return!!t.element&&t.element.contains(document.activeElement)&&e.contains(t.element)}class Vn{_listener;constructor(){this._listener=new(Q())}listenTo(t){this._listener.listenTo(t,"keydown",(n,i)=>{this._listener.fire("_keydown:"+B(i),i)})}set(t,n,i={}){const s=jt(t),o=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(r,l)=>{i.filter&&!i.filter(l)||(n(l,()=>{l.preventDefault(),l.stopPropagation(),r.stop()}),r.return=!0)},{priority:o})}press(t){return!!this._listener.fire("_keydown:"+B(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qe(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}function Rn(e){return J(e)?new Map(e):qe(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vn(e,t,n){const i=e.length,s=t.length;for(let o=i-1;o>=n;o--)e[o+s]=e[o];for(let o=0;o<s;o++)e[n+o]=t[o]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Pn(e,t){let n;function i(...s){i.cancel(),n=setTimeout(()=>e(...s),t)}return i.cancel=()=>{clearTimeout(n)},i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Nn(e){try{if(!e.startsWith("ey"))return null;const t=atob(e.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ye(){const e=[];for(let t=0;t<256;t++){let n=t;for(let i=0;i<8;i++)n&1?n=3988292384^n>>>1:n=n>>>1;e[t]=n}return e}function Bn(e){const t=Array.isArray(e)?e:[e],n=Ye();let i=-1;const s=t.map(o=>Array.isArray(o)?o.join(""):String(o)).join("");for(let o=0;o<s.length;o++){const r=s.charCodeAt(o);i=i>>>8^n[(i^r)&255]}return i=(i^-1)>>>0,i.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dn(e){const t=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],n=t.map(r=>r.name).join("|"),i=e.replace(new RegExp(`</?(${n})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let s=0,o=!1;return i.map(r=>(o=Qe(r,o),!r.length&&!o?"":Xe(r,t)?P(r,s++):Je(r,t)?P(r,--s):o==="middle"||o==="last"?P(r,0):P(r,s))).join("").trimEnd()}function Xe(e,t){return t.some(n=>!(n.isVoid||!new RegExp(`<${n.name}( .*?)?>`).test(e)))}function Je(e,t){return t.some(n=>new RegExp(`</${n.name}>`).test(e))}function P(e,t,n="    "){return`${n.repeat(Math.max(0,t))}${e}
`}function Qe(e,t){const n=/<pre( .*?)?>/.test(e),i=/<\/pre>/.test(e);return n&&i?!1:n?"first":i?"last":t==="first"||t==="middle"?"middle":!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ze(e){return!!e&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function ze(e){return!!e&&e.length==1&&/[\ud800-\udbff]/.test(e)}function tn(e){return!!e&&e.length==1&&/[\udc00-\udfff]/.test(e)}function jn(e,t){return ze(e.charAt(t-1))&&tn(e.charAt(t))}function On(e,t){return Ze(e.charAt(t))}const en=nn();function Wn(e,t){const n=String(e).matchAll(en);return Array.from(n).some(i=>i.index<t&&t<i.index+i[0].length)}function nn(){const e=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],t=/\p{Regional_Indicator}{2}/u.source,n="(?:"+e.map(s=>s.source).join("|")+")",i=`${t}|${n}(?:‍${n})*`;return new RegExp(i,"ug")}export{Ae as $,an as A,An as B,d as C,Q as D,H as E,jn as F,On as G,En as H,Z as I,_n as J,Vn as K,Mn as L,hn as M,yn as N,kt as O,xn as P,wn as Q,m as R,xt as S,Qt as T,g as U,Ln as V,U as W,Wn as X,ut as Y,B as Z,Ue as _,gn as a,jt as a0,ve as a1,Dn as a2,Cn as a3,Tn as a4,In as a5,z as a6,kn as a7,h as b,un as c,Pn as d,C as e,Sn as f,_ as g,Fn as h,ee as i,dn as j,je as k,on as l,Bn as m,rn as n,I as o,Nn as p,pn as q,ln as r,mn as s,bn as t,X as u,cn as v,fn as w,Rn as x,vn as y,J as z};
