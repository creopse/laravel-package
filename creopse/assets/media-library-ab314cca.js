import{I as R}from"./iconify_vue-6750bec6.js";import{g as A,d as z,v as B,c as H}from"./vue-advanced-cropper-7a0dcf27.js";import{_ as U}from"./fawmi_vue-google-maps-52673af8.js";import{u as E}from"./vue-i18n-84a05dd5.js";import{r as C,u as l}from"./vue_reactivity-852d8377.js";import{p as V,o as g,c as w,a as r,Y as n,aO as u,l as b,P as x,Q as P}from"./vue_runtime-core-4f5fb440.js";import{a as $,t as I}from"./vue_shared-7dcc3b7f.js";import{N as L,J as M,_ as S}from"./naive-ui-0caedd43.js";var p=(t=>(t[t.DOCUMENT=1]="DOCUMENT",t[t.IMAGE=2]="IMAGE",t[t.VIDEO=3]="VIDEO",t[t.AUDIO=4]="AUDIO",t[t.OTHER=5]="OTHER",t))(p||{});const W={class:"picker-container"},q={class:"picker-content"},G={key:0},Z={class:"cropper-container"},j={class:"vertical-buttons"},F={class:"preview-container"},J={key:1,class:"text-center"},Q={class:"picker-action"},Y={class:"dialog-footer"},K={name:"ImageEditor",inheritAttrs:!1},X=Object.assign(K,{props:{cropperAutoZoom:{type:Boolean,default:!0},cropperScalable:{type:Boolean,default:!1},cropperMovable:{type:Boolean,default:!1},cropperRatio:{type:Number,default:null},roundPreview:{type:Boolean,default:!1},previewWidth:{type:Number,default:null},previewHeight:{type:Number,default:120},src:{type:String,default:null}},emits:["croppedFileChange","save","cancel"],setup(t,{emit:d}){const{t:_}=E(),m=d,o=t,a=C(null),s=C({coordinates:null,image:null}),O=V(()=>o.previewWidth?o.previewWidth:s.value&&s.value.coordinates?s.value.coordinates.width/s.value.coordinates.height*o.previewHeight:o.previewHeight),T=({coordinates:i,image:e})=>{s.value={coordinates:i,image:e};const{canvas:c}=a.value.getResult();m("croppedFileChange",s.value,c.toDataURL())},h=(i,e)=>{a.value.customImageTransforms.rotate%180!==0?a.value.flip(!i,!e):a.value.flip(i,e)},y=i=>{a.value.rotate(i)},D=()=>{const{canvas:i}=a.value.getResult();m("save",s.value,i.toDataURL())};return(i,e)=>{const c=R,f=L,N=M,k=S;return g(),w("div",W,[r("div",q,[o.src?(g(),w("div",G,[r("div",Z,[n(l(B),{ref_key:"cropper",ref:a,class:"cropper",src:o.src,"auto-zoom":o.cropperAutoZoom,"stencil-props":{movable:o.cropperMovable,scalable:o.cropperScalable,aspectRatio:o.cropperRatio,previewClass:o.roundPreview?"circle-stencil-preview":""},"image-restriction":"stencil","background-class":"cropper-background","stencil-component":o.roundPreview?l(A):l(z),onChange:T},null,8,["src","auto-zoom","stencil-props","stencil-component"]),r("div",j,[r("div",{class:"square-button",title:"Flip Horizontal",onClick:e[0]||(e[0]=v=>h(!0,!1))},[n(f,{color:"white",size:20},{default:u(()=>[n(c,{icon:"fa-solid:arrows-alt-h"})]),_:1})]),r("div",{class:"square-button",title:"Flip Vertical",onClick:e[1]||(e[1]=v=>h(!1,!0))},[n(f,{color:"white",size:20},{default:u(()=>[n(c,{icon:"fa-solid:arrows-alt-v"})]),_:1})]),r("div",{class:"square-button",title:"Rotate Clockwise",onClick:e[2]||(e[2]=v=>y(90))},[n(f,{color:"white",size:20},{default:u(()=>[n(c,{icon:"fa-solid:redo-alt"})]),_:1})]),r("div",{class:"square-button",title:"Rotate Counter-Clockwise",onClick:e[3]||(e[3]=v=>y(-90))},[n(f,{color:"white",size:20},{default:u(()=>[n(c,{icon:"fa-solid:undo-alt"})]),_:1})])])]),e[6]||(e[6]=r("br",null,null,-1)),r("div",F,[n(l(H),{ref:"preview",class:$(["preview",{round:o.roundPreview}]),image:l(s).image,width:l(O),height:o.previewHeight,coordinates:l(s).coordinates},null,8,["image","width","height","class","coordinates"])])])):(g(),w("div",J,[n(N,{title:l(_)("noSrcFileWarning"),type:"warning","show-icon":""},null,8,["title"])])),r("div",Q,[r("span",Y,[n(k,{onClick:e[4]||(e[4]=v=>m("cancel"))},{default:u(()=>[b(I(l(_)("close")),1)]),_:1}),e[7]||(e[7]=b("    ")),o.src?(g(),x(k,{key:0,type:"primary",onClick:e[5]||(e[5]=v=>D())},{default:u(()=>[b(I(l(_)("save")),1)]),_:1})):P("",!0)])])])])}}}),ie=U(X,[["__scopeId","data-v-edf91585"]]),ce=()=>{const{t}=E(),d=[{label:t("image"),value:p.IMAGE,tagType:"default"},{label:t("video"),value:p.VIDEO,tagType:"info"},{label:t("audio"),value:p.AUDIO,tagType:"success"},{label:t("document"),value:p.DOCUMENT,tagType:"warning"},{label:t("other"),value:p.OTHER,tagType:"error"}];return{getMediaFileTypeTagType:o=>{var a;return((a=d.find(s=>s.value===o))==null?void 0:a.tagType)||"default"},getMediaFileTypeLabel:o=>{var a;return(a=d.find(s=>s.value===o))==null?void 0:a.label},mediaFileTypes:d}};export{p as M,ie as _,ce as u};
