import{i as M}from"./css-render_vue3-ssr-Vbotx5Ir.js";import{u as J,_ as K,R as k,e as Q,a as ae,c as se,i as ue}from"./index-B2LlKIv2.js";import{_ as re}from"./NaiveMobileTableAdapter.vue_vue_type_script_setup_true_lang-DRZao2ZZ.js";import{A as ie}from"./auth-type-BjVd43MF.js";import{I as $}from"./iconify_vue-BwapRRpV.js";import{u as Z}from"./vue-router-B7M2c80d.js";import{S as ee,G as ce,R as _e,A as te,T as pe,U as de,N as ne,V as me,c as fe,b as ge,g as j,B as be,O as ve,I as Ne,W as Se,X as ke,Y as we,P as xe,_ as Ae}from"./naive-ui-CrTIpLJ9.js";import{u as oe}from"./vue-i18n-CWrb4u3f.js";const{defineComponent:Ce}=await M("vue"),{unref:o,resolveComponent:Ee,createVNode:e,withCtx:t,createElementVNode:Ve,openBlock:z,createBlock:he,createCommentVNode:Te,createElementBlock:ye}=await M("vue"),{ref:E,computed:$e}=await M("vue"),Me=Ce({__name:"DataCount",setup(le){const{t:u}=oe(),{request:v}=Q(),{appPrimaryColor:P,appSecondaryColor:U,isSmScreen:Y}=J(),N=Z(),T=E(0),B=E(0),G=E(0),R=E(0),H=E(0),y=E(0),D=E([]);(async()=>{const m=await v({url:"/count/administrators"});m.success&&m.result&&(T.value=m.result.data);const l=await v({url:"/count/others"});l.success&&l.result&&(B.value=l.result.data);const a=await v({url:"/count/news-articles"});a.success&&a.result&&(G.value=a.result.data);const c=await v({url:"/count/news-categories"});c.success&&c.result&&(R.value=c.result.data);const p=await v({url:"/count/news-comments"});p.success&&p.result&&(H.value=p.result.data);const d=await v({url:"/count/news-tags"});d.success&&d.result&&(y.value=d.result.data);const _=await v({url:"/visits"});_.success&&_.result&&(D.value=_.result.data)})();const q=$e(()=>{const m={};return D.value.forEach(l=>{l.locationData?.iso&&(m[l.locationData.iso]?m[l.locationData.iso]++:m[l.locationData.iso]=1)}),m});return(m,l)=>{const a=$,c=ne,p=de,d=pe,_=te,S=_e,w=ce,x=ee,I=K,O=me,F=Ee("MapChart");return z(),ye("section",null,[e(I,{name:"slide-fade",appear:""},{default:t(()=>[e(x,{title:o(u)("players")},{default:t(()=>[e(w,{cols:"1 s:1 m:2 l:2 xl:2 2xl:2",responsive:"screen","x-gap":12,"y-gap":24},{default:t(()=>[e(S,null,{default:t(()=>[e(_,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[0]||(l[0]=C=>o(N).push(o(k).USERS_MANAGEMENT.PATH))},{default:t(()=>[e(d,{label:o(u)("administrators")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:user-admin"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(T)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(_,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[1]||(l[1]=C=>o(N).push(o(k).USERS_MANAGEMENT.PATH))},{default:t(()=>[e(d,{label:o(u)("others")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:user"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(B)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])]),_:1}),l[6]||(l[6]=Ve("br",null,null,-1)),e(I,{name:"slide-fade",appear:""},{default:t(()=>[e(x,{title:o(u)("news")},{default:t(()=>[e(w,{cols:"1 s:2 m:2 l:4 xl:4 2xl:4",responsive:"screen","x-gap":12,"y-gap":24},{default:t(()=>[e(S,null,{default:t(()=>[e(_,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[2]||(l[2]=C=>o(N).push(o(k).NEWS_MANAGEMENT.PATH+"/articles"))},{default:t(()=>[e(d,{label:o(u)("articles")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:document"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(G)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(_,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[3]||(l[3]=C=>o(N).push(o(k).NEWS_MANAGEMENT.PATH+"/categories"))},{default:t(()=>[e(d,{label:o(u)("categories")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:categories"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(R)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(_,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[4]||(l[4]=C=>o(N).push(o(k).NEWS_MANAGEMENT.PATH+"/tags"))},{default:t(()=>[e(d,{label:o(u)("tags")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:tag"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(y)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(_,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[5]||(l[5]=C=>o(N).push(o(k).NEWS_MANAGEMENT.PATH+"/comments"))},{default:t(()=>[e(d,{label:o(u)("comments")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:chat"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(H)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])]),_:1}),e(O),e(_,null,{default:t(()=>[e(I,{name:"slide-fade",appear:""},{default:t(()=>[e(x,{title:o(u)("websiteVisits")},{default:t(()=>[e(w,{cols:"1 s:4 m:4 l:4 xl:4 2xl:4",responsive:"screen","x-gap":12,"y-gap":12},{default:t(()=>[e(S,null,{default:t(()=>[e(_,{class:"w-full",hoverable:"",embedded:""},{default:t(()=>[e(d,{label:o(u)("visitsTotalNumber")},{prefix:t(()=>[e(c,null,{default:t(()=>[e(a,{icon:"carbon:chart-line"})]),_:1})]),default:t(()=>[e(p,{from:0,to:o(D).length},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),o(Y)?Te("",!0):(z(),he(F,{key:0,data:o(q),"base-color":o(P),"legend-text-color":"white","legend-bg-color":o(U),"display-legend-when-empty":!1,height:800,"format-value-with-si-prefix":""},null,8,["data","base-color","legend-bg-color"]))]),_:1},8,["title"])]),_:1})]),_:1})])}}}),{defineComponent:Be}=await M("vue"),{unref:n,toDisplayString:A,createTextVNode:V,resolveComponent:Le,withCtx:s,createVNode:i,openBlock:f,createBlock:g,createCommentVNode:b,createElementVNode:h,Fragment:L,createElementBlock:X,createSlots:He}=await M("vue"),{defineComponent:De,ref:Ie,computed:Pe,h:W}=await M("vue"),Ge=De({name:k.DASHBOARD.NAME}),Xe=Be({...Ge,setup(le){const{t:u}=oe(),{request:v}=Q(),{tr:P,fileUrl:U,icon:Y,isSmScreen:N}=J(),{userHasSuperAdminRole:T}=ae(),B=Z(),G=fe(),R=ge(),H=se(),y=Ie(!1),D=async()=>{y.value=!0;const l=await v({url:"/auth/send-verification-email"});l.failure&&l.error?R.error(u("failedToSend")):G.success({title:u("success"),content:u("verificationLinkSent"),positiveText:u("ok")}),y.value=!1},r=ue(),q=Pe(()=>!!(r.getSettingValue("name")&&r.getSettingValue("address")&&(r.getSettingValue("phone")||r.getSettingValue("email")))),m=W(j,null,{default:()=>[W(be,{onClick:()=>B.push(k.CONTENT_MANAGEMENT.PATH)},{icon:()=>W(ne,null,{default:()=>[W($,{icon:"carbon:edit"})]}),default:()=>u("edit")})]});return(l,a)=>{const c=Ne,p=ve,d=Ae,_=ke,S=Se,w=xe,x=we,I=ee,O=te,F=re,C=K;return f(),X(L,null,[n(H).userData?.emailVerifiedAt===null&&n(H).userData?.authType!=n(ie).PHONE?(f(),g(p,{key:0,show:n(y)},{default:s(()=>[i(c,{title:n(u)("verifyYourEmail"),type:"warning",class:"cursor-pointer mb-2",onClick:D},{default:s(()=>[V(A(n(u)("weHaveSentYouVerificationEmail")),1)]),_:1},8,["title"])]),_:1},8,["show"])):b("",!0),i(C,{name:"slide-fade",appear:""},{default:s(()=>[n(q)?(f(),g(O,{key:0,embedded:"",size:"small",class:"mb-2"},{default:s(()=>[i(F,null,{default:s(()=>[i(O,{hoverable:""},{default:s(()=>[i(I,null,He({title:s(()=>[h("h3",null,A(n(r).getSettingValue("name")),1)]),avatar:s(()=>[i(d,{"object-fit":"contain",class:"p-1",src:n(r).getSettingValue("icon")?n(U)(n(r).getSettingValue("icon")):n(Y)},null,8,["src"])]),footer:s(()=>[i(n(j),null,{default:s(()=>[n(r).getSettingValue("phone")?(f(),g(x,{key:0,prefix:"bar"},{default:s(()=>[i(w,{depth:"3",class:"flex items-center text-sm"},{default:s(()=>[i(n($),{icon:"carbon:phone"}),a[1]||(a[1]=V("   ")),h("span",null,A(n(r).getSettingValue("phone")),1)]),_:1})]),_:1})):b("",!0),n(r).getSettingValue("email")?(f(),g(x,{key:1,prefix:"bar"},{default:s(()=>[i(w,{depth:"3",class:"flex items-center text-sm"},{default:s(()=>[i(n($),{icon:"carbon:email"}),a[2]||(a[2]=V("   ")),h("span",null,A(n(r).getSettingValue("email")),1)]),_:1})]),_:1})):b("",!0),n(r).getSettingValue("address")?(f(),g(x,{key:2,prefix:"bar"},{default:s(()=>[i(w,{depth:"3",class:"flex items-center text-sm"},{default:s(()=>[i(n($),{icon:"carbon:location"}),a[3]||(a[3]=V("   ")),h("span",null,A(n(r).getSettingValue("address")),1)]),_:1})]),_:1})):b("",!0),n(r).getSettingValue("postalCode")?(f(),g(x,{key:3,prefix:"bar"},{default:s(()=>[i(w,{depth:"3",class:"flex items-center text-sm"},{default:s(()=>[i(n($),{icon:"carbon:text-short-paragraph"}),a[4]||(a[4]=V("   ")),h("span",null,A(n(r).getSettingValue("postalCode")),1)]),_:1})]),_:1})):b("",!0)]),_:1})]),default:s(()=>[n(N)?(f(),X(L,{key:0},[n(T)()?(f(),g(n(m),{key:0})):b("",!0)],64)):b("",!0),n(P)(n(r).getSettingValue("description"))?(f(),g(S,{key:1,depth:"2"},{default:s(()=>[i(_,{"line-clamp":"2",tooltip:!1},{default:s(()=>[V(A(n(P)(n(r).getSettingValue("description"))),1)]),_:1})]),_:1})):b("",!0)]),_:2},[n(N)?void 0:{name:"extra",fn:s(()=>[n(T)()?(f(),g(n(m),{key:0})):b("",!0)]),key:"0"}]),1024)]),_:1})]),_:1})]),_:1})):n(T)()?(f(),g(c,{key:1,id:"missingInfoAlert",title:n(u)("missingInfo"),type:"warning",class:"cursor-pointer mb-2",onClick:a[0]||(a[0]=Re=>n(B).push(n(k).CONTENT_MANAGEMENT.PATH))},{default:s(()=>[V(A(n(u)("provideYourMarketInfo")),1)]),_:1},8,["title"])):b("",!0)]),_:1}),a[5]||(a[5]=h("br",null,null,-1)),i(Me),a[6]||(a[6]=h("br",null,null,-1))],64)}}});export{Xe as default};
