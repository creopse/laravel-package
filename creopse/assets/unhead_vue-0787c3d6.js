import{c as m,g as v}from"./unhead-a4367481.js";import{d as h}from"./unhead_shared-56c99682.js";import{u as g,g as c,i as p,q as H,w as y,e as w,k as b,j,B as I}from"./vue_runtime-core-273b5003.js";import{u as f,r as u}from"./vue_reactivity-852d8377.js";function U(e){return typeof e=="function"?e():f(e)}function a(e,n=""){if(e instanceof Promise)return e;const t=U(e);return!e||!t?t:Array.isArray(t)?t.map(r=>a(r,n)):typeof t=="object"?Object.fromEntries(Object.entries(t).map(([r,s])=>r==="titleTemplate"||r.startsWith("on")?[r,f(s)]:[r,a(s,r)])):t}const P=I.startsWith("3"),A=typeof window<"u",l="usehead";function i(){return c()&&p(l)||v()}function B(e){return{install(t){P&&(t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(l,e))}}.install}function q(e={}){const n=m({...e,domDelayFn:t=>setTimeout(()=>g(()=>t()),10),plugins:[O(),...(e==null?void 0:e.plugins)||[]]});return n.install=B(n),n}function O(){return h({hooks:{"entries:resolve":function(e){for(const n of e.entries)n.resolvedInput=a(n.input)}}})}function T(e,n={}){const t=i(),r=u(!1),s=u({});H(()=>{s.value=r.value?{}:a(e)});const o=t.push(s.value,n);return y(s,d=>{o.patch(d)}),c()&&(w(()=>{o.dispose()}),b(()=>{r.value=!0}),j(()=>{r.value=!1})),o}function $(e,n={}){return i().push(e,n)}function C(e,n={}){var r;const t=i();if(t){const s=A||!!((r=t.resolvedOptions)!=null&&r.document);return n.mode==="server"&&s||n.mode==="client"&&!s?void 0:s?T(e,n):$(e,n)}}export{q as c,C as u};
