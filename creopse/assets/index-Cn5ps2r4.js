import{i as l}from"./ckeditor_ckeditor5-vue-D9YIFk5Z.js";import{_ as d}from"./validator-DwVK3abb.js";import{_ as I}from"./AuthLayout.vue_vue_type_script_setup_true_lang-B3cX_48p.js";import{I as V}from"./iconify_vue-DK9FHL8l.js";import{c as L,d as B,m as T,R as i}from"./index-BictNpzW.js";import{a as D}from"./vue-router-JM7pifDK.js";import{z as q,A as H,C as O,B as z,q as M}from"./naive-ui-U3LV0D3Q.js";import{u as U}from"./vue-i18n-DGGON2e6.js";const{unref:$}=await l("vue"),{defineComponent:G}=await l("vue"),{unref:e,resolveComponent:le,createVNode:r,withCtx:s,toDisplayString:f,createTextVNode:p,createElementVNode:b,openBlock:W,createBlock:j}=await l("vue"),F={class:"flex items-center my-4 before:flex-1 before:border-t before:border-gray-300 before:mt-0.5 after:flex-1 after:border-t after:border-gray-300 after:mt-0.5"},J={class:"w-full text-center font-semibold mx-4 mb-0"},{defineComponent:K,ref:v,watch:Q}=await l("vue"),X=K({name:i.RESET_PASSWORD.NAME}),ie=G({...X,setup(Y){const{t:o}=U(),m=D(),g=L(),{getSettingValue:w}=B(),{mutate:k,isPending:y}=T(),u=v(null),n=v({email:""}),E={email:[{required:!0,message:o("fillRequired")},{trigger:["input"],validator(a,t){return t&&!d.isEmail(t)?new Error(o("invalidEmail")):!0}}]},S=a=>{a.preventDefault(),u.value?.validate(async t=>{t||k({email:n.value.email},{onSuccess:()=>{n.value={email:""}}})})},h=w("disableInstaller","boolean");return Q(()=>g.isUserConnected,a=>{a&&m.replace(i.HOME.PATH)},{immediate:!0}),(a,t)=>{const C=O,x=H,R=V,N=M,_=z,P=q,A=I;return W(),j(A,{title:e(o)("forgotPassword"),subtitle:e(o)("enterEmailToReceiveResetLink"),"display-server-alerts":!e(h)},{default:s(()=>[r(P,{ref_key:"formRef",ref:u,model:e(n),rules:E,"show-label":!1,"show-require-mark":!1,size:"medium"},{default:s(()=>[r(x,{label:e(o)("addressEmail"),path:"email"},{default:s(()=>[r(C,{value:e(n).email,"onUpdate:value":t[0]||(t[0]=c=>e(n).email=c),placeholder:e(o)("addressEmail"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),r(_,{type:"primary",block:"",secondary:"",disabled:!e(n).email||!("_v"in a?a._v:$(d)).isEmail(e(n).email),loading:e(y),onClick:S},{icon:s(()=>[r(N,null,{default:s(()=>[r(R,{icon:"carbon:reset"})]),_:1})]),default:s(()=>[p(" "+f(e(o)("resetPassword")),1)]),_:1},8,["disabled","loading"]),b("div",F,[b("p",J,[r(_,{text:"",onClick:t[1]||(t[1]=c=>e(m).push(e(i).LOGIN.PATH))},{default:s(()=>[p(f(e(o)("toLogin")),1)]),_:1})])])]),_:1},8,["model"])]),_:1},8,["title","subtitle","display-server-alerts"])}}});export{ie as default};
