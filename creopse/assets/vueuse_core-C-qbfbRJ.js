import{n as S,i as B,t as R,u as z,a as x,b as P,c as k,d as H,e as C}from"./vueuse_shared-gkwGhORl.js";import"./vue-demi-C3SzS1mq.js";import{c as A,w as I,aJ as F,aa as V,O as q}from"./vue_runtime-core-CZBc7Bfo.js";import{r as y}from"./vue_reactivity-B2cUHA-s.js";function h(n){var e;const c=x(n);return(e=c?.$el)!=null?e:c}const b=P?window:void 0,T=P?window.navigator:void 0;function g(...n){let e,c,i,a;if(typeof n[0]=="string"||Array.isArray(n[0])?([c,i,a]=n,e=b):[e,c,i,a]=n,!e)return S;Array.isArray(c)||(c=[c]),Array.isArray(i)||(i=[i]);const u=[],r=()=>{u.forEach(f=>f()),u.length=0},s=(f,o,t,l)=>(f.addEventListener(o,t,l),()=>f.removeEventListener(o,t,l)),d=I(()=>[h(e),x(a)],([f,o])=>{if(r(),!f)return;const t=H(o)?{...o}:o;u.push(...c.flatMap(l=>i.map(p=>s(f,l,p,t))))},{immediate:!0,flush:"post"}),m=()=>{d(),r()};return C(m),m}let M=!1;function D(n,e,c={}){const{window:i=b,ignore:a=[],capture:u=!0,detectIframe:r=!1}=c;if(!i)return S;B&&!M&&(M=!0,Array.from(i.document.body.children).forEach(t=>t.addEventListener("click",S)),i.document.documentElement.addEventListener("click",S));let s=!0;const d=t=>a.some(l=>{if(typeof l=="string")return Array.from(i.document.querySelectorAll(l)).some(p=>p===t.target||t.composedPath().includes(p));{const p=h(l);return p&&(t.target===p||t.composedPath().includes(p))}}),f=[g(i,"click",t=>{const l=h(n);if(!(!l||l===t.target||t.composedPath().includes(l))){if(t.detail===0&&(s=!d(t)),!s){s=!0;return}e(t)}},{passive:!0,capture:u}),g(i,"pointerdown",t=>{const l=h(n);s=!d(t)&&!!(l&&!t.composedPath().includes(l))},{passive:!0}),r&&g(i,"blur",t=>{setTimeout(()=>{var l;const p=h(n);((l=i.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!p?.contains(i.document.activeElement)&&e(t)},0)})].filter(Boolean);return()=>f.forEach(t=>t())}function Q(){const n=y(!1),e=q();return e&&V(()=>{n.value=!0},e),n}function O(n){const e=Q();return A(()=>(e.value,!!n()))}function Y(n,e={}){const{window:c=b}=e,i=O(()=>c&&"matchMedia"in c&&typeof c.matchMedia=="function");let a;const u=y(!1),r=m=>{u.value=m.matches},s=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",r):a.removeListener(r))},d=F(()=>{i.value&&(s(),a=c.matchMedia(x(n)),"addEventListener"in a?a.addEventListener("change",r):a.addListener(r),u.value=a.matches)});return C(()=>{d(),s(),a=void 0}),u}function _(n,e={}){const{controls:c=!1,navigator:i=T}=e,a=O(()=>i&&"permissions"in i);let u;const r=typeof n=="string"?{name:n}:n,s=y(),d=()=>{u&&(s.value=u.state)},m=k(async()=>{if(a.value){if(!u)try{u=await i.permissions.query(r),g(u,"change",d),d()}catch{s.value="prompt"}return u}});return m(),c?{state:s,isSupported:a,query:m}:s}function K(n={}){const{navigator:e=T,read:c=!1,source:i,copiedDuring:a=1500,legacy:u=!1}=n,r=O(()=>e&&"clipboard"in e),s=_("clipboard-read"),d=_("clipboard-write"),m=A(()=>r.value||u),f=y(""),o=y(!1),t=z(()=>o.value=!1,a);function l(){r.value&&L(s.value)?e.clipboard.readText().then(v=>{f.value=v}):f.value=N()}m.value&&c&&g(["copy","cut"],l);async function p(v=x(i)){m.value&&v!=null&&(r.value&&L(d.value)?await e.clipboard.writeText(v):E(v),f.value=v,o.value=!0,t.start())}function E(v){const w=document.createElement("textarea");w.value=v??"",w.style.position="absolute",w.style.opacity="0",document.body.appendChild(w),w.select(),document.execCommand("copy"),w.remove()}function N(){var v,w,W;return(W=(w=(v=document?.getSelection)==null?void 0:v.call(document))==null?void 0:w.toString())!=null?W:""}function L(v){return v==="granted"||v==="prompt"}return{isSupported:m,text:f,copied:o,copy:p}}function $(n,e,c={}){const{window:i=b,...a}=c;let u;const r=O(()=>i&&"ResizeObserver"in i),s=()=>{u&&(u.disconnect(),u=void 0)},d=A(()=>Array.isArray(n)?n.map(o=>h(o)):[h(n)]),m=I(d,o=>{if(s(),r.value&&i){u=new ResizeObserver(e);for(const t of o)t&&u.observe(t,a)}},{immediate:!0,flush:"post"}),f=()=>{s(),m()};return C(f),{isSupported:r,stop:f}}function X(n,e={width:0,height:0},c={}){const{window:i=b,box:a="content-box"}=c,u=A(()=>{var o,t;return(t=(o=h(n))==null?void 0:o.namespaceURI)==null?void 0:t.includes("svg")}),r=y(e.width),s=y(e.height),{stop:d}=$(n,([o])=>{const t=a==="border-box"?o.borderBoxSize:a==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;if(i&&u.value){const l=h(n);if(l){const p=l.getBoundingClientRect();r.value=p.width,s.value=p.height}}else if(t){const l=Array.isArray(t)?t:[t];r.value=l.reduce((p,{inlineSize:E})=>p+E,0),s.value=l.reduce((p,{blockSize:E})=>p+E,0)}else r.value=o.contentRect.width,s.value=o.contentRect.height},c);R(()=>{const o=h(n);o&&(r.value="offsetWidth"in o?o.offsetWidth:e.width,s.value="offsetHeight"in o?o.offsetHeight:e.height)});const m=I(()=>h(n),o=>{r.value=o?e.width:0,s.value=o?e.height:0});function f(){d(),m()}return{width:r,height:s,stop:f}}function Z(n={}){const{window:e=b,initialWidth:c=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:u=!0}=n,r=y(c),s=y(i),d=()=>{e&&(u?(r.value=e.innerWidth,s.value=e.innerHeight):(r.value=e.document.documentElement.clientWidth,s.value=e.document.documentElement.clientHeight))};if(d(),R(d),g("resize",d,{passive:!0}),a){const m=Y("(orientation: portrait)");I(m,()=>d())}return{width:r,height:s}}export{X as a,K as b,Z as c,D as o,Y as u};
