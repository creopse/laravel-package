import{f as d}from"./ckeditor_ckeditor5-utils-df07b536.js";import{C as m,P as p}from"./ckeditor_ckeditor5-core-c8d003a2.js";import"./ckeditor_ckeditor5-engine-af85ebf5.js";import"./ckeditor_ckeditor5-ui-b7ac7aa2.js";import"./color-convert-eee2eef5.js";import"./vanilla-colorful-3f59310b.js";/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class h extends m{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,a=d(t.selection.getSelectedBlocks());this.value=!!a&&a.is("element","paragraph"),this.isEnabled=!!a&&l(a,e.schema)}execute(e={}){const t=this.editor.model,a=t.document,n=e.selection||a.selection;t.canEditAt(n)&&t.change(o=>{const r=n.getSelectedBlocks();for(const s of r)!s.is("element","paragraph")&&l(s,t.schema)&&o.rename(s,"paragraph")})}}function l(i,e){return e.checkChild(i.parent,"paragraph")&&!e.isObject(i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class u extends m{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,a=e.attributes;let n=e.position;t.canEditAt(n)&&t.change(o=>{const r=o.createElement("paragraph");if(a&&t.schema.setAllowedAttributes(r,a,o),!t.schema.checkChild(n.parent,r)){const s=t.schema.findAllowedParent(n,r);if(!s)return;n=o.split(n,s).position}t.insertContent(r,n),o.setSelection(r,"in")})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class c extends p{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new h(e)),e.commands.add("insertParagraph",new u(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(a,{writer:n})=>!c.paragraphLikeElements.has(a.name)||a.isEmpty?null:n.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}c.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);export{c as P};
