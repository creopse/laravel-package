import{u as ca,b as ma,a as fa,c as va,y as _a,P as Q,z as ga,R as ya,e as ba,A as Ne,r as fe,U as ve,x as Ue,_ as ka}from"./index-916f1e45.js";import{_ as ha}from"./UploadExcel-73dc99b2.js";import{a as wa}from"./index.vue_vue_type_script_setup_true_lang-f1385049.js";import{_ as xa}from"./PageLayout.vue_vue_type_script_setup_true_lang-889f8007.js";import{_ as Ea}from"./NaiveMobileTableAdapter.vue_vue_type_script_setup_true_lang-1957772e.js";import{I as E}from"./iconify_vue-46af0b81.js";import{A as Sa}from"./auth-type-5b0d67f1.js";import{R as Pe}from"./response-error-code-87d1097e.js";import{u as Aa}from"./profile-type-8b80657b.js";import{a as $a}from"./pinia-a2cac08c.js";import{_ as _e}from"./lodash-a9971f22.js";import{_ as Da}from"./validator-c0254ba9.js";import{v as le}from"./uuid-cf522c50.js";import{d as Me,i as Ta,p as Re,w as za,e as Ia,o as x,c as Y,Y as s,aO as n,F as Be,h as p,l as R,Q as se,P as B,a as v}from"./vue_runtime-core-273b5003.js";import{a as Ca,b as Na,c as Ua,a4 as Pa,e as ne,Z as qe,E as oe,_ as D,N as S,a5 as Ra,ap as Ba,g as qa,L as La,a7 as Ma,a1 as ja,R as Oa,H as Fa,I as Va,F as Ha,j as Ka,ao as Wa,al as Ga,M as Ja,G as Qa,k as Ya,V as Za}from"./naive-ui-ab0dda7d.js";import{u as Xa}from"./vue-i18n-0da1582b.js";import{r as d,u as e,c as q}from"./vue_reactivity-852d8377.js";import{t as _,n as Le}from"./vue_shared-7dcc3b7f.js";import"./browser-image-compression-a3ab6596.js";import"./fawmi_vue-google-maps-439c501d.js";import"./vue_runtime-dom-5ad5ecb0.js";import"./googlemaps_markerclusterer-b718980f.js";import"./fast-deep-equal-1db9e660.js";import"./axios-96fb5abd.js";import"./process-93c0ea83.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./moment-ea709ccd.js";import"./slugify-ce681755.js";import"./vueuse_core-d5cd9503.js";import"./vueuse_shared-835eca33.js";import"./parse-domain-01b1033a.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./vue-router-c3388b6d.js";import"./unhead_vue-0787c3d6.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./ckeditor_ckeditor5-vue-df7eee76.js";import"./vue-2044cde0.js";import"./strip-json-comments-680ed425.js";import"./vue-draggable-next-417126f1.js";import"./pinia_colada-2d4f4a8d.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-a68ee547.js";import"./vue3-map-chart-668e2d48.js";import"./crypto-js-eb39eca1.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-d047f964.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-68d47bbf.js";import"./vooks-6944b357.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./lodash-es-a215867d.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-dc9a4891.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./vue-demi-71ba0ef2.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";import"./xlsx-83e6f69b.js";import"./media-library-9c1c0b4a.js";import"./vue-advanced-cropper-45f4d00f.js";var I=(O=>(O[O.DISABLED=0]="DISABLED",O[O.ENABLED=1]="ENABLED",O))(I||{});const et={key:0,class:"text-6xl"},at={class:"flex justify-center mb-5"},tt={key:0},lt={key:1},st={class:"flex items-center justify-between mb-5 mt-5"},nt={class:"flex justify-start mb-5"},ot={class:"flex items-center justify-center"},rt=Me({name:ya.USERS_MANAGEMENT.NAME}),Ul=Me({...rt,setup(O){const b=Ca(),f=Na(),G=Ua(),{pickByTheme:ge,fileUrl:je,displayFormErrors:Oe}=ca(),{profileTypes:re,getProfileTypeLabel:Fe}=Aa(),{defaultPrefs:ie}=ma(),{userIsAbleTo:Z}=fa(),{request:T}=ba(),{t,locale:ue}=Xa(),ye=va(),pe=_a(),{roles:Ve}=$a(pe),He=Ta("appConfig"),k=d(""),Ke=d(),X=d([]),de=d(!1),F=d(!1),be=d(0),V=d(ie.value),We=Re(()=>[{type:"selection",fixed:"left",disabled(l){return!!(()=>{var i,u,m;return l.id==((i=ye.userData)==null?void 0:i.id)||((m=(u=l.roles)==null?void 0:u.map(c=>c.name))==null?void 0:m.includes(ve.SUPER_ADMIN))})()}},{title:t("n_"),key:"no",width:50,fixed:"left"},{title:t("avatar"),key:"avatar",width:75,fixed:"left",render(l){return l.avatar?p(ne,{size:"medium",src:l.avatarUrl}):p(ne,{size:"medium",style:{width:"36px",height:"36px",display:"block"}},{default:()=>Ne(l.fullname)})}},{title:t("lastnameAndFirstname_s"),key:"name",resizable:!0,width:200,ellipsis:{tooltip:!0},fixed:"left",sortOrder:!1,sorter:"default",render(l){return p("div",{},{default:()=>l.fullname})}},{title:t("type"),key:"type",resizable:!0,width:125,render(l){return p("div",{},{default:()=>Fe(l.profileType)})},defaultFilterOptionValues:[],filterOptions:re,filter:(l,a)=>a.profileType==l},{title:t("roles"),key:"roles",resizable:!0,width:150,render(l){return p("div",{},{default:()=>{var i;return(i=l.roles)==null?void 0:i.map(u=>p(qe,{class:"mx-1 my-1",size:"small",type:"info",round:!1,strong:!0,bordered:!1},{default:()=>u.displayName}))}})},defaultFilterOptionValues:[],filterOptions:Ve.value.map(l=>({label:l.displayName,value:l.name})),filter:(l,a)=>{var i,u;return((u=(i=a.roles)==null?void 0:i.map(m=>m.name))==null?void 0:u.includes(String(l)))||!1}},{title:t("email"),key:"email",resizable:!0,width:200,ellipsis:{tooltip:!0}},{title:t("phoneNumber"),key:"phone",width:200,ellipsis:{tooltip:!0}},{title:t("status"),key:"accountStatus",width:125,render(l){return p(qe,{type:l.accountStatus==I.ENABLED?"success":l.accountStatus==I.DISABLED?"error":"warning",bordered:!1},{default:()=>l.accountStatus==I.ENABLED?t("activated"):l.accountStatus==I.DISABLED?t("deactivated"):t("undefined")})},sortOrder:!1,sorter:"default"},{title:t("lastLogin"),key:"lastLoggedInAt",width:125,render(l){return p("div",{},{default:()=>fe(l.lastLoggedInAt||"",{locale:ue.value})})}},{title:t("lastEdition"),key:"updatedAt",width:125,render(l){return p("div",{},{default:()=>fe(l.updatedAt,{locale:ue.value})})}},{title:t("creation"),key:"createdAt",width:125,render(l){return p("div",{},{default:()=>fe(l.createdAt,{locale:ue.value})})}},{title:()=>p(Ra,{},{default:()=>[p(oe,{ref:Ke,placeholder:t("search"),value:k.value,onInput:l=>{k.value=l,k.value||A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`)},clearable:!0}),p(D,{onClick:()=>{A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`)}},{default:()=>p(S,{},{default:()=>p(E,{icon:"carbon:search"})})})]}),key:"actions",width:200,render(l){const a=()=>{var u,m,c;return l.id!=((u=ye.userData)==null?void 0:u.id)&&!((c=(m=l.roles)==null?void 0:m.map($=>$.name))!=null&&c.includes(ve.SUPER_ADMIN))},i=[];return Z("edit-user")&&a()&&(i.push(p(D,{size:"small",type:"warning",onClick:()=>{we(l)},renderIcon:()=>p(S,null,{default:()=>p(E,{icon:"carbon:edit"})})},{default:()=>t("edit")})),i.push(p("div",{class:"w-2"})),i.push(p(D,{size:"small",type:"success",onClick:()=>{V.value=l.preferences||ie.value,be.value=l.id||0,F.value=!0},renderIcon:()=>p(S,null,{default:()=>p(E,{icon:"carbon:settings"})})}))),Z("delete-user")&&a()&&(i.push(p("div",{class:"w-2"})),i.push(p(D,{size:"small",type:"error",onClick:()=>{G.warning({title:t("confirm"),content:t("confirmDeleteUser"),positiveText:t("yes"),negativeText:t("no"),onPositiveClick:async()=>{b.start(),(await T({url:`/users/${l.id}`,method:"delete"})).success?f.success(t("success")):f.error(t("anErrorOccurred")),b.finish(),A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`)}})},renderIcon:()=>p(S,null,{default:()=>p(E,{icon:"carbon:trash-can"})})}))),p("div",{class:"flex justify-end items-center w-full"},i)},fixed:"right"}]),ke=d(0),g=d(6),h=d(1),Ge=l=>{A(`/users?pageSize=${g.value}&page=${l}&query=${k.value}`)},Je=l=>{g.value=l,A(`/users?pageSize=${g.value}&query=${k.value}`)},A=async(l=null,a=!1)=>{var u,m,c,$,j;de.value=!0,b.start();const i=await T({url:l||`/users?pageSize=${g.value}&query=${k.value}`});i.success&&i.result&&(ke.value=((m=(u=i.result.data)==null?void 0:u.meta)==null?void 0:m.total)||0,h.value=(($=(c=i.result.data)==null?void 0:c.meta)==null?void 0:$.currentPage)||1,X.value=(((j=i.result.data)==null?void 0:j.users)||[]).map((W,U)=>{const y=_e.cloneDeep(W);return y.no=U+1+(h.value-1)*g.value,y})),a&&pe.loadRoles(),b.finish(),de.value=!1};A(null,!0);const w=d(!1),C=d(!1),L=d(!1),z=d(null),he=d(null),o=d({avatar:"",lastname:"",firstname:"",email:"",profileType:Q.ADMIN,accountStatus:I.DISABLED,roles:[]}),Qe=Re(()=>({lastname:[{required:!0,message:t("fillRequired")}],firstname:[{required:!0,message:t("fillRequired")}],status:[{required:!0,message:t("fillRequired")}],profileType:[{required:!0,message:t("fillRequired")}],email:[{required:z.value?z.value.authType!=Sa.PHONE:!0,message:t("fillRequired")},{trigger:["input"],validator(l,a){return a&&!Da.isEmail(a)?new Error(t("invalidEmail")):!0}}]})),we=l=>{var a;z.value=_e.cloneDeep(l),o.value={avatar:l?l.avatar:"",lastname:l?l.lastname:"",firstname:l?l.firstname:"",email:l?l.email:"",profileType:l?l.profileType:Q.ADMIN,accountStatus:l?l.accountStatus:I.DISABLED,roles:l?((a=l.roles)==null?void 0:a.map(i=>i.name))??[]:[]},C.value=!0},Ye=async()=>{var l;return(l=he.value)==null||l.validate(async a=>{var i,u,m,c,$,j,W;if(!a){const U=ga(12);if(z.value)if(z.value.email!==o.value.email&&X.value.findIndex(y=>y.email==o.value.email)>-1)f.error(t("sameEmailMessage"));else{if(b.start(),w.value=!0,(await T({url:`/users/${z.value.id}`,method:"put",data:{password:U,avatar:o.value.avatar,lastname:o.value.lastname,firstname:o.value.firstname,email:o.value.email,roles:o.value.roles,accountStatus:o.value.accountStatus,sendCredentialsEmail:L.value}})).success){let P;switch(o.value.profileType){case Q.ADMIN:P={};break}await T({url:`/auth/profile/${(i=z.value.profile)==null?void 0:i.id}`,method:"put",data:{type:o.value.profileType,profileData:P}}),L.value?G.success({title:t("success"),content:t("userAccountPasswordReset",[o.value.email,U]),positiveText:t("ok")}):f.success(t("success"))}else f.error(t("anErrorOccurred"));w.value=!1,b.finish(),A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`),C.value=!1}else if(X.value.findIndex(y=>y.email==o.value.email)>-1)f.error(t("sameEmailMessage"));else{b.start(),w.value=!0;const y=await T({url:"/users",method:"post",data:{password:U,email:o.value.email,lastname:o.value.lastname,firstname:o.value.firstname,avatar:o.value.avatar,roles:o.value.roles,accountStatus:o.value.accountStatus,sendCredentialsEmail:L.value,preferences:ie.value}});if(y.failure&&y.error)switch((c=(m=(u=y.error)==null?void 0:u.response)==null?void 0:m.data)==null?void 0:c.errorCode){case Pe.AUTH_MISSING_DATA:f.error(t("missingData"));break;case Pe.FORM_INVALID_DATA:Oe((W=(j=($=y.error)==null?void 0:$.response)==null?void 0:j.data)==null?void 0:W.data);break;default:f.error(t("registrationNotSuccessful"))}else{let P;switch(o.value.profileType){case Q.ADMIN:P={};break}await T({url:"/auth/profile",method:"post",data:{type:o.value.profileType,id:y.result.data.id,profileData:P}}),G.success({title:t("success"),content:t("userAccountEmailContent",[o.value.email,U]),positiveText:t("ok")})}w.value=!1,b.finish(),A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`),C.value=!1}}}),!1},Ze=async()=>{b.start(),w.value=!0;const l=await T({url:`/users/${be.value}`,method:"put",data:{preferences:V.value}});l.success&&l.result?(A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`),f.success(t("success"))):f.error(t("anErrorOccurred")),w.value=!1,b.finish(),F.value=!1},Xe="avatars",H=d(!1),ea=async l=>{o.value.avatar=l,H.value=!1},aa=()=>{o.value.avatar=""},xe=d(le());za(()=>[C.value],()=>{setTimeout(()=>{xe.value=le()},500)});let M=null;const K=()=>{M&&(M.destroy(),M=null)};Ia(K);const Ee=(l,a)=>a.map(i=>l.map(u=>i[u])),ta=()=>{M=f.info(t("pleaseBePatient"),{duration:0,type:"loading"}),Ue(()=>import("./export2excel-e877f0af.js"),["assets/export2excel-e877f0af.js","assets/xlsx-83e6f69b.js","assets/crypto-js-eb39eca1.js","assets/axios-96fb5abd.js","assets/process-93c0ea83.js","assets/file-saver-e0cc2bf2.js"]).then(async l=>{var a=["no","firstname","lastname","email","createdAt","updatedAt"],i=[];const u=await T({url:"/users"});u.success&&u.result&&(i=_e.sortBy(u.result.data,"firstname").map((c,$)=>({no:$+1,firstname:c.firstname,lastname:c.lastname,email:c.email,createdAt:c.createdAt,updatedAt:c.updatedAt})));const m=Ee(a,i);try{l.export_json_to_excel({header:a,data:m,filename:`users_${Date.now().toString()}`,autoWidth:!0,bookType:"xlsx"}),K()}catch{K(),f.error(t("anErrorOccurred"))}})},la=()=>{M=f.info(t("pleaseBePatient"),{duration:0,type:"loading"}),Ue(()=>import("./export2excel-e877f0af.js"),["assets/export2excel-e877f0af.js","assets/xlsx-83e6f69b.js","assets/crypto-js-eb39eca1.js","assets/axios-96fb5abd.js","assets/process-93c0ea83.js","assets/file-saver-e0cc2bf2.js"]).then(l=>{var a=["firstname","lastname","email"];const i=Ee(a,[{firstname:"John",lastname:"Doe",email:"adresse@email.com"}]);try{l.export_json_to_excel({header:a,data:i,filename:"users_template",autoWidth:!0,bookType:"xlsx"}),K()}catch{K(),f.error(t("anErrorOccurred"))}})},J=d(!1),ee=d(!1),ae=d(Q.ADMIN),sa=async({results:l})=>{G.warning({title:t("confirm"),content:t("importUsersWarningMessage",[l.length]),positiveText:t("yes"),negativeText:t("cancel"),onPositiveClick:async()=>{w.value=!0,b.start(),M||(M=f.info(t("pleaseBePatient"),{duration:0,type:"loading"}));const a=await T({url:"/users/import",method:"post",data:{users:l.map(i=>({firstname:i.firstname,lastname:i.lastname,email:i.email})),profileType:ae.value,sendCredentialsEmail:ee.value}});await A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`),K(),a.success&&a.result&&f.success(t("success")),b.finish(),w.value=!1,J.value=!1}})},Se=d(le()),N=d([]),na=l=>l.id,oa=l=>{N.value=l},Ae=()=>{N.value=[],Se.value=le()},ra=async()=>(N.value.length?G.warning({title:t("confirm"),content:t("deleteSelectionWarningMessage",[N.value.length]),positiveText:t("yes"),negativeText:t("no"),onPositiveClick:async()=>{w.value=!0,b.start();for(let l=0;l<N.value.length;l++)(await T({url:`/users/${N.value[l]}`,method:"delete"})).success;A(`/users?pageSize=${g.value}&page=${h.value}&query=${k.value}`),b.finish(),w.value=!1,f.success(t("success")),Ae()}}):f.warning(t("noItemSelected")),!1);return(l,a)=>{var Ce;const i=Ba,u=qa,m=La,c=ka,$=Ma,j=Ea,W=ja,U=xa,y=wa,P=Oa,$e=Fa,De=Va,te=Ha,ce=Ka,Te=Wa,ia=Ga,ze=Ja,ua=Qa,me=Pa,Ie=Ya,pa=Za,da=ha;return x(),Y(Be,null,[s(U,null,{"header-extra":n(()=>[s(u,null,{default:n(()=>[s(i,{onPositiveClick:a[0]||(a[0]=r=>ta())},{trigger:n(()=>[s(e(D),{type:"success"},{icon:n(()=>[s(e(S),{size:"18"},{default:n(()=>[s(e(E),{icon:"carbon:upload"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("export")),1)]),_:1})]),default:n(()=>[R(" "+_(e(t)("exportDataInExcelFile")),1)]),_:1}),e(Z)("add-user")?(x(),Y(Be,{key:0},[s(e(D),{type:"info",onClick:a[1]||(a[1]=r=>J.value=!0)},{icon:n(()=>[s(e(S),{size:"18"},{default:n(()=>[s(e(E),{icon:"carbon:download"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("import")),1)]),_:1}),s(e(D),{type:"primary",onClick:a[2]||(a[2]=r=>we(null))},{icon:n(()=>[s(e(S),{size:"18"},{default:n(()=>[s(e(E),{icon:"carbon:add-alt"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("add")),1)]),_:1})],64)):se("",!0)]),_:1})]),default:n(()=>[s(c,{name:"slide-fade",appear:""},{default:n(()=>[e(N).length?(x(),B(m,{key:0,class:"my-2",size:"small",embedded:""},{default:n(()=>[s(u,{align:"center",justify:"space-between"},{default:n(()=>[v("span",null,_(e(t)("nbItemsSelected",[e(N).length])),1),s(u,{align:"center",justify:"space-between"},{default:n(()=>[e(Z)("delete-user")?(x(),B(e(D),{key:0,type:"error",size:"small",onClick:ra},{icon:n(()=>[s(e(S),null,{default:n(()=>[s(e(E),{icon:"carbon:trash-can"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("delete")),1)]),_:1})):se("",!0),s(e(D),{type:"warning",size:"small",onClick:Ae},{icon:n(()=>[s(e(S),null,{default:n(()=>[s(e(E),{icon:"mdi:close"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("cancelSelection")),1)]),_:1})]),_:1})]),_:1})]),_:1})):se("",!0)]),_:1}),s(j,null,{default:n(()=>[(x(),B($,{key:e(Se),"pagination-behavior-on-filter":"first",columns:e(We),data:e(X),loading:e(de),"single-line":!1,"scroll-x":2e3,"row-key":na,size:"small",striped:"","onUpdate:checkedRowKeys":oa},null,8,["columns","data","loading","row-key"]))]),_:1}),s(W,{page:e(h),"onUpdate:page":[a[3]||(a[3]=r=>q(h)?h.value=r:null),Ge],class:"mt-5 justify-end","show-size-picker":"","page-size":e(g),"page-sizes":[6,12,24,36,48,60],"page-count":Math.ceil(e(ke)/e(g)),"onUpdate:pageSize":Je},null,8,["page","page-size","page-count"])]),_:1}),s(y,{show:e(H),"onUpdate:show":a[4]||(a[4]=r=>q(H)?H.value=r:null),title:e(t)("selectImage"),"upload-config":{folder:Xe,limit:0,maxSize:0,baseUrl:((Ce=e(He))==null?void 0:Ce.apiUrl)+"/media-files/upload",excludedExtensions:[]},onSubmit:ea},null,8,["show","title","upload-config"]),s(me,{show:e(C),"onUpdate:show":a[16]||(a[16]=r=>q(C)?C.value=r:null),loading:e(w),preset:"dialog",style:{width:"700px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:e(z)?e(t)("edit"):e(t)("add"),"positive-text":e(t)("validate"),"negative-text":e(t)("cancel"),onPositiveClick:Ye,onNegativeClick:a[17]||(a[17]=r=>C.value=!1)},{default:n(()=>[s(De,{"x-gap":"12","y-gap":"12",span:24,"item-responsive":"",responsive:"screen"},{default:n(()=>[s(P,{span:"24 s:8 m:8 l:8 xl:8 2xl:8",class:"text-center"},{default:n(()=>[s(u,{align:"center",justify:"center",style:{height:"100%"}},{default:n(()=>[e(o).avatar?(x(),B(e(ne),{key:0,class:"cursor-pointer","object-fit":"contain",style:Le("border: 1px dashed "+e(ge)("green","white")),size:150,src:e(je)(e(o).avatar),onClick:a[5]||(a[5]=r=>H.value=!0)},null,8,["style","src"])):(x(),B(e(ne),{key:1,class:"cursor-pointer",style:Le("border: 1px dashed "+e(ge)("green","white")),size:150,onClick:a[6]||(a[6]=r=>H.value=!0)},{default:n(()=>[e(o).firstname&&e(o).lastname?(x(),Y("span",et,_(e(Ne)(`${e(o).firstname} ${e(o).lastname}`)),1)):(x(),B(e(S),{key:1,size:64},{default:n(()=>[s(e(E),{icon:"carbon:image",class:"text-gray-400"})]),_:1}))]),_:1},8,["style"])),e(o).avatar?(x(),B(e(D),{key:2,quaternary:"",onClick:a[7]||(a[7]=r=>aa())},{icon:n(()=>[s(e(S),null,{default:n(()=>[s(e(E),{icon:"carbon:trash-can"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("clear")),1)]),_:1})):se("",!0)]),_:1})]),_:1}),s(P,{span:"24 s:16 m:16 l:16 xl:16 2xl:16"},{default:n(()=>[s(ua,{ref_key:"formRef",ref:he,model:e(o),rules:e(Qe),"show-require-mark":!1,size:"medium"},{default:n(()=>[s(De,{"x-gap":"12",span:24},{default:n(()=>[s($e,{span:12,label:e(t)("lastname"),path:"lastname"},{default:n(()=>[s(e(oe),{value:e(o).lastname,"onUpdate:value":a[8]||(a[8]=r=>e(o).lastname=r),placeholder:e(t)("lastname"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),s($e,{span:12,label:e(t)("firstname_s"),path:"firstname"},{default:n(()=>[s(e(oe),{value:e(o).firstname,"onUpdate:value":a[9]||(a[9]=r=>e(o).firstname=r),placeholder:e(t)("firstname_s"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),s(te,{label:e(t)("addressEmail"),path:"email"},{default:n(()=>[s(e(oe),{value:e(o).email,"onUpdate:value":a[10]||(a[10]=r=>e(o).email=r),disabled:e(z)!=null,placeholder:e(t)("addressEmail"),class:"w-full"},null,8,["value","disabled","placeholder"])]),_:1},8,["label"]),s(te,{label:e(t)("type"),path:"type"},{default:n(()=>[s(ce,{value:e(o).profileType,"onUpdate:value":a[11]||(a[11]=r=>e(o).profileType=r),options:e(re),placeholder:e(t)("type"),placement:"bottom",filterable:"",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"]),s(te,{label:e(t)("roles"),path:"roles"},{default:n(()=>[s(ce,{value:e(o).roles,"onUpdate:value":a[12]||(a[12]=r=>e(o).roles=r),options:e(pe).roles.filter(r=>r.name!=e(ve).SUPER_ADMIN),placeholder:e(t)("roles"),placement:"bottom",filterable:"",multiple:"","value-field":"name","label-field":"displayName",class:"w-full"},null,8,["value","options","placeholder"])]),_:1},8,["label"]),s(te,{label:e(t)("status"),path:"accountStatus"},{default:n(()=>[(x(),B(ia,{key:e(xe),value:e(o).accountStatus,"onUpdate:value":[a[13]||(a[13]=r=>e(o).accountStatus=r),a[14]||(a[14]=r=>{r==e(I).DISABLED&&(L.value=!1)})],type:"segment"},{default:n(()=>[s(Te,{name:e(I).ENABLED,tab:e(t)("activated")},null,8,["name","tab"]),s(Te,{name:e(I).DISABLED,tab:e(t)("deactivated")},null,8,["name","tab"])]),_:1},8,["value"]))]),_:1},8,["label"]),s(c,null,{default:n(()=>[v("div",at,[s(ze,{checked:e(L),"onUpdate:checked":a[15]||(a[15]=r=>q(L)?L.value=r:null)},{default:n(()=>[e(z)?(x(),Y("span",tt,_(e(t)("resetAndSendCredentialsEmail")),1)):(x(),Y("span",lt,_(e(t)("sendCredentialsEmailToUser")),1))]),_:1},8,["checked"])])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1},8,["show","loading","title","positive-text","negative-text"]),s(me,{show:e(F),"onUpdate:show":a[20]||(a[20]=r=>q(F)?F.value=r:null),loading:e(w),preset:"dialog",style:{width:"500px"},bordered:!1,"show-icon":!1,"mask-closable":!1,title:e(t)("userSettings"),"positive-text":e(t)("validate"),"negative-text":e(t)("cancel"),onPositiveClick:Ze,onNegativeClick:a[21]||(a[21]=r=>F.value=!1)},{default:n(()=>[a[30]||(a[30]=v("div",{class:"h-4"},null,-1)),s(m,{class:"w-full",size:"small"},{default:n(()=>[s(u,{align:"center",justify:"space-between"},{default:n(()=>[v("span",null,_(e(t)("notificationsInApp")),1),s(Ie,{value:e(V).inAppNotifEnabled,"onUpdate:value":a[18]||(a[18]=r=>e(V).inAppNotifEnabled=r),"checked-value":1,"unchecked-value":0,size:"small"},{checked:n(()=>a[26]||(a[26]=[v("div",{class:"w-6"},null,-1)])),unchecked:n(()=>a[27]||(a[27]=[v("div",{class:"w-6"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1}),a[31]||(a[31]=v("div",{class:"h-2"},null,-1)),s(m,{class:"w-full",size:"small"},{default:n(()=>[s(u,{align:"center",justify:"space-between"},{default:n(()=>[v("span",null,_(e(t)("notificationsInEmail")),1),s(Ie,{value:e(V).emailNotifEnabled,"onUpdate:value":a[19]||(a[19]=r=>e(V).emailNotifEnabled=r),"checked-value":1,"unchecked-value":0,size:"small"},{checked:n(()=>a[28]||(a[28]=[v("div",{class:"w-6"},null,-1)])),unchecked:n(()=>a[29]||(a[29]=[v("div",{class:"w-6"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1}),a[32]||(a[32]=v("div",{class:"h-4"},null,-1))]),_:1},8,["show","loading","title","positive-text","negative-text"]),s(me,{show:e(J),"onUpdate:show":a[25]||(a[25]=r=>q(J)?J.value=r:null),loading:e(w),preset:"dialog",style:{width:"600px"},bordered:!1,"mask-closable":!1,title:e(t)("import")},{default:n(()=>[v("div",st,[v("span",null,_(e(t)("profileTypeToImport")),1),s(ce,{value:e(ae),"onUpdate:value":a[22]||(a[22]=r=>q(ae)?ae.value=r:null),options:e(re),placeholder:e(t)("type"),placement:"bottom",filterable:"",class:"!w-[250px]"},null,8,["value","options","placeholder"])]),s(c,null,{default:n(()=>[v("div",nt,[s(ze,{checked:e(ee),"onUpdate:checked":a[23]||(a[23]=r=>q(ee)?ee.value=r:null)},{default:n(()=>[v("span",null,_(e(t)("sendCredentialsEmailToUser")),1)]),_:1},8,["checked"])])]),_:1}),s(pa),s(da,{class:"my-5","on-success":sa}),v("div",ot,[s(e(D),{type:"info",size:"small",onClick:a[24]||(a[24]=r=>la())},{icon:n(()=>[s(e(S),null,{default:n(()=>[s(e(E),{icon:"carbon:download"})]),_:1})]),default:n(()=>[R(" "+_(e(t)("downloadDataTemplate")),1)]),_:1})])]),_:1},8,["show","loading","title"])],64)}}});export{Ul as default};
