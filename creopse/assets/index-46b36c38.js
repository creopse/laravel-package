import{_ as L}from"./PageLayout.vue_vue_type_script_setup_true_lang-1f1f845c.js";import{_ as U}from"./I18nInput-a1b69bb1.js";import{I as V}from"./iconify_vue-6750bec6.js";import{d as j,R as C,e as E}from"./index-fa85a2bf.js";import{_ as S}from"./lodash-a9971f22.js";import{d as R,p as $,o as q,P as M,aO as t,Y as e,l as v,a}from"./vue_runtime-core-4f5fb440.js";import{u as G}from"./vue-i18n-84a05dd5.js";import{a as O,b as Y,N as F,_ as H,g as J,k as K,L as Q,R as W,I as X}from"./naive-ui-1f55be4a.js";import{r as y,u as i}from"./vue_reactivity-852d8377.js";import{t as p}from"./vue_shared-7dcc3b7f.js";import"./vue-router-e670704e.js";import"./index.vue_vue_type_style_index_0_lang-6e11f285.js";import"./index.vue_vue_type_script_setup_true_lang-1761ec12.js";import"./vueuse_core-e3c6c607.js";import"./vueuse_shared-d1f69174.js";import"./media-library-58b3d02b.js";import"./vue-advanced-cropper-7a0dcf27.js";import"./vue_runtime-dom-c0cb2070.js";import"./fawmi_vue-google-maps-52673af8.js";import"./googlemaps_markerclusterer-b718980f.js";import"./fast-deep-equal-1db9e660.js";import"./axios-96fb5abd.js";import"./process-93c0ea83.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./uuid-cf522c50.js";import"./validator-c0254ba9.js";import"./ckeditor_ckeditor5-core-c8d003a2.js";import"./ckeditor_ckeditor5-utils-df07b536.js";import"./lodash-es-a215867d.js";import"./ckeditor_ckeditor5-engine-af85ebf5.js";import"./ckeditor_ckeditor5-ui-a35c6a55.js";import"./color-parse-d45f23f3.js";import"./color-name-1ab8b5f2.js";import"./color-convert-6fc98488.js";import"./vanilla-colorful-3f59310b.js";import"./ckeditor_ckeditor5-alignment-d6e8c5b6.js";import"./ckeditor_ckeditor5-autoformat-9f2dc9af.js";import"./ckeditor_ckeditor5-typing-70b03be4.js";import"./ckeditor_ckeditor5-basic-styles-a9505c26.js";import"./ckeditor_ckeditor5-block-quote-3d12180a.js";import"./ckeditor_ckeditor5-enter-27538ad0.js";import"./ckeditor_ckeditor5-build-classic-a5a6feb5.js";import"./ckeditor_ckeditor5-code-block-1effa76f.js";import"./ckeditor_ckeditor5-editor-classic-6eebe087.js";import"./ckeditor_ckeditor5-watchdog-33524ea7.js";import"./ckeditor_ckeditor5-essentials-4982141b.js";import"./ckeditor_ckeditor5-clipboard-74f1b43c.js";import"./ckeditor_ckeditor5-widget-4ebd81a8.js";import"./ckeditor_ckeditor5-select-all-edd15b80.js";import"./ckeditor_ckeditor5-undo-7d67f759.js";import"./ckeditor_ckeditor5-find-and-replace-d20c852b.js";import"./ckeditor_ckeditor5-font-603d26b5.js";import"./ckeditor_ckeditor5-heading-08abeb34.js";import"./ckeditor_ckeditor5-paragraph-7ec90230.js";import"./ckeditor_ckeditor5-horizontal-line-f0252081.js";import"./ckeditor_ckeditor5-image-fe0f4d65.js";import"./ckeditor_ckeditor5-upload-37383558.js";import"./ckeditor_ckeditor5-indent-d36b38bc.js";import"./ckeditor_ckeditor5-link-8d87809e.js";import"./ckeditor_ckeditor5-list-295bac13.js";import"./ckeditor_ckeditor5-media-embed-952338e9.js";import"./ckeditor_ckeditor5-remove-format-b8823d58.js";import"./ckeditor_ckeditor5-source-editing-ff327da5.js";import"./ckeditor_ckeditor5-special-characters-36dd01c3.js";import"./ckeditor_ckeditor5-table-79bdb612.js";import"./pinia-5dd13ed8.js";import"./vue-demi-71ba0ef2.js";import"./browser-image-compression-a3ab6596.js";import"./moment-ea709ccd.js";import"./slugify-ce681755.js";import"./parse-domain-47d8e5e9.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./unhead_vue-71da354f.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./ckeditor_ckeditor5-vue-13667b6e.js";import"./vue-83614a91.js";import"./strip-json-comments-680ed425.js";import"./vue-draggable-next-d31a77b2.js";import"./pinia_colada-25af8b56.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-40ca5c5d.js";import"./vue3-map-chart-612bd6db.js";import"./crypto-js-eb39eca1.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-b49649f7.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-b91bc731.js";import"./vooks-3c892a1c.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-dc9a4891.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";const Z={class:"w-[260px]"},tt=R({name:C.APP_SETTINGS.NAME}),ro=R({...tt,setup(et){const{t:n}=G(),{request:A}=E(),w=O(),b=Y(),_=j(),s=y(!1),l=y({disableInstaller:"",allowRegistration:"",adminProfileTypeLabel:"",displayAdminProfileType:""}),k=y(l.value),x=$(()=>S.isEqual(l.value,k.value)),h=async()=>{s.value=!0;const m=await A({url:"/app-settings",method:"put",data:l.value});m.success&&m.result?b.success(n("success")):b.error(n("unableToUpdateSettings")),await f()},z=async()=>{s.value=!0,await _.initDefaultSettings(),await f(),s.value=!1},f=async()=>{var m;w.start(),s.value=!0,await _.loadSettings(),(m=_.settings)==null||m.forEach(o=>{l.value[o.key]!=null&&(l.value[o.key]=o.value)}),k.value=S.cloneDeep(l.value),s.value=!1,w.finish()};return f(),(m,o)=>{const I=V,P=F,T=H,u=J,g=K,d=Q,c=W,N=U,B=X,D=L;return q(),M(D,null,{"header-extra":t(()=>[e(u,null,{default:t(()=>[e(T,{loading:i(s),onClick:z},{icon:t(()=>[e(P,null,{default:t(()=>[e(I,{icon:"carbon:reset"})]),_:1})]),default:t(()=>[v(" "+p(i(n)("restoreDefaultSettings")),1)]),_:1},8,["loading"]),e(T,{loading:i(s),disabled:i(x),type:"primary",onClick:h},{icon:t(()=>[e(P,null,{default:t(()=>[e(I,{icon:"carbon:save"})]),_:1})]),default:t(()=>[v(" "+p(i(n)("save")),1)]),_:1},8,["loading","disabled"])]),_:1})]),default:t(()=>[a("section",null,[e(d,{hoverable:"",embedded:""},{header:t(()=>[v(p(i(n)("installationRegistration")),1)]),default:t(()=>[e(B,{cols:"1 s:2 m:2 l:2 xl:2 2xl:2",responsive:"screen","x-gap":12,"y-gap":12},{default:t(()=>[e(c,null,{default:t(()=>[e(d,{class:"w-full h-full",size:"small"},{default:t(()=>[e(u,{align:"center",justify:"space-between"},{default:t(()=>[a("span",null,p(i(n)("disableInstaller")),1),e(g,{value:i(l).disableInstaller,"onUpdate:value":o[0]||(o[0]=r=>i(l).disableInstaller=r),"checked-value":"1","unchecked-value":"0",size:"small"},{checked:t(()=>o[4]||(o[4]=[a("div",{class:"w-6"},null,-1)])),unchecked:t(()=>o[5]||(o[5]=[a("div",{class:"w-6"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(d,{class:"w-full h-full",size:"small"},{default:t(()=>[e(u,{align:"center",justify:"space-between"},{default:t(()=>[a("span",null,p(i(n)("allowUsersRegistration")),1),e(g,{value:i(l).allowRegistration,"onUpdate:value":o[1]||(o[1]=r=>i(l).allowRegistration=r),"checked-value":"1","unchecked-value":"0",size:"small"},{checked:t(()=>o[6]||(o[6]=[a("div",{class:"w-6"},null,-1)])),unchecked:t(()=>o[7]||(o[7]=[a("div",{class:"w-6"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(d,{class:"w-full h-full",size:"small"},{default:t(()=>[e(u,{align:"center",justify:"space-between"},{default:t(()=>[a("span",null,p(i(n)("displayAdminProfileTypeAtRegistration")),1),e(g,{value:i(l).displayAdminProfileType,"onUpdate:value":o[2]||(o[2]=r=>i(l).displayAdminProfileType=r),"checked-value":"1","unchecked-value":"0",disabled:!parseInt(i(l).allowRegistration),size:"small"},{checked:t(()=>o[8]||(o[8]=[a("div",{class:"w-6"},null,-1)])),unchecked:t(()=>o[9]||(o[9]=[a("div",{class:"w-6"},null,-1)])),_:1},8,["value","disabled"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(d,{class:"w-full h-full",size:"small"},{default:t(()=>[e(u,{align:"center",justify:"space-between"},{default:t(()=>[a("span",null,p(i(n)("adminProfileTypeTitle")),1),a("div",Z,[e(N,{modelValue:i(l).adminProfileTypeLabel,"onUpdate:modelValue":o[3]||(o[3]=r=>i(l).adminProfileTypeLabel=r),placeholder:i(n)("admin"),disabled:!(parseInt(i(l).displayAdminProfileType)&&parseInt(i(l).allowRegistration)),size:"tiny",sync:""},null,8,["modelValue","placeholder","disabled"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}}});export{ro as default};
