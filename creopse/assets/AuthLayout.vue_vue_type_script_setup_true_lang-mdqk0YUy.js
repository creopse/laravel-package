import{i as C}from"./ckeditor_ckeditor5-vue-CmLqe3wy.js";import{u as O,p as Q,d as W,e as X,R as Y,_ as Z}from"./main-D6UvRL7q.js";import{I as ee}from"./iconify_vue-DXPEksg3.js";import{a as te,u as ne}from"./vue-router-DjpI5axN.js";import{u as oe}from"./unhead_vue-ObhOJ4d0.js";import{p as se,f as ae,h as re,q as le,r as ie,s as ce}from"./naive-ui-BrWbllCz.js";import{u as ue}from"./vue-i18n-B92nPylK.js";const{defineComponent:de}=await C("vue"),{unref:e,resolveComponent:Le,openBlock:d,createBlock:P,createCommentVNode:_,toDisplayString:h,createVNode:o,withCtx:s,createElementVNode:n,createTextVNode:pe,createElementBlock:v,normalizeClass:V,normalizeStyle:w,renderSlot:me,isRef:fe,Fragment:_e}=await C("vue"),ge={key:0,class:"fixed top-8 left-5 right-5 px-10"},be={class:"flex items-center justify-between"},ye={class:"text-sm ml-1"},he={class:"h-screen flex items-center justify-center"},ve={class:"flex flex-col items-center justify-center"},ke={class:"text-center mb-8"},xe={class:"flex justify-center mb-4"},we=["src","alt"],Ce={key:0,class:"text-[#111827] dark:text-[#ffffff] text-3xl font-medium mb-4"},Se={key:1,class:"text-[#6b7280] font-medium"},Be={class:"text-center py-2 px-4 fixed bottom-0 w-full bg-[#ffffff] dark:bg-[#18181b] border-slate-200 dark:border-gray-500"},{ref:z,onMounted:Ae,computed:$e}=await C("vue"),De=de({__name:"AuthLayout",props:{displayServerAlerts:{type:Boolean,default:!0},title:{},subtitle:{}},setup(L){const p=L,{t:k,locale:g}=ue(),{request:S}=X(),{pickByTheme:D,isSmScreen:R,languages:B,updateLocale:A,appPrimaryColor:U,fileUrl:$,icon:q,logo:E,tr:I}=O(),m=te(),H=ne(),T=Q(),{getSettingValue:r}=W(),j=se(),b=z(!0),x=z(!0);Ae(async()=>{if(m.query&&m.query.lang){const t=String(m.query.lang);B.map(a=>a.value).includes(t)&&g.value!=t&&A(t)}j.start();const f=await S({url:"/"});if(b.value=f.success,b.value){const t=await S({url:"/database"});x.value=t.success}j.finish()});const M=$e(()=>{const f="#f1f5f9",t="#09090b",a=r("appearance.authPages.backgroundColor.light","string"),i=r("appearance.authPages.backgroundColor.dark","string"),c=r("appearance.authPages.backgroundImage.light","string"),y=r("appearance.authPages.backgroundImage.dark","string");return D(c?`background: url(${$(c)}) no-repeat center / cover`:`background-color: ${a||f}`,y?`background: url(${$(y)}) no-repeat center / cover`:`background-color: ${i||t}`)}),l=r("appearance.authPages.brand.size","number"),F=r("appearance.authPages.brand.type","string"),G="Creopse";return oe({title:()=>(I(m?.meta?.title)?I(m?.meta?.title)+" - ":"")+"Creopse"}),(f,t)=>{const a=ae,i=ee,c=re,y=Z,J=ie,K=ce,N=le;return d(),v(_e,null,[p.displayServerAlerts&&(!e(b)||!e(x))?(d(),v("section",ge,[e(b)?_("",!0):(d(),P(a,{key:0,title:e(k)("serverUnreachable"),type:"error"},null,8,["title"])),e(x)?_("",!0):(d(),P(a,{key:1,type:"warning"},{header:s(()=>[n("div",be,[pe(h(e(k)("unableToConnectToDatabase"))+" ",1),n("div",{class:"flex items-center justify-between cursor-pointer",onClick:t[0]||(t[0]=u=>e(H).push(e(Y).SETUP.PATH))},[o(c,null,{default:s(()=>[o(i,{icon:"carbon:bottom-panel-close"})]),_:1}),n("span",ye,h(e(k)("openInstaller")),1)])])]),_:1}))])):_("",!0),n("section",he,[n("div",{style:w(`${e(M)}`),class:"flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden"},[n("div",ve,[o(y,{name:"slide-fade",appear:""},{default:s(()=>[n("div",{style:w(`
              border-radius: 15px;
              padding: 0.3rem;
              background: linear-gradient(
                ${Math.floor(Math.random()*360)}deg,
                ${e(U)} 10%,
                rgba(33, 150, 243, 0) 30%
              );
            `)},[n("div",{class:V(`w-full bg-[#ffffff] dark:bg-[#18181b] px-8 sm:px-20 ${e(l)?e(l)>150&&e(l)<=200?"py-8":"py-15":"py-20"}`),style:{"border-radius":"15px"}},[n("div",ke,[n("div",xe,[n("img",{src:e(F)=="logo"?e(E):e(q),style:w(e(l)?`width: ${e(l)}px;`:""),class:V(`${e(l)?"":"w-24"}`),alt:e(G)},null,14,we)]),p.title?(d(),v("div",Ce,h(p.title),1)):_("",!0),p.subtitle?(d(),v("span",Se,h(p.subtitle),1)):_("",!0)]),me(f.$slots,"default")],2)],4)]),_:3})])],4)]),n("section",Be,[o(N,{justify:e(R)?"center":"space-evenly",align:"center",class:"container mx-auto"},{default:s(()=>[o(J,{value:e(g),"onUpdate:value":[t[1]||(t[1]=u=>fe(g)?g.value=u:null),t[2]||(t[2]=u=>e(A)(u,!1))],"consistent-menu-width":!1,size:"tiny",options:e(B)},null,8,["value","options"]),o(N,{justify:"center",align:"center"},{default:s(()=>[o(K,{value:e(T).isLightTheme,"onUpdate:value":t[3]||(t[3]=u=>e(T).isLightTheme=u),size:"small"},{"checked-icon":s(()=>[o(c,{color:"orange"},{default:s(()=>[o(i,{icon:"carbon:sun"})]),_:1})]),"unchecked-icon":s(()=>[o(c,{color:"dimgray"},{default:s(()=>[o(i,{icon:"carbon:moon"})]),_:1})]),checked:s(()=>[...t[4]||(t[4]=[n("div",{class:"w-4"},null,-1)])]),unchecked:s(()=>[...t[5]||(t[5]=[n("div",{class:"w-4"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1},8,["justify"])])],64)}}});export{De as _};
