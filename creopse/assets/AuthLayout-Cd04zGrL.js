import{i as b}from"./css-render_vue3-ssr-Vbotx5Ir.js";import{I as $}from"./iconify_vue-BwapRRpV.js";import{u as q,f as F,i as H,e as M,R as P}from"./index-B2LlKIv2.js";import{a as K,u as Y}from"./vue-router-B7M2c80d.js";import{u as G}from"./unhead_vue-hiYau3hl.js";import{I as J,N as O,g as Q,j as W,k as X}from"./naive-ui-CrTIpLJ9.js";import{u as Z}from"./vue-i18n-CWrb4u3f.js";import{_ as ee}from"./fawmi_vue-google-maps-DHKJ2mA8.js";const te="/creopse/assets/auth-dark-B8oMCw2E.svg",oe="/creopse/assets/auth-BbDBK5VI.svg",{useCssVars:ne,defineComponent:se}=await b("vue"),{unref:t,resolveComponent:Be,openBlock:p,createBlock:V,createCommentVNode:v,toDisplayString:y,createVNode:o,withCtx:n,createElementVNode:s,createTextVNode:ae,createElementBlock:A,renderSlot:re,isRef:le,normalizeClass:ce,normalizeStyle:ie,Fragment:ue}=await b("vue"),pe={key:0,class:"fixed top-8 left-5 right-5 px-10"},me={class:"flex items-center justify-between"},_e={class:"text-sm ml-1"},de={class:"h-screen flex items-center justify-center root-container"},fe={class:"text-xs text-gray-500"},{ref:N,onMounted:ge,computed:T}=await b("vue"),ve=se({__name:"AuthLayout",props:{displayServerAlerts:{type:Boolean,default:!0}},setup(D){ne(a=>({"544036b3":t(E),"53ecbcbb":t(B)}));const j=D,{t:m,locale:c}=Z(),{request:h}=M(),{pickByTheme:_,isSmScreen:L,languages:k,updateLocale:x,fileUrl:S}=q(),l=K(),z=Y(),C=F(),w=H(),i=N(!0),d=N(!0);ge(async()=>{if(l.query&&l.query.lang){const e=String(l.query.lang);k.map(u=>u.value).includes(e)&&c.value!=e&&x(e)}const a=await h({url:"/"});if(i.value=a.success,i.value){const e=await h({url:"/database"});d.value=e.success}});const B=T(()=>_("#ffffff","#282828")),E=T(()=>{const a=w.getSettingValue("adminAuthLightBg"),e=w.getSettingValue("adminAuthDarkBg");return`url(${_(a?S(a):oe,e?S(e):te)})`});return G({title:()=>(l?.meta?.title?l?.meta?.title+" - ":"")+"Creopse"}),(a,e)=>{const u=J,f=$,g=O,R=W,U=X,I=Q;return p(),A(ue,null,[j.displayServerAlerts&&(!t(i)||!t(d))?(p(),A("section",pe,[t(i)?v("",!0):(p(),V(u,{key:0,title:t(m)("serverUnreachable"),type:"error"},null,8,["title"])),t(d)?v("",!0):(p(),V(u,{key:1,type:"warning"},{header:n(()=>[s("div",me,[ae(y(t(m)("unableToConnectToDatabase"))+" ",1),s("div",{class:"flex items-center justify-between cursor-pointer",onClick:e[0]||(e[0]=r=>t(z).push(t(P).SETUP.PATH))},[o(g,null,{default:n(()=>[o(f,{icon:"carbon:bottom-panel-close"})]),_:1}),s("span",_e,y(t(m)("openInstaller")),1)])])]),_:1}))])):v("",!0),s("section",de,[re(a.$slots,"default",{},void 0,!0)]),s("section",{class:ce(["text-center py-2 px-4 fixed bottom-0 w-full",`${t(_)("border-slate-200","border-gray-500")}`]),style:ie(`background-color: ${t(B)}`)},[o(I,{justify:t(L)?"center":"space-around",align:"center",class:"container mx-auto"},{default:n(()=>[s("div",fe," Â© copyright "+y(new Date().getFullYear())+" | Creopse ",1),o(I,{justify:"center",align:"center"},{default:n(()=>[o(R,{value:t(c),"onUpdate:value":[e[1]||(e[1]=r=>le(c)?c.value=r:null),e[2]||(e[2]=r=>t(x)(r,!1))],"consistent-menu-width":!1,size:"tiny",options:t(k)},null,8,["value","options"]),o(U,{value:t(C).isLightTheme,"onUpdate:value":e[3]||(e[3]=r=>t(C).isLightTheme=r),size:"small"},{"checked-icon":n(()=>[o(g,{color:"orange"},{default:n(()=>[o(f,{icon:"carbon:sun"})]),_:1})]),"unchecked-icon":n(()=>[o(g,{color:"dimgray"},{default:n(()=>[o(f,{icon:"carbon:moon"})]),_:1})]),checked:n(()=>e[4]||(e[4]=[s("div",{class:"w-4"},null,-1)])),unchecked:n(()=>e[5]||(e[5]=[s("div",{class:"w-4"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1},8,["justify"])],6)],64)}}}),Ie=ee(ve,[["__scopeId","data-v-153fd725"]]);export{Ie as _};
