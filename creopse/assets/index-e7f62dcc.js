import{_ as L}from"./AuthLayout-1372a2d0.js";import{u as O,c as q,d as M,R as w,_ as B,e as F}from"./index-b41c7da9.js";import{I as j}from"./iconify_vue-6750bec6.js";import{R as z}from"./response-error-code-87d1097e.js";import{u as G}from"./vue-router-e670704e.js";import{_ as U}from"./validator-c0254ba9.js";import{d as R,w as Y,o as $,P as W,aO as o,Y as r,a as i,l as E}from"./vue_runtime-core-4f5fb440.js";import{u as J}from"./vue-i18n-84a05dd5.js";import{b as K,E as Q,F as X,N as Z,_ as tt,G as et,L as ot}from"./naive-ui-17a84883.js";import{r as b,u as t}from"./vue_reactivity-852d8377.js";import{t as S}from"./vue_shared-7dcc3b7f.js";import"./vue_runtime-dom-c0cb2070.js";import"./unhead_vue-71da354f.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./fawmi_vue-google-maps-52673af8.js";import"./googlemaps_markerclusterer-b718980f.js";import"./fast-deep-equal-1db9e660.js";import"./axios-96fb5abd.js";import"./process-93c0ea83.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./browser-image-compression-a3ab6596.js";import"./lodash-a9971f22.js";import"./pinia-5dd13ed8.js";import"./vue-demi-71ba0ef2.js";import"./moment-ea709ccd.js";import"./slugify-ce681755.js";import"./vueuse_core-a611fd48.js";import"./vueuse_shared-5de4c6d8.js";import"./parse-domain-15b982e1.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./ckeditor_ckeditor5-vue-13667b6e.js";import"./vue-83614a91.js";import"./vue3-google-login-7712408e.js";import"./vue-draggable-next-d31a77b2.js";import"./vue-recaptcha-486cc690.js";import"./p-defer-64bd7c04.js";import"./defu-573334b8.js";import"./pinia_colada-25af8b56.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-40ca5c5d.js";import"./vue3-map-chart-612bd6db.js";import"./crypto-js-eb39eca1.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-b49649f7.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-b91bc731.js";import"./vooks-3c892a1c.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./lodash-es-a215867d.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-dc9a4891.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";const rt={class:"container h-full"},st={class:"flex justify-center items-center flex-wrap h-full g-6 text-gray-800"},it={class:"md:w-8/12 lg:w-5/12 xl:w-4/12 2xl:w-3/12 sm:w-full"},at={class:"flex justify-center mb-6"},mt=["src","alt"],nt={class:"flex items-center my-4 before:flex-1 before:border-t before:border-gray-300 before:mt-0.5 after:flex-1 after:border-t after:border-gray-300 after:mt-0.5"},lt={class:"w-full text-center font-semibold mx-4 mb-0"},pt=R({name:w.RESET_PASSWORD.NAME}),Te=R({...pt,setup(ut){const{t:s}=J(),v=G(),h=K(),{request:k}=F(),{displayFormErrors:A,logo:I}=O(),C=q(),N=M(),f=b(!1),x=b(null),m=b({email:""}),P={email:[{required:!0,message:s("fillRequired")},{trigger:["input"],validator(n,e){return e&&!U.isEmail(e)?new Error(s("invalidEmail")):!0}}]},T=n=>{var e;n.preventDefault(),(e=x.value)==null||e.validate(async g=>{var p,u,c,l,_,d;if(!g){f.value=!0;const a=await k({url:"/auth/send-password-link",method:"post",data:{email:m.value.email}});if(a.failure&&a.error)switch((c=(u=(p=a.error)==null?void 0:p.response)==null?void 0:u.data)==null?void 0:c.errorCode){case z.FORM_INVALID_DATA:A((d=(_=(l=a.error)==null?void 0:l.response)==null?void 0:_.data)==null?void 0:d.data);break;default:h.error(s("failedToSend"))}else m.value={email:""},h.success(s("weHaveSentYouPwdResetEmail"),{closable:!0,duration:1e4});f.value=!1}})},V="Creopse",D=N.getSettingValue("disableInstaller","boolean");return Y(()=>C.isUserConnected,n=>{n&&v.replace(w.HOME.PATH)},{immediate:!0}),(n,e)=>{const g=Q,p=X,u=j,c=Z,l=tt,_=et,d=ot,a=B,H=L;return $(),W(H,{"display-server-alerts":!t(D)},{default:o(()=>[r(a,{name:"slide-fade",appear:""},{default:o(()=>[i("div",rt,[i("div",st,[i("div",it,[r(d,{size:"small",class:"w-full"},{default:o(()=>[i("div",at,[i("img",{src:t(I),class:"w-54",alt:t(V)},null,8,mt)]),r(_,{ref_key:"formRef",ref:x,model:t(m),rules:P,"show-label":!1,"show-require-mark":!1,size:"medium"},{default:o(()=>[r(p,{label:t(s)("addressEmail"),path:"email"},{default:o(()=>[r(g,{value:t(m).email,"onUpdate:value":e[0]||(e[0]=y=>t(m).email=y),placeholder:t(s)("addressEmail"),class:"w-full"},null,8,["value","placeholder"])]),_:1},8,["label"]),r(l,{type:"primary",block:"",loading:t(f),onClick:T},{icon:o(()=>[r(c,null,{default:o(()=>[r(u,{icon:"mdi:lock-reset"})]),_:1})]),default:o(()=>[E(" "+S(t(s)("resetPassword")),1)]),_:1},8,["loading"]),i("div",nt,[i("p",lt,[r(l,{text:"",onClick:e[1]||(e[1]=y=>t(v).push(t(w).LOGIN.PATH))},{default:o(()=>[E(S(t(s)("toLogin")),1)]),_:1})])])]),_:1},8,["model"])]),_:1})])])])]),_:1})]),_:1},8,["display-server-alerts"])}}});export{Te as default};
