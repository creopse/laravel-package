import{u,v as c,f as i,e as d}from"./main-D6UvRL7q.js";import{u as p}from"./vue-i18n-B92nPylK.js";import{p as l,u as m}from"./naive-ui-BrWbllCz.js";const S=()=>{const{displayFormErrors:a}=u(),{request:n}=d(),{t:r}=p(),o=l(),t=m();return c(async e=>{const s=await n({url:"/email",method:"post",data:e.data});if(s.failure&&s.error)throw new Error(s.error);return s.result},{onMutate:()=>o.start(),onSettled:()=>o.finish(),onSuccess:(e,s)=>{s.onSuccess?s.onSuccess(e):t.success(r("success"))},onError:(e,s)=>{if(s.onError)s.onError(e);else switch(e?.response?.data?.errorCode){case i.FORM_INVALID_DATA:a(e?.response?.data?.data);break;default:t.error(r("sendingFailed"))}},retry:2})};export{S as u};
