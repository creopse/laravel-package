import{i as g}from"./css-render_vue3-ssr-Vbotx5Ir.js";import{I as R}from"./iconify_vue-BwapRRpV.js";import{f as V,m as z,u as A,h as H}from"./vue-advanced-cropper-CqAzM1c-.js";import{_ as U}from"./fawmi_vue-google-maps-DHKJ2mA8.js";import{N as x,I as L,B as M}from"./naive-ui-CrTIpLJ9.js";import{u as O}from"./vue-i18n-CWrb4u3f.js";var m=(e=>(e[e.DOCUMENT=1]="DOCUMENT",e[e.IMAGE=2]="IMAGE",e[e.VIDEO=3]="VIDEO",e[e.AUDIO=4]="AUDIO",e[e.OTHER=5]="OTHER",e))(m||{});const{unref:i,createVNode:n,resolveComponent:_e,withCtx:v,createElementVNode:r,normalizeClass:P,openBlock:w,createElementBlock:k,createCommentVNode:W,toDisplayString:B,createTextVNode:b,createBlock:q}=await g("vue"),F={class:"picker-container"},G={class:"picker-content"},Z={key:0},j={class:"cropper-container"},J={class:"vertical-buttons"},K={class:"preview-container"},Q={key:1,class:"text-center"},X={class:"picker-action"},Y={class:"dialog-footer"},{ref:N,computed:ee}=await g("vue"),te={name:"ImageEditor",inheritAttrs:!1},oe=Object.assign(te,{props:{cropperAutoZoom:{type:Boolean,default:!0},cropperScalable:{type:Boolean,default:!1},cropperMovable:{type:Boolean,default:!1},cropperRatio:{type:Number,default:null},roundPreview:{type:Boolean,default:!1},previewWidth:{type:Number,default:null},previewHeight:{type:Number,default:120},src:{type:String,default:null}},emits:["croppedFileChange","save","cancel"],setup(e,{emit:a}){const{t:c}=O(),p=a,o=e,l=N(null),s=N({coordinates:null,image:null}),f=ee(()=>o.previewWidth?o.previewWidth:s.value&&s.value.coordinates?s.value.coordinates.width/s.value.coordinates.height*o.previewHeight:o.previewHeight),y=({coordinates:u,image:t})=>{s.value={coordinates:u,image:t};const{canvas:d}=l.value.getResult();p("croppedFileChange",s.value,d.toDataURL())},C=(u,t)=>{l.value.customImageTransforms.rotate%180!==0?l.value.flip(!u,!t):l.value.flip(u,t)},E=u=>{l.value.rotate(u)},S=()=>{const{canvas:u}=l.value.getResult();p("save",s.value,u.toDataURL())};return(u,t)=>{const d=R,h=x,$=L,I=M;return w(),k("div",F,[r("div",G,[o.src?(w(),k("div",Z,[r("div",j,[n(i(V),{ref_key:"cropper",ref:l,class:"cropper",src:o.src,"auto-zoom":o.cropperAutoZoom,"stencil-props":{movable:o.cropperMovable,scalable:o.cropperScalable,aspectRatio:o.cropperRatio,previewClass:o.roundPreview?"circle-stencil-preview":""},"image-restriction":"stencil","background-class":"cropper-background","stencil-component":o.roundPreview?i(z):i(A),onChange:y},null,8,["src","auto-zoom","stencil-props","stencil-component"]),r("div",J,[r("div",{class:"square-button",title:"Flip Horizontal",onClick:t[0]||(t[0]=_=>C(!0,!1))},[n(h,{color:"white",size:20},{default:v(()=>[n(d,{icon:"fa-solid:arrows-alt-h"})]),_:1})]),r("div",{class:"square-button",title:"Flip Vertical",onClick:t[1]||(t[1]=_=>C(!1,!0))},[n(h,{color:"white",size:20},{default:v(()=>[n(d,{icon:"fa-solid:arrows-alt-v"})]),_:1})]),r("div",{class:"square-button",title:"Rotate Clockwise",onClick:t[2]||(t[2]=_=>E(90))},[n(h,{color:"white",size:20},{default:v(()=>[n(d,{icon:"fa-solid:redo-alt"})]),_:1})]),r("div",{class:"square-button",title:"Rotate Counter-Clockwise",onClick:t[3]||(t[3]=_=>E(-90))},[n(h,{color:"white",size:20},{default:v(()=>[n(d,{icon:"fa-solid:undo-alt"})]),_:1})])])]),t[6]||(t[6]=r("br",null,null,-1)),r("div",K,[n(i(H),{ref:"preview",class:P(["preview",{round:o.roundPreview}]),image:i(s).image,width:i(f),height:o.previewHeight,coordinates:i(s).coordinates},null,8,["image","width","height","class","coordinates"])])])):(w(),k("div",Q,[n($,{title:i(c)("noSrcFileWarning"),type:"warning","show-icon":""},null,8,["title"])])),r("div",X,[r("span",Y,[n(I,{onClick:t[4]||(t[4]=_=>p("cancel"))},{default:v(()=>[b(B(i(c)("close")),1)]),_:1}),t[7]||(t[7]=b("    ")),o.src?(w(),q(I,{key:0,type:"primary",onClick:t[5]||(t[5]=_=>S())},{default:v(()=>[b(B(i(c)("save")),1)]),_:1})):W("",!0)])])])])}}}),ge=U(oe,[["__scopeId","data-v-edf91585"]]),{defineComponent:ae}=await g("vue"),{unref:T,renderSlot:le,normalizeStyle:ne,openBlock:se,createElementBlock:re}=await g("vue"),{ref:D,useSlots:ie}=await g("vue"),ce=["src","alt","title","width","height","loading"],he=ae({__name:"AsyncImg",props:{load:{type:Function},alt:{},width:{},height:{},title:{},loading:{},style:{},fallback:{}},setup(e){const a=e,c=D(""),p=D(!1);(async()=>{c.value=await a.load(),c.value||(a.fallback&&(c.value=a.fallback),p.value=!0)})();const l=ie(),s=f=>!!l[f];return(f,y)=>T(p)&&s("fallback")?le(f.$slots,"fallback",{key:0}):(se(),re("img",{key:1,src:T(c),alt:a.alt,title:a.title,style:ne(a.style),width:a.width,height:a.height,loading:a.loading},null,12,ce))}}),we=()=>{const{t:e}=O(),a=[{label:e("image"),value:m.IMAGE,tagType:"default"},{label:e("video"),value:m.VIDEO,tagType:"info"},{label:e("audio"),value:m.AUDIO,tagType:"success"},{label:e("document"),value:m.DOCUMENT,tagType:"warning"},{label:e("other"),value:m.OTHER,tagType:"error"}];return{getMediaFileTypeTagType:o=>a.find(l=>l.value===o)?.tagType||"default",getMediaFileTypeLabel:o=>a.find(l=>l.value===o)?.label,mediaFileTypes:a}};export{m as M,he as _,ge as a,we as u};
