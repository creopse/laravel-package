const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jsoneditor-BJ7iDtct.js","assets/process-C_hjxN6x.js","assets/ckeditor5-CeWYpOQ8.js","assets/ckeditor_ckeditor5-utils-Bp8opE8z.js","assets/es-toolkit-RjqxEpf9.js","assets/ckeditor_ckeditor5-engine-CS7i4Bo_.js","assets/ckeditor_ckeditor5-widget-l7jZmFCq.js","assets/ckeditor_ckeditor5-core-Cqajz_gD.js","assets/ckeditor_ckeditor5-watchdog-t246ZXop.js","assets/ckeditor_ckeditor5-typing-DcL_fNuA.js","assets/ckeditor_ckeditor5-icons-BkOmZeoU.js","assets/ckeditor_ckeditor5-ui-wSLROq0V.js","assets/color-parse-BGABsNex.js","assets/color-name-gyPnsvCn.js","assets/color-convert-BAHQI5dc.js","assets/vanilla-colorful-PEGE98j7.js","assets/ckeditor_ckeditor5-enter-B0CSFwo1.js","assets/ckeditor_ckeditor5-list-C9bdqqJO.js","assets/ckeditor_ckeditor5-font-BvBYz8K6.js","assets/ckeditor_ckeditor5-clipboard-3CV4NNCs.js","assets/ckeditor_ckeditor5-mention-Dy-RTP7E.js","assets/ckeditor5-D9dekCkJ.css"])))=>i.map(i=>d[i]);
import{_ as Wr,K as N_,J as I_}from"./jsoneditor-BJ7iDtct.js";import{i as L_}from"./ckeditor_ckeditor5-vue-CmLqe3wy.js";function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fa={},Wd;function B_(){if(Wd)return fa;Wd=1;var t={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},e=97;fa.parse=function(g,O,$){var P={},Y=0,ne=0,G=0,X=$&&$.bigint&&typeof BigInt<"u";return{data:se("",!0),pointers:P};function se(ce,xe){Z();var Ie;Ce(ce,"value");var qe=je();switch(qe){case"t":be("rue"),Ie=!0;break;case"f":be("alse"),Ie=!1;break;case"n":be("ull"),Ie=null;break;case'"':Ie=le();break;case"[":Ie=Ke(ce);break;case"{":Ie=De(ce);break;default:ze(),"-0123456789".indexOf(qe)>=0?Ie=$e():de()}return Ce(ce,"valueEnd"),Z(),xe&&G<g.length&&de(),Ie}function Z(){e:for(;G<g.length;){switch(g[G]){case" ":ne++;break;case"	":ne+=4;break;case"\r":ne=0;break;case`
`:ne=0,Y++;break;default:break e}G++}}function le(){for(var ce="",xe;xe=je(),xe!='"';)xe=="\\"?(xe=je(),xe in t?ce+=t[xe]:xe=="u"?ce+=Te():me()):ce+=xe;return ce}function $e(){var ce="",xe=!0;g[G]=="-"&&(ce+=je()),ce+=g[G]=="0"?je():ge(),g[G]=="."&&(ce+=je()+ge(),xe=!1),(g[G]=="e"||g[G]=="E")&&(ce+=je(),(g[G]=="+"||g[G]=="-")&&(ce+=je()),ce+=ge(),xe=!1);var Ie=+ce;return X&&xe&&(Ie>Number.MAX_SAFE_INTEGER||Ie<Number.MIN_SAFE_INTEGER)?BigInt(ce):Ie}function Ke(ce){Z();var xe=[],Ie=0;if(je()=="]")return xe;for(ze();;){var qe=ce+"/"+Ie;xe.push(se(qe)),Z();var vt=je();if(vt=="]")break;vt!=","&&me(),Z(),Ie++}return xe}function De(ce){Z();var xe={};if(je()=="}")return xe;for(ze();;){var Ie=J();je()!='"'&&me();var qe=le(),vt=ce+"/"+d(qe);Fe(vt,"key",Ie),Ce(vt,"keyEnd"),Z(),je()!=":"&&me(),Z(),xe[qe]=se(vt),Z();var Nt=je();if(Nt=="}")break;Nt!=","&&me(),Z()}return xe}function be(ce){for(var xe=0;xe<ce.length;xe++)je()!==ce[xe]&&me()}function je(){ye();var ce=g[G];return G++,ne++,ce}function ze(){G--,ne--}function Te(){for(var ce=4,xe=0;ce--;){xe<<=4;var Ie=je().toLowerCase();Ie>="a"&&Ie<="f"?xe+=Ie.charCodeAt()-e+10:Ie>="0"&&Ie<="9"?xe+=+Ie:me()}return String.fromCharCode(xe)}function ge(){for(var ce="";g[G]>="0"&&g[G]<="9";)ce+=je();if(ce.length)return ce;ye(),de()}function Ce(ce,xe){Fe(ce,xe,J())}function Fe(ce,xe,Ie){P[ce]=P[ce]||{},P[ce][xe]=Ie}function J(){return{line:Y,column:ne,pos:G}}function de(){throw new SyntaxError("Unexpected token "+g[G]+" in JSON at position "+G)}function me(){ze(),de()}function ye(){if(G>=g.length)throw new SyntaxError("Unexpected end of JSON input")}},fa.stringify=function(g,O,$){if(!n(g))return;var P=0,Y,ne,G=typeof $=="object"?$.space:$;switch(typeof G){case"number":var X=G>10?10:G<0?0:Math.floor(G);G=X&&Fe(X," "),Y=X,ne=X;break;case"string":G=G.slice(0,10),Y=0,ne=0;for(var se=0;se<G.length;se++){var Z=G[se];switch(Z){case" ":ne++;break;case"	":ne+=4;break;case"\r":ne=0;break;case`
`:ne=0,P++;break;default:throw new Error("whitespace characters not allowed in JSON")}Y++}break;default:G=void 0}var le="",$e={},Ke=0,De=0,be=0,je=$&&$.es6&&typeof Map=="function";return ze(g,0,""),{json:le,pointers:$e};function ze(J,de,me){switch(Ce(me,"value"),typeof J){case"number":case"bigint":case"boolean":Te(""+J);break;case"string":Te(u(J));break;case"object":J===null?Te("null"):typeof J.toJSON=="function"?Te(u(J.toJSON())):Array.isArray(J)?ye():je?J.constructor.BYTES_PER_ELEMENT?ye():J instanceof Map?xe():J instanceof Set?xe(!0):ce():ce()}Ce(me,"valueEnd");function ye(){if(J.length){Te("[");for(var Ie=de+1,qe=0;qe<J.length;qe++){qe&&Te(","),ge(Ie);var vt=n(J[qe])?J[qe]:null,Nt=me+"/"+qe;ze(vt,Ie,Nt)}ge(de),Te("]")}else Te("[]")}function ce(){var Ie=Object.keys(J);if(Ie.length){Te("{");for(var qe=de+1,vt=0;vt<Ie.length;vt++){var Nt=Ie[vt],ft=J[Nt];if(n(ft)){vt&&Te(",");var Zt=me+"/"+d(Nt);ge(qe),Ce(Zt,"key"),Te(u(Nt)),Ce(Zt,"keyEnd"),Te(":"),G&&Te(" "),ze(ft,qe,Zt)}}ge(de),Te("}")}else Te("{}")}function xe(Ie){if(J.size){Te("{");for(var qe=de+1,vt=!0,Nt=J.entries(),ft=Nt.next();!ft.done;){var Zt=ft.value,bn=Zt[0],Ln=Ie?!0:Zt[1];if(n(Ln)){vt||Te(","),vt=!1;var wn=me+"/"+d(bn);ge(qe),Ce(wn,"key"),Te(u(bn)),Ce(wn,"keyEnd"),Te(":"),G&&Te(" "),ze(Ln,qe,wn)}ft=Nt.next()}ge(de),Te("}")}else Te("{}")}}function Te(J){De+=J.length,be+=J.length,le+=J}function ge(J){if(G){for(le+=`
`+Fe(J,G),Ke++,De=0;J--;)P?(Ke+=P,De=ne):De+=ne,be+=Y;be+=1}}function Ce(J,de){$e[J]=$e[J]||{},$e[J][de]={line:Ke,column:De,pos:be}}function Fe(J,de){return Array(J+1).join(de)}};var r=["number","bigint","boolean","string","object"];function n(g){return r.indexOf(typeof g)>=0}var i=/"|\\/g,o=/[\b]/g,s=/\f/g,a=/\n/g,l=/\r/g,c=/\t/g;function u(g){return g=g.replace(i,"\\$&").replace(s,"\\f").replace(o,"\\b").replace(a,"\\n").replace(l,"\\r").replace(c,"\\t"),'"'+g+'"'}var h=/~/g,f=/\//g;function d(g){return g.replace(h,"~0").replace(f,"~1")}return fa}var z_=B_();const dP=kg(z_);var Sg=typeof global=="object"&&global&&global.Object===Object&&global,V_=typeof self=="object"&&self&&self.Object===Object&&self,zt=Sg||V_||Function("return this")(),Qt=zt.Symbol,Eg=Object.prototype,F_=Eg.hasOwnProperty,W_=Eg.toString,Ao=Qt?Qt.toStringTag:void 0;function H_(t){var e=F_.call(t,Ao),r=t[Ao];try{t[Ao]=void 0;var n=!0}catch{}var i=W_.call(t);return n&&(e?t[Ao]=r:delete t[Ao]),i}var q_=Object.prototype,U_=q_.toString;function K_(t){return U_.call(t)}var J_="[object Null]",G_="[object Undefined]",Hd=Qt?Qt.toStringTag:void 0;function sr(t){return t==null?t===void 0?G_:J_:Hd&&Hd in Object(t)?H_(t):K_(t)}function jt(t){return t!=null&&typeof t=="object"}var Y_="[object Symbol]";function vr(t){return typeof t=="symbol"||jt(t)&&sr(t)==Y_}var X_=NaN;function qd(t){return typeof t=="number"?t:vr(t)?X_:+t}function Ct(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Ye=Array.isArray,Ud=Qt?Qt.prototype:void 0,Kd=Ud?Ud.toString:void 0;function xr(t){if(typeof t=="string")return t;if(Ye(t))return Ct(t,xr)+"";if(vr(t))return Kd?Kd.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function $l(t,e){return function(r,n){var i;if(r===void 0&&n===void 0)return e;if(r!==void 0&&(i=r),n!==void 0){if(i===void 0)return n;typeof r=="string"||typeof n=="string"?(r=xr(r),n=xr(n)):(r=qd(r),n=qd(n)),i=t(r,n)}return i}}var Cg=$l(function(t,e){return t+e},0),Q_=/\s/;function Og(t){for(var e=t.length;e--&&Q_.test(t.charAt(e)););return e}var Z_=/^\s+/;function Ag(t){return t&&t.slice(0,Og(t)+1).replace(Z_,"")}function Ot(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jd=NaN,e$=/^[-+]0x[0-9a-f]+$/i,t$=/^0b[01]+$/i,r$=/^0o[0-7]+$/i,n$=parseInt;function wr(t){if(typeof t=="number")return t;if(vr(t))return Jd;if(Ot(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ot(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ag(t);var r=t$.test(t);return r||r$.test(t)?n$(t.slice(2),r?2:8):e$.test(t)?Jd:+t}var i$=1/0,o$=17976931348623157e292;function cn(t){if(!t)return t===0?t:0;if(t=wr(t),t===i$||t===-1/0){var e=t<0?-1:1;return e*o$}return t===t?t:0}function Ze(t){var e=cn(t),r=e%1;return e===e?r?e-r:e:0}var s$="Expected a function";function Mg(t,e){if(typeof e!="function")throw new TypeError(s$);return t=Ze(t),function(){if(--t<1)return e.apply(this,arguments)}}function ar(t){return t}var a$="[object AsyncFunction]",l$="[object Function]",c$="[object GeneratorFunction]",u$="[object Proxy]";function dn(t){if(!Ot(t))return!1;var e=sr(t);return e==l$||e==c$||e==a$||e==u$}var Fa=zt["__core-js_shared__"],Gd=(function(){var t=/[^.]+$/.exec(Fa&&Fa.keys&&Fa.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function h$(t){return!!Gd&&Gd in t}var f$=Function.prototype,d$=f$.toString;function ki(t){if(t!=null){try{return d$.call(t)}catch{}try{return t+""}catch{}}return""}var p$=/[\\^$.*+?()[\]{}|]/g,m$=/^\[object .+?Constructor\]$/,g$=Function.prototype,v$=Object.prototype,y$=g$.toString,b$=v$.hasOwnProperty,w$=RegExp("^"+y$.call(b$).replace(p$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jg(t){if(!Ot(t)||h$(t))return!1;var e=dn(t)?w$:m$;return e.test(ki(t))}function x$(t,e){return t?.[e]}function Si(t,e){var r=x$(t,e);return jg(r)?r:void 0}var Yo=Si(zt,"WeakMap"),rl=Yo&&new Yo,Tg=rl?function(t,e){return rl.set(t,e),t}:ar,Yd=Object.create,ao=(function(){function t(){}return function(e){if(!Ot(e))return{};if(Yd)return Yd(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function Xo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=ao(t.prototype),n=t.apply(r,e);return Ot(n)?n:r}}var _$=1;function $$(t,e,r){var n=e&_$,i=Xo(t);function o(){var s=this&&this!==zt&&this instanceof o?i:t;return s.apply(n?r:this,arguments)}return o}function _r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var k$=Math.max;function Pg(t,e,r,n){for(var i=-1,o=t.length,s=r.length,a=-1,l=e.length,c=k$(o-s,0),u=Array(l+c),h=!n;++a<l;)u[a]=e[a];for(;++i<s;)(h||i<o)&&(u[r[i]]=t[i]);for(;c--;)u[a++]=t[i++];return u}var S$=Math.max;function Rg(t,e,r,n){for(var i=-1,o=t.length,s=-1,a=r.length,l=-1,c=e.length,u=S$(o-a,0),h=Array(u+c),f=!n;++i<u;)h[i]=t[i];for(var d=i;++l<c;)h[d+l]=e[l];for(;++s<a;)(f||i<o)&&(h[d+r[s]]=t[i++]);return h}function E$(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}function kl(){}var C$=4294967295;function it(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=C$,this.__views__=[]}it.prototype=ao(kl.prototype);it.prototype.constructor=it;function Sl(){}var wh=rl?function(t){return rl.get(t)}:Sl,Xi={},O$=Object.prototype,A$=O$.hasOwnProperty;function Wa(t){for(var e=t.name+"",r=Xi[e],n=A$.call(Xi,e)?r.length:0;n--;){var i=r[n],o=i.func;if(o==null||o==t)return i.name}return e}function Tr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Tr.prototype=ao(kl.prototype);Tr.prototype.constructor=Tr;function gr(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Dg(t){if(t instanceof it)return t.clone();var e=new Tr(t.__wrapped__,t.__chain__);return e.__actions__=gr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var M$=Object.prototype,j$=M$.hasOwnProperty;function w(t){if(jt(t)&&!Ye(t)&&!(t instanceof it)){if(t instanceof Tr)return t;if(j$.call(t,"__wrapped__"))return Dg(t)}return new Tr(t)}w.prototype=kl.prototype;w.prototype.constructor=w;function Gc(t){var e=Wa(t),r=w[e];if(typeof r!="function"||!(e in it.prototype))return!1;if(t===r)return!0;var n=wh(r);return!!n&&t===n[0]}var T$=800,P$=16,R$=Date.now;function Ng(t){var e=0,r=0;return function(){var n=R$(),i=P$-(n-r);if(r=n,i>0){if(++e>=T$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ig=Ng(Tg),D$=/\{\n\/\* \[wrapped with (.+)\] \*/,N$=/,? & /;function I$(t){var e=t.match(D$);return e?e[1].split(N$):[]}var L$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function B$(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(L$,`{
/* [wrapped with `+e+`] */
`)}function El(t){return function(){return t}}var nl=(function(){try{var t=Si(Object,"defineProperty");return t({},"",{}),t}catch{}})(),z$=nl?function(t,e){return nl(t,"toString",{configurable:!0,enumerable:!1,value:El(e),writable:!0})}:ar,xh=Ng(z$);function Nr(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function Cl(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Lg(t){return t!==t}function V$(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function lo(t,e,r){return e===e?V$(t,e,r):Cl(t,Lg,r)}function Ol(t,e){var r=t==null?0:t.length;return!!r&&lo(t,e,0)>-1}var F$=1,W$=2,H$=8,q$=16,U$=32,K$=64,J$=128,G$=256,Y$=512,X$=[["ary",J$],["bind",F$],["bindKey",W$],["curry",H$],["curryRight",q$],["flip",Y$],["partial",U$],["partialRight",K$],["rearg",G$]];function Q$(t,e){return Nr(X$,function(r){var n="_."+r[0];e&r[1]&&!Ol(t,n)&&t.push(n)}),t.sort()}function Bg(t,e,r){var n=e+"";return xh(t,B$(n,Q$(I$(n),r)))}var Z$=4,ek=8,Xd=32,Qd=64;function zg(t,e,r,n,i,o,s,a,l,c){var u=e&ek,h=u?s:void 0,f=u?void 0:s,d=u?o:void 0,g=u?void 0:o;e|=u?Xd:Qd,e&=~(u?Qd:Xd),e&Z$||(e&=-4);var O=[t,e,i,d,h,g,f,a,l,c],$=r.apply(void 0,O);return Gc(t)&&Ig($,O),$.placeholder=n,Bg($,t,e)}function co(t){var e=t;return e.placeholder}var tk=9007199254740991,rk=/^(?:0|[1-9]\d*)$/;function Tn(t,e){var r=typeof t;return e=e??tk,!!e&&(r=="number"||r!="symbol"&&rk.test(t))&&t>-1&&t%1==0&&t<e}var nk=Math.min;function ik(t,e){for(var r=t.length,n=nk(e.length,r),i=gr(t);n--;){var o=e[n];t[n]=Tn(o,r)?i[o]:void 0}return t}var Zd="__lodash_placeholder__";function Xn(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];(s===e||s===Zd)&&(t[r]=Zd,o[i++]=r)}return o}var ok=1,sk=2,ak=8,lk=16,ck=128,uk=512;function Al(t,e,r,n,i,o,s,a,l,c){var u=e&ck,h=e&ok,f=e&sk,d=e&(ak|lk),g=e&uk,O=f?void 0:Xo(t);function $(){for(var P=arguments.length,Y=Array(P),ne=P;ne--;)Y[ne]=arguments[ne];if(d)var G=co($),X=E$(Y,G);if(n&&(Y=Pg(Y,n,i,d)),o&&(Y=Rg(Y,o,s,d)),P-=X,d&&P<c){var se=Xn(Y,G);return zg(t,e,Al,$.placeholder,r,Y,se,a,l,c-P)}var Z=h?r:this,le=f?Z[t]:t;return P=Y.length,a?Y=ik(Y,a):g&&P>1&&Y.reverse(),u&&l<P&&(Y.length=l),this&&this!==zt&&this instanceof $&&(le=O||Xo(le)),le.apply(Z,Y)}return $}function hk(t,e,r){var n=Xo(t);function i(){for(var o=arguments.length,s=Array(o),a=o,l=co(i);a--;)s[a]=arguments[a];var c=o<3&&s[0]!==l&&s[o-1]!==l?[]:Xn(s,l);if(o-=c.length,o<r)return zg(t,e,Al,i.placeholder,void 0,s,c,void 0,void 0,r-o);var u=this&&this!==zt&&this instanceof i?n:t;return _r(u,this,s)}return i}var fk=1;function dk(t,e,r,n){var i=e&fk,o=Xo(t);function s(){for(var a=-1,l=arguments.length,c=-1,u=n.length,h=Array(u+l),f=this&&this!==zt&&this instanceof s?o:t;++c<u;)h[c]=n[c];for(;l--;)h[c++]=arguments[++a];return _r(f,i?r:this,h)}return s}var ep="__lodash_placeholder__",vc=1,pk=2,mk=4,tp=8,Mo=128,rp=256,gk=Math.min;function vk(t,e){var r=t[1],n=e[1],i=r|n,o=i<(vc|pk|Mo),s=n==Mo&&r==tp||n==Mo&&r==rp&&t[7].length<=e[8]||n==(Mo|rp)&&e[7].length<=e[8]&&r==tp;if(!(o||s))return t;n&vc&&(t[2]=e[2],i|=r&vc?0:mk);var a=e[3];if(a){var l=t[3];t[3]=l?Pg(l,a,e[4]):a,t[4]=l?Xn(t[3],ep):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?Rg(l,a,e[6]):a,t[6]=l?Xn(t[5],ep):e[6]),a=e[7],a&&(t[7]=a),n&Mo&&(t[8]=t[8]==null?e[8]:gk(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var yk="Expected a function",np=1,bk=2,ip=8,op=16,sp=32,wk=64,ap=Math.max;function Pn(t,e,r,n,i,o,s,a){var l=e&bk;if(!l&&typeof t!="function")throw new TypeError(yk);var c=n?n.length:0;if(c||(e&=-97,n=i=void 0),s=s===void 0?s:ap(Ze(s),0),a=a===void 0?a:Ze(a),c-=i?i.length:0,e&wk){var u=n,h=i;n=i=void 0}var f=l?void 0:wh(t),d=[t,e,r,n,i,u,h,o,s,a];if(f&&vk(d,f),t=d[0],e=d[1],r=d[2],n=d[3],i=d[4],a=d[9]=d[9]===void 0?l?0:t.length:ap(d[9]-c,0),!a&&e&(ip|op)&&(e&=-25),!e||e==np)var g=$$(t,e,r);else e==ip||e==op?g=hk(t,e,a):(e==sp||e==(np|sp))&&!i.length?g=dk(t,e,r,n):g=Al.apply(void 0,d);var O=f?Tg:Ig;return Bg(O(g,d),t,e)}var xk=128;function _h(t,e,r){return e=r?void 0:e,e=t&&e==null?t.length:e,Pn(t,xk,void 0,void 0,void 0,void 0,e)}function Rn(t,e,r){e=="__proto__"&&nl?nl(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ir(t,e){return t===e||t!==t&&e!==e}var _k=Object.prototype,$k=_k.hasOwnProperty;function us(t,e,r){var n=t[e];(!($k.call(t,e)&&Ir(n,r))||r===void 0&&!(e in t))&&Rn(t,e,r)}function pn(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=n?n(r[a],t[a],a,r,t):void 0;l===void 0&&(l=t[a]),i?Rn(r,a,l):us(r,a,l)}return r}var lp=Math.max;function Vg(t,e,r){return e=lp(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=lp(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),_r(t,this,a)}}function et(t,e){return xh(Vg(t,e,ar),t+"")}var kk=9007199254740991;function hs(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kk}function lr(t){return t!=null&&hs(t.length)&&!dn(t)}function ir(t,e,r){if(!Ot(r))return!1;var n=typeof e;return(n=="number"?lr(r)&&Tn(e,r.length):n=="string"&&e in r)?Ir(r[e],t):!1}function uo(t){return et(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&ir(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}var Sk=Object.prototype;function fs(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Sk;return t===r}function $h(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Ek="[object Arguments]";function cp(t){return jt(t)&&sr(t)==Ek}var Fg=Object.prototype,Ck=Fg.hasOwnProperty,Ok=Fg.propertyIsEnumerable,Qn=cp((function(){return arguments})())?cp:function(t){return jt(t)&&Ck.call(t,"callee")&&!Ok.call(t,"callee")};function Ml(){return!1}var Wg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,up=Wg&&typeof module=="object"&&module&&!module.nodeType&&module,Ak=up&&up.exports===Wg,hp=Ak?zt.Buffer:void 0,Mk=hp?hp.isBuffer:void 0,On=Mk||Ml,jk="[object Arguments]",Tk="[object Array]",Pk="[object Boolean]",Rk="[object Date]",Dk="[object Error]",Nk="[object Function]",Ik="[object Map]",Lk="[object Number]",Bk="[object Object]",zk="[object RegExp]",Vk="[object Set]",Fk="[object String]",Wk="[object WeakMap]",Hk="[object ArrayBuffer]",qk="[object DataView]",Uk="[object Float32Array]",Kk="[object Float64Array]",Jk="[object Int8Array]",Gk="[object Int16Array]",Yk="[object Int32Array]",Xk="[object Uint8Array]",Qk="[object Uint8ClampedArray]",Zk="[object Uint16Array]",e3="[object Uint32Array]",$t={};$t[Uk]=$t[Kk]=$t[Jk]=$t[Gk]=$t[Yk]=$t[Xk]=$t[Qk]=$t[Zk]=$t[e3]=!0;$t[jk]=$t[Tk]=$t[Hk]=$t[Pk]=$t[qk]=$t[Rk]=$t[Dk]=$t[Nk]=$t[Ik]=$t[Lk]=$t[Bk]=$t[zk]=$t[Vk]=$t[Fk]=$t[Wk]=!1;function t3(t){return jt(t)&&hs(t.length)&&!!$t[sr(t)]}function $r(t){return function(e){return t(e)}}var Hg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ho=Hg&&typeof module=="object"&&module&&!module.nodeType&&module,r3=Ho&&Ho.exports===Hg,yc=r3&&Sg.process,Pr=(function(){try{var t=Ho&&Ho.require&&Ho.require("util").types;return t||yc&&yc.binding&&yc.binding("util")}catch{}})(),fp=Pr&&Pr.isTypedArray,Ei=fp?$r(fp):t3,n3=Object.prototype,i3=n3.hasOwnProperty;function qg(t,e){var r=Ye(t),n=!r&&Qn(t),i=!r&&!n&&On(t),o=!r&&!n&&!i&&Ei(t),s=r||n||i||o,a=s?$h(t.length,String):[],l=a.length;for(var c in t)(e||i3.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Tn(c,l)))&&a.push(c);return a}function Ug(t,e){return function(r){return t(e(r))}}var o3=Ug(Object.keys,Object),s3=Object.prototype,a3=s3.hasOwnProperty;function kh(t){if(!fs(t))return o3(t);var e=[];for(var r in Object(t))a3.call(t,r)&&r!="constructor"&&e.push(r);return e}function Bt(t){return lr(t)?qg(t):kh(t)}var l3=Object.prototype,c3=l3.hasOwnProperty,Kg=uo(function(t,e){if(fs(e)||lr(e)){pn(e,Bt(e),t);return}for(var r in e)c3.call(e,r)&&us(t,r,e[r])});function u3(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var h3=Object.prototype,f3=h3.hasOwnProperty;function d3(t){if(!Ot(t))return u3(t);var e=fs(t),r=[];for(var n in t)n=="constructor"&&(e||!f3.call(t,n))||r.push(n);return r}function cr(t){return lr(t)?qg(t,!0):d3(t)}var Yc=uo(function(t,e){pn(e,cr(e),t)}),Qo=uo(function(t,e,r,n){pn(e,cr(e),t,n)}),Jg=uo(function(t,e,r,n){pn(e,Bt(e),t,n)}),p3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m3=/^\w*$/;function Sh(t,e){if(Ye(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||vr(t)?!0:m3.test(t)||!p3.test(t)||e!=null&&t in Object(e)}var Zo=Si(Object,"create");function g3(){this.__data__=Zo?Zo(null):{},this.size=0}function v3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var y3="__lodash_hash_undefined__",b3=Object.prototype,w3=b3.hasOwnProperty;function x3(t){var e=this.__data__;if(Zo){var r=e[t];return r===y3?void 0:r}return w3.call(e,t)?e[t]:void 0}var _3=Object.prototype,$3=_3.hasOwnProperty;function k3(t){var e=this.__data__;return Zo?e[t]!==void 0:$3.call(e,t)}var S3="__lodash_hash_undefined__";function E3(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Zo&&e===void 0?S3:e,this}function yi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yi.prototype.clear=g3;yi.prototype.delete=v3;yi.prototype.get=x3;yi.prototype.has=k3;yi.prototype.set=E3;function C3(){this.__data__=[],this.size=0}function jl(t,e){for(var r=t.length;r--;)if(Ir(t[r][0],e))return r;return-1}var O3=Array.prototype,A3=O3.splice;function M3(t){var e=this.__data__,r=jl(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():A3.call(e,r,1),--this.size,!0}function j3(t){var e=this.__data__,r=jl(e,t);return r<0?void 0:e[r][1]}function T3(t){return jl(this.__data__,t)>-1}function P3(t,e){var r=this.__data__,n=jl(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Dn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dn.prototype.clear=C3;Dn.prototype.delete=M3;Dn.prototype.get=j3;Dn.prototype.has=T3;Dn.prototype.set=P3;var es=Si(zt,"Map");function R3(){this.size=0,this.__data__={hash:new yi,map:new(es||Dn),string:new yi}}function D3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Tl(t,e){var r=t.__data__;return D3(e)?r[typeof e=="string"?"string":"hash"]:r.map}function N3(t){var e=Tl(this,t).delete(t);return this.size-=e?1:0,e}function I3(t){return Tl(this,t).get(t)}function L3(t){return Tl(this,t).has(t)}function B3(t,e){var r=Tl(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Nn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Nn.prototype.clear=R3;Nn.prototype.delete=N3;Nn.prototype.get=I3;Nn.prototype.has=L3;Nn.prototype.set=B3;var z3="Expected a function";function ds(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(z3);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(ds.Cache||Nn),r}ds.Cache=Nn;var V3=500;function F3(t){var e=ds(t,function(n){return r.size===V3&&r.clear(),n}),r=e.cache;return e}var W3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H3=/\\(\\)?/g,Gg=F3(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(W3,function(r,n,i,o){e.push(i?o.replace(H3,"$1"):n||r)}),e});function ut(t){return t==null?"":xr(t)}function si(t,e){return Ye(t)?t:Sh(t,e)?[t]:Gg(ut(t))}function mn(t){if(typeof t=="string"||vr(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ci(t,e){e=si(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[mn(e[r++])];return r&&r==n?t:void 0}function Pl(t,e,r){var n=t==null?void 0:Ci(t,e);return n===void 0?r:n}function Eh(t,e){for(var r=-1,n=e.length,i=Array(n),o=t==null;++r<n;)i[r]=o?void 0:Pl(t,e[r]);return i}function ai(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var dp=Qt?Qt.isConcatSpreadable:void 0;function q3(t){return Ye(t)||Qn(t)||!!(dp&&t&&t[dp])}function Ut(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=q3),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?Ut(a,e-1,r,n,i):ai(i,a):n||(i[i.length]=a)}return i}function Ch(t){var e=t==null?0:t.length;return e?Ut(t,1):[]}function In(t){return xh(Vg(t,void 0,Ch),t+"")}var Yg=In(Eh),Rl=Ug(Object.getPrototypeOf,Object),U3="[object Object]",K3=Function.prototype,J3=Object.prototype,Xg=K3.toString,G3=J3.hasOwnProperty,Y3=Xg.call(Object);function ho(t){if(!jt(t)||sr(t)!=U3)return!1;var e=Rl(t);if(e===null)return!0;var r=G3.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Xg.call(r)==Y3}var X3="[object DOMException]",Q3="[object Error]";function Dl(t){if(!jt(t))return!1;var e=sr(t);return e==Q3||e==X3||typeof t.message=="string"&&typeof t.name=="string"&&!ho(t)}var Oh=et(function(t,e){try{return _r(t,void 0,e)}catch(r){return Dl(r)?r:new Error(r)}}),Z3="Expected a function";function Ah(t,e){var r;if(typeof e!="function")throw new TypeError(Z3);return t=Ze(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}var eS=1,tS=32,ps=et(function(t,e,r){var n=eS;if(r.length){var i=Xn(r,co(ps));n|=tS}return Pn(t,n,e,r,i)});ps.placeholder={};var Qg=In(function(t,e){return Nr(e,function(r){r=mn(r),Rn(t,r,ps(t[r],t))}),t}),rS=1,nS=2,iS=32,Nl=et(function(t,e,r){var n=rS|nS;if(r.length){var i=Xn(r,co(Nl));n|=iS}return Pn(e,n,t,r,i)});Nl.placeholder={};function Rr(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function li(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Rr(t,e,r)}var oS="\\ud800-\\udfff",sS="\\u0300-\\u036f",aS="\\ufe20-\\ufe2f",lS="\\u20d0-\\u20ff",cS=sS+aS+lS,uS="\\ufe0e\\ufe0f",hS="\\u200d",fS=RegExp("["+hS+oS+cS+uS+"]");function fo(t){return fS.test(t)}function dS(t){return t.split("")}var Zg="\\ud800-\\udfff",pS="\\u0300-\\u036f",mS="\\ufe20-\\ufe2f",gS="\\u20d0-\\u20ff",vS=pS+mS+gS,yS="\\ufe0e\\ufe0f",bS="["+Zg+"]",Xc="["+vS+"]",Qc="\\ud83c[\\udffb-\\udfff]",wS="(?:"+Xc+"|"+Qc+")",e0="[^"+Zg+"]",t0="(?:\\ud83c[\\udde6-\\uddff]){2}",r0="[\\ud800-\\udbff][\\udc00-\\udfff]",xS="\\u200d",n0=wS+"?",i0="["+yS+"]?",_S="(?:"+xS+"(?:"+[e0,t0,r0].join("|")+")"+i0+n0+")*",$S=i0+n0+_S,kS="(?:"+[e0+Xc+"?",Xc,t0,r0,bS].join("|")+")",SS=RegExp(Qc+"(?="+Qc+")|"+kS+$S,"g");function ES(t){return t.match(SS)||[]}function Jr(t){return fo(t)?ES(t):dS(t)}function o0(t){return function(e){e=ut(e);var r=fo(e)?Jr(e):void 0,n=r?r[0]:e.charAt(0),i=r?li(r,1).join(""):e.slice(1);return n[t]()+i}}var Il=o0("toUpperCase");function Mh(t){return Il(ut(t).toLowerCase())}function jh(t,e,r,n){var i=-1,o=t==null?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Th(t){return function(e){return t?.[e]}}var CS={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},OS=Th(CS),AS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,MS="\\u0300-\\u036f",jS="\\ufe20-\\ufe2f",TS="\\u20d0-\\u20ff",PS=MS+jS+TS,RS="["+PS+"]",DS=RegExp(RS,"g");function Ph(t){return t=ut(t),t&&t.replace(AS,OS).replace(DS,"")}var NS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function IS(t){return t.match(NS)||[]}var LS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function BS(t){return LS.test(t)}var s0="\\ud800-\\udfff",zS="\\u0300-\\u036f",VS="\\ufe20-\\ufe2f",FS="\\u20d0-\\u20ff",WS=zS+VS+FS,a0="\\u2700-\\u27bf",l0="a-z\\xdf-\\xf6\\xf8-\\xff",HS="\\xac\\xb1\\xd7\\xf7",qS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",US="\\u2000-\\u206f",KS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c0="A-Z\\xc0-\\xd6\\xd8-\\xde",JS="\\ufe0e\\ufe0f",u0=HS+qS+US+KS,h0="['’]",pp="["+u0+"]",GS="["+WS+"]",f0="\\d+",YS="["+a0+"]",d0="["+l0+"]",p0="[^"+s0+u0+f0+a0+l0+c0+"]",XS="\\ud83c[\\udffb-\\udfff]",QS="(?:"+GS+"|"+XS+")",ZS="[^"+s0+"]",m0="(?:\\ud83c[\\udde6-\\uddff]){2}",g0="[\\ud800-\\udbff][\\udc00-\\udfff]",Ki="["+c0+"]",e4="\\u200d",mp="(?:"+d0+"|"+p0+")",t4="(?:"+Ki+"|"+p0+")",gp="(?:"+h0+"(?:d|ll|m|re|s|t|ve))?",vp="(?:"+h0+"(?:D|LL|M|RE|S|T|VE))?",v0=QS+"?",y0="["+JS+"]?",r4="(?:"+e4+"(?:"+[ZS,m0,g0].join("|")+")"+y0+v0+")*",n4="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i4="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",o4=y0+v0+r4,s4="(?:"+[YS,m0,g0].join("|")+")"+o4,a4=RegExp([Ki+"?"+d0+"+"+gp+"(?="+[pp,Ki,"$"].join("|")+")",t4+"+"+vp+"(?="+[pp,Ki+mp,"$"].join("|")+")",Ki+"?"+mp+"+"+gp,Ki+"+"+vp,i4,n4,f0,s4].join("|"),"g");function l4(t){return t.match(a4)||[]}function Rh(t,e,r){return t=ut(t),e=r?void 0:e,e===void 0?BS(t)?l4(t):IS(t):t.match(e)||[]}var c4="['’]",u4=RegExp(c4,"g");function po(t){return function(e){return jh(Rh(Ph(e).replace(u4,"")),t,"")}}var b0=po(function(t,e,r){return e=e.toLowerCase(),t+(r?Mh(e):e)});function w0(){if(!arguments.length)return[];var t=arguments[0];return Ye(t)?t:[t]}var h4=zt.isFinite,f4=Math.min;function Dh(t){var e=Math[t];return function(r,n){if(r=wr(r),n=n==null?0:f4(Ze(n),292),n&&h4(r)){var i=(ut(r)+"e").split("e"),o=e(i[0]+"e"+(+i[1]+n));return i=(ut(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(r)}}var x0=Dh("ceil");function Nh(t){var e=w(t);return e.__chain__=!0,e}var d4=Math.ceil,p4=Math.max;function _0(t,e,r){(r?ir(t,e,r):e===void 0)?e=1:e=p4(Ze(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,o=0,s=Array(d4(n/e));i<n;)s[o++]=Rr(t,i,i+=e);return s}function Oi(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}function $0(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=wr(r),r=r===r?r:0),e!==void 0&&(e=wr(e),e=e===e?e:0),Oi(wr(t),e,r)}function m4(){this.__data__=new Dn,this.size=0}function g4(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function v4(t){return this.__data__.get(t)}function y4(t){return this.__data__.has(t)}var b4=200;function w4(t,e){var r=this.__data__;if(r instanceof Dn){var n=r.__data__;if(!es||n.length<b4-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Nn(n)}return r.set(t,e),this.size=r.size,this}function Kr(t){var e=this.__data__=new Dn(t);this.size=e.size}Kr.prototype.clear=m4;Kr.prototype.delete=g4;Kr.prototype.get=v4;Kr.prototype.has=y4;Kr.prototype.set=w4;function k0(t,e){return t&&pn(e,Bt(e),t)}function x4(t,e){return t&&pn(e,cr(e),t)}var S0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yp=S0&&typeof module=="object"&&module&&!module.nodeType&&module,_4=yp&&yp.exports===S0,bp=_4?zt.Buffer:void 0,wp=bp?bp.allocUnsafe:void 0;function E0(t,e){if(e)return t.slice();var r=t.length,n=wp?wp(r):new t.constructor(r);return t.copy(n),n}function ci(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ll(){return[]}var $4=Object.prototype,k4=$4.propertyIsEnumerable,xp=Object.getOwnPropertySymbols,Ih=xp?function(t){return t==null?[]:(t=Object(t),ci(xp(t),function(e){return k4.call(t,e)}))}:Ll;function S4(t,e){return pn(t,Ih(t),e)}var E4=Object.getOwnPropertySymbols,C0=E4?function(t){for(var e=[];t;)ai(e,Ih(t)),t=Rl(t);return e}:Ll;function C4(t,e){return pn(t,C0(t),e)}function O0(t,e,r){var n=e(t);return Ye(t)?n:ai(n,r(t))}function Zc(t){return O0(t,Bt,Ih)}function Lh(t){return O0(t,cr,C0)}var eu=Si(zt,"DataView"),tu=Si(zt,"Promise"),Qi=Si(zt,"Set"),_p="[object Map]",O4="[object Object]",$p="[object Promise]",kp="[object Set]",Sp="[object WeakMap]",Ep="[object DataView]",A4=ki(eu),M4=ki(es),j4=ki(tu),T4=ki(Qi),P4=ki(Yo),Jt=sr;(eu&&Jt(new eu(new ArrayBuffer(1)))!=Ep||es&&Jt(new es)!=_p||tu&&Jt(tu.resolve())!=$p||Qi&&Jt(new Qi)!=kp||Yo&&Jt(new Yo)!=Sp)&&(Jt=function(t){var e=sr(t),r=e==O4?t.constructor:void 0,n=r?ki(r):"";if(n)switch(n){case A4:return Ep;case M4:return _p;case j4:return $p;case T4:return kp;case P4:return Sp}return e});var R4=Object.prototype,D4=R4.hasOwnProperty;function N4(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&D4.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var il=zt.Uint8Array;function Bh(t){var e=new t.constructor(t.byteLength);return new il(e).set(new il(t)),e}function I4(t,e){var r=e?Bh(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var L4=/\w*$/;function B4(t){var e=new t.constructor(t.source,L4.exec(t));return e.lastIndex=t.lastIndex,e}var Cp=Qt?Qt.prototype:void 0,Op=Cp?Cp.valueOf:void 0;function z4(t){return Op?Object(Op.call(t)):{}}function A0(t,e){var r=e?Bh(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var V4="[object Boolean]",F4="[object Date]",W4="[object Map]",H4="[object Number]",q4="[object RegExp]",U4="[object Set]",K4="[object String]",J4="[object Symbol]",G4="[object ArrayBuffer]",Y4="[object DataView]",X4="[object Float32Array]",Q4="[object Float64Array]",Z4="[object Int8Array]",eE="[object Int16Array]",tE="[object Int32Array]",rE="[object Uint8Array]",nE="[object Uint8ClampedArray]",iE="[object Uint16Array]",oE="[object Uint32Array]";function sE(t,e,r){var n=t.constructor;switch(e){case G4:return Bh(t);case V4:case F4:return new n(+t);case Y4:return I4(t,r);case X4:case Q4:case Z4:case eE:case tE:case rE:case nE:case iE:case oE:return A0(t,r);case W4:return new n;case H4:case K4:return new n(t);case q4:return B4(t);case U4:return new n;case J4:return z4(t)}}function M0(t){return typeof t.constructor=="function"&&!fs(t)?ao(Rl(t)):{}}var aE="[object Map]";function lE(t){return jt(t)&&Jt(t)==aE}var Ap=Pr&&Pr.isMap,zh=Ap?$r(Ap):lE,cE="[object Set]";function uE(t){return jt(t)&&Jt(t)==cE}var Mp=Pr&&Pr.isSet,Vh=Mp?$r(Mp):uE,hE=1,fE=2,dE=4,j0="[object Arguments]",pE="[object Array]",mE="[object Boolean]",gE="[object Date]",vE="[object Error]",T0="[object Function]",yE="[object GeneratorFunction]",bE="[object Map]",wE="[object Number]",P0="[object Object]",xE="[object RegExp]",_E="[object Set]",$E="[object String]",kE="[object Symbol]",SE="[object WeakMap]",EE="[object ArrayBuffer]",CE="[object DataView]",OE="[object Float32Array]",AE="[object Float64Array]",ME="[object Int8Array]",jE="[object Int16Array]",TE="[object Int32Array]",PE="[object Uint8Array]",RE="[object Uint8ClampedArray]",DE="[object Uint16Array]",NE="[object Uint32Array]",_t={};_t[j0]=_t[pE]=_t[EE]=_t[CE]=_t[mE]=_t[gE]=_t[OE]=_t[AE]=_t[ME]=_t[jE]=_t[TE]=_t[bE]=_t[wE]=_t[P0]=_t[xE]=_t[_E]=_t[$E]=_t[kE]=_t[PE]=_t[RE]=_t[DE]=_t[NE]=!0;_t[vE]=_t[T0]=_t[SE]=!1;function Ar(t,e,r,n,i,o){var s,a=e&hE,l=e&fE,c=e&dE;if(r&&(s=i?r(t,n,i,o):r(t)),s!==void 0)return s;if(!Ot(t))return t;var u=Ye(t);if(u){if(s=N4(t),!a)return gr(t,s)}else{var h=Jt(t),f=h==T0||h==yE;if(On(t))return E0(t,a);if(h==P0||h==j0||f&&!i){if(s=l||f?{}:M0(t),!a)return l?C4(t,x4(s,t)):S4(t,k0(s,t))}else{if(!_t[h])return i?t:{};s=sE(t,h,a)}}o||(o=new Kr);var d=o.get(t);if(d)return d;o.set(t,s),Vh(t)?t.forEach(function($){s.add(Ar($,e,r,$,t,o))}):zh(t)&&t.forEach(function($,P){s.set(P,Ar($,e,r,P,t,o))});var g=c?l?Lh:Zc:l?cr:Bt,O=u?void 0:g(t);return Nr(O||t,function($,P){O&&(P=$,$=t[P]),us(s,P,Ar($,e,r,P,t,o))}),s}var IE=4;function R0(t){return Ar(t,IE)}var LE=1,BE=4;function D0(t){return Ar(t,LE|BE)}var zE=1,VE=4;function N0(t,e){return e=typeof e=="function"?e:void 0,Ar(t,zE|VE,e)}var FE=4;function I0(t,e){return e=typeof e=="function"?e:void 0,Ar(t,FE,e)}function ru(){return new Tr(this.value(),this.__chain__)}function L0(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}function B0(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ai(Ye(r)?gr(r):[r],Ut(e,1))}var WE="__lodash_hash_undefined__";function HE(t){return this.__data__.set(t,WE),this}function qE(t){return this.__data__.has(t)}function bi(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Nn;++e<r;)this.add(t[e])}bi.prototype.add=bi.prototype.push=HE;bi.prototype.has=qE;function Fh(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function ts(t,e){return t.has(e)}var UE=1,KE=2;function z0(t,e,r,n,i,o){var s=r&UE,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,d=r&KE?new bi:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var g=t[h],O=e[h];if(n)var $=s?n(O,g,h,e,t,o):n(g,O,h,t,e,o);if($!==void 0){if($)continue;f=!1;break}if(d){if(!Fh(e,function(P,Y){if(!ts(d,Y)&&(g===P||i(g,P,r,n,o)))return d.push(Y)})){f=!1;break}}else if(!(g===O||i(g,O,r,n,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function Wh(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Bl(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var JE=1,GE=2,YE="[object Boolean]",XE="[object Date]",QE="[object Error]",ZE="[object Map]",eC="[object Number]",tC="[object RegExp]",rC="[object Set]",nC="[object String]",iC="[object Symbol]",oC="[object ArrayBuffer]",sC="[object DataView]",jp=Qt?Qt.prototype:void 0,bc=jp?jp.valueOf:void 0;function aC(t,e,r,n,i,o,s){switch(r){case sC:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oC:return!(t.byteLength!=e.byteLength||!o(new il(t),new il(e)));case YE:case XE:case eC:return Ir(+t,+e);case QE:return t.name==e.name&&t.message==e.message;case tC:case nC:return t==e+"";case ZE:var a=Wh;case rC:var l=n&JE;if(a||(a=Bl),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=GE,s.set(t,e);var u=z0(a(t),a(e),n,i,o,s);return s.delete(t),u;case iC:if(bc)return bc.call(t)==bc.call(e)}return!1}var lC=1,cC=Object.prototype,uC=cC.hasOwnProperty;function hC(t,e,r,n,i,o){var s=r&lC,a=Zc(t),l=a.length,c=Zc(e),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:uC.call(e,f)))return!1}var d=o.get(t),g=o.get(e);if(d&&g)return d==e&&g==t;var O=!0;o.set(t,e),o.set(e,t);for(var $=s;++h<l;){f=a[h];var P=t[f],Y=e[f];if(n)var ne=s?n(Y,P,f,e,t,o):n(P,Y,f,t,e,o);if(!(ne===void 0?P===Y||i(P,Y,r,n,o):ne)){O=!1;break}$||($=f=="constructor")}if(O&&!$){var G=t.constructor,X=e.constructor;G!=X&&"constructor"in t&&"constructor"in e&&!(typeof G=="function"&&G instanceof G&&typeof X=="function"&&X instanceof X)&&(O=!1)}return o.delete(t),o.delete(e),O}var fC=1,Tp="[object Arguments]",Pp="[object Array]",da="[object Object]",dC=Object.prototype,Rp=dC.hasOwnProperty;function pC(t,e,r,n,i,o){var s=Ye(t),a=Ye(e),l=s?Pp:Jt(t),c=a?Pp:Jt(e);l=l==Tp?da:l,c=c==Tp?da:c;var u=l==da,h=c==da,f=l==c;if(f&&On(t)){if(!On(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Kr),s||Ei(t)?z0(t,e,r,n,i,o):aC(t,e,l,r,n,i,o);if(!(r&fC)){var d=u&&Rp.call(t,"__wrapped__"),g=h&&Rp.call(e,"__wrapped__");if(d||g){var O=d?t.value():t,$=g?e.value():e;return o||(o=new Kr),i(O,$,r,n,o)}}return f?(o||(o=new Kr),hC(t,e,r,n,i,o)):!1}function ms(t,e,r,n,i){return t===e?!0:t==null||e==null||!jt(t)&&!jt(e)?t!==t&&e!==e:pC(t,e,r,n,ms,i)}var mC=1,gC=2;function Hh(t,e,r,n){var i=r.length,o=i,s=!n;if(t==null)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=r[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var h=new Kr;if(n)var f=n(c,u,l,t,e,h);if(!(f===void 0?ms(u,c,mC|gC,n,h):f))return!1}}return!0}function V0(t){return t===t&&!Ot(t)}function qh(t){for(var e=Bt(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,V0(i)]}return e}function F0(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function W0(t){var e=qh(t);return e.length==1&&e[0][2]?F0(e[0][0],e[0][1]):function(r){return r===t||Hh(r,t,e)}}function vC(t,e){return t!=null&&e in Object(t)}function H0(t,e,r){e=si(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var s=mn(e[n]);if(!(o=t!=null&&r(t,s)))break;t=t[s]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&hs(i)&&Tn(s,i)&&(Ye(t)||Qn(t)))}function zl(t,e){return t!=null&&H0(t,e,vC)}var yC=1,bC=2;function q0(t,e){return Sh(t)&&V0(e)?F0(mn(t),e):function(r){var n=Pl(r,t);return n===void 0&&n===e?zl(r,t):ms(e,n,yC|bC)}}function Uh(t){return function(e){return e?.[t]}}function wC(t){return function(e){return Ci(e,t)}}function Kh(t){return Sh(t)?Uh(mn(t)):wC(t)}function Ge(t){return typeof t=="function"?t:t==null?ar:typeof t=="object"?Ye(t)?q0(t[0],t[1]):W0(t):Kh(t)}var xC="Expected a function";function U0(t){var e=t==null?0:t.length,r=Ge;return t=e?Ct(t,function(n){if(typeof n[1]!="function")throw new TypeError(xC);return[r(n[0]),n[1]]}):[],et(function(n){for(var i=-1;++i<e;){var o=t[i];if(_r(o[0],this,n))return _r(o[1],this,n)}})}function K0(t,e,r){var n=r.length;if(t==null)return!n;for(t=Object(t);n--;){var i=r[n],o=e[i],s=t[i];if(s===void 0&&!(i in t)||!o(s))return!1}return!0}function _C(t){var e=Bt(t);return function(r){return K0(r,t,e)}}var $C=1;function J0(t){return _C(Ar(t,$C))}function G0(t,e){return e==null||K0(t,e,Bt(e))}function kC(t,e,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Y0(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(r(o[l],l,o)===!1)break}return e}}var Jh=Y0();function gn(t,e){return t&&Jh(t,e,Bt)}function X0(t,e){return function(r,n){if(r==null)return r;if(!lr(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var ui=X0(gn);function SC(t,e,r,n){return ui(t,function(i,o,s){e(n,i,r(i),s)}),n}function Vl(t,e){return function(r,n){var i=Ye(r)?kC:SC,o=e?e():{};return i(r,t,Ge(n),o)}}var EC=Object.prototype,CC=EC.hasOwnProperty,Q0=Vl(function(t,e,r){CC.call(t,r)?++t[r]:Rn(t,r,1)});function Z0(t,e){var r=ao(t);return e==null?r:k0(r,e)}var OC=8;function Fl(t,e,r){e=r?void 0:e;var n=Pn(t,OC,void 0,void 0,void 0,void 0,void 0,e);return n.placeholder=Fl.placeholder,n}Fl.placeholder={};var AC=16;function Wl(t,e,r){e=r?void 0:e;var n=Pn(t,AC,void 0,void 0,void 0,void 0,void 0,e);return n.placeholder=Wl.placeholder,n}Wl.placeholder={};var qo=function(){return zt.Date.now()},MC="Expected a function",jC=Math.max,TC=Math.min;function Gh(t,e,r){var n,i,o,s,a,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(MC);e=wr(e)||0,Ot(r)&&(u=!!r.leading,h="maxWait"in r,o=h?jC(wr(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function d(se){var Z=n,le=i;return n=i=void 0,c=se,s=t.apply(le,Z),s}function g(se){return c=se,a=setTimeout(P,e),u?d(se):s}function O(se){var Z=se-l,le=se-c,$e=e-Z;return h?TC($e,o-le):$e}function $(se){var Z=se-l,le=se-c;return l===void 0||Z>=e||Z<0||h&&le>=o}function P(){var se=qo();if($(se))return Y(se);a=setTimeout(P,O(se))}function Y(se){return a=void 0,f&&n?d(se):(n=i=void 0,s)}function ne(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function G(){return a===void 0?s:Y(qo())}function X(){var se=qo(),Z=$(se);if(n=arguments,i=this,l=se,Z){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(P,e),d(l)}return a===void 0&&(a=setTimeout(P,e)),s}return X.cancel=ne,X.flush=G,X}function ev(t,e){return t==null||t!==t?e:t}var tv=Object.prototype,PC=tv.hasOwnProperty,rv=et(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&ir(e[0],e[1],i)&&(n=1);++r<n;)for(var o=e[r],s=cr(o),a=-1,l=s.length;++a<l;){var c=s[a],u=t[c];(u===void 0||Ir(u,tv[c])&&!PC.call(t,c))&&(t[c]=o[c])}return t});function nu(t,e,r){(r!==void 0&&!Ir(t[e],r)||r===void 0&&!(e in t))&&Rn(t,e,r)}function Pt(t){return jt(t)&&lr(t)}function iu(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Yh(t){return pn(t,cr(t))}function RC(t,e,r,n,i,o,s){var a=iu(t,r),l=iu(e,r),c=s.get(l);if(c){nu(t,r,c);return}var u=o?o(a,l,r+"",t,e,s):void 0,h=u===void 0;if(h){var f=Ye(l),d=!f&&On(l),g=!f&&!d&&Ei(l);u=l,f||d||g?Ye(a)?u=a:Pt(a)?u=gr(a):d?(h=!1,u=E0(l,!0)):g?(h=!1,u=A0(l,!0)):u=[]:ho(l)||Qn(l)?(u=a,Qn(a)?u=Yh(a):(!Ot(a)||dn(a))&&(u=M0(l))):h=!1}h&&(s.set(l,u),i(u,l,n,o,s),s.delete(l)),nu(t,r,u)}function Hl(t,e,r,n,i){t!==e&&Jh(e,function(o,s){if(i||(i=new Kr),Ot(o))RC(t,e,s,r,Hl,n,i);else{var a=n?n(iu(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),nu(t,s,a)}},cr)}function nv(t,e,r,n,i,o){return Ot(t)&&Ot(e)&&(o.set(e,t),Hl(t,e,void 0,nv,o),o.delete(e)),t}var Xh=uo(function(t,e,r,n){Hl(t,e,r,n)}),iv=et(function(t){return t.push(void 0,nv),_r(Xh,void 0,t)}),DC="Expected a function";function ov(t,e,r){if(typeof t!="function")throw new TypeError(DC);return setTimeout(function(){t.apply(void 0,r)},e)}var sv=et(function(t,e){return ov(t,1,e)}),av=et(function(t,e,r){return ov(t,wr(e)||0,r)});function Qh(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var NC=200;function gs(t,e,r,n){var i=-1,o=Ol,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=Ct(e,$r(r))),n?(o=Qh,s=!1):e.length>=NC&&(o=ts,s=!1,e=new bi(e));e:for(;++i<a;){var u=t[i],h=r==null?u:r(u);if(u=n||u!==0?u:0,s&&h===h){for(var f=c;f--;)if(e[f]===h)continue e;l.push(u)}else o(e,h,n)||l.push(u)}return l}var lv=et(function(t,e){return Pt(t)?gs(t,Ut(e,1,Pt,!0)):[]});function kr(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var cv=et(function(t,e){var r=kr(e);return Pt(r)&&(r=void 0),Pt(t)?gs(t,Ut(e,1,Pt,!0),Ge(r)):[]}),uv=et(function(t,e){var r=kr(e);return Pt(r)&&(r=void 0),Pt(t)?gs(t,Ut(e,1,Pt,!0),void 0,r):[]}),hv=$l(function(t,e){return t/e},1);function fv(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Ze(e),Rr(t,e<0?0:e,n)):[]}function dv(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Ze(e),e=n-e,Rr(t,0,e<0?0:e)):[]}function ql(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Rr(t,n?0:o,n?o+1:i):Rr(t,n?o+1:0,n?i:o)}function pv(t,e){return t&&t.length?ql(t,Ge(e),!0,!0):[]}function mv(t,e){return t&&t.length?ql(t,Ge(e),!0):[]}function vn(t){return typeof t=="function"?t:ar}function ou(t,e){var r=Ye(t)?Nr:ui;return r(t,vn(e))}function IC(t,e){for(var r=t==null?0:t.length;r--&&e(t[r],r,t)!==!1;);return t}var gv=Y0(!0);function Zh(t,e){return t&&gv(t,e,Bt)}var vv=X0(Zh,!0);function su(t,e){var r=Ye(t)?IC:vv;return r(t,vn(e))}function yv(t,e,r){t=ut(t),e=xr(e);var n=t.length;r=r===void 0?n:Oi(Ze(r),0,n);var i=r;return r-=e.length,r>=0&&t.slice(r,i)==e}function LC(t,e){return Ct(e,function(r){return[r,t[r]]})}function BC(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=[n,n]}),r}var zC="[object Map]",VC="[object Set]";function bv(t){return function(e){var r=Jt(e);return r==zC?Wh(e):r==VC?BC(e):LC(e,t(e))}}var au=bv(Bt),lu=bv(cr),FC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},WC=Th(FC),wv=/[&<>"']/g,HC=RegExp(wv.source);function ef(t){return t=ut(t),t&&HC.test(t)?t.replace(wv,WC):t}var xv=/[\\^$.*+?()[\]{}|]/g,qC=RegExp(xv.source);function _v(t){return t=ut(t),t&&qC.test(t)?t.replace(xv,"\\$&"):t}function $v(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function UC(t,e){var r=!0;return ui(t,function(n,i,o){return r=!!e(n,i,o),r}),r}function kv(t,e,r){var n=Ye(t)?$v:UC;return r&&ir(t,e,r)&&(e=void 0),n(t,Ge(e))}var KC=4294967295;function tf(t){return t?Oi(Ze(t),0,KC):0}function JC(t,e,r,n){var i=t.length;for(r=Ze(r),r<0&&(r=-r>i?0:i+r),n=n===void 0||n>i?i:Ze(n),n<0&&(n+=i),n=r>n?0:tf(n);r<n;)t[r++]=e;return t}function Sv(t,e,r,n){var i=t==null?0:t.length;return i?(r&&typeof r!="number"&&ir(t,e,r)&&(r=0,n=i),JC(t,e,r,n)):[]}function Ev(t,e){var r=[];return ui(t,function(n,i,o){e(n,i,o)&&r.push(n)}),r}function Cv(t,e){var r=Ye(t)?ci:Ev;return r(t,Ge(e))}function Ov(t){return function(e,r,n){var i=Object(e);if(!lr(e)){var o=Ge(r);e=Bt(e),r=function(a){return o(i[a],a,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:void 0}}var GC=Math.max;function rf(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Ze(r);return i<0&&(i=GC(n+i,0)),Cl(t,Ge(e),i)}var Av=Ov(rf);function Mv(t,e,r){var n;return r(t,function(i,o,s){if(e(i,o,s))return n=o,!1}),n}function jv(t,e){return Mv(t,Ge(e),gn)}var YC=Math.max,XC=Math.min;function nf(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=n-1;return r!==void 0&&(i=Ze(r),i=r<0?YC(n+i,0):XC(i,n-1)),Cl(t,Ge(e),i,!0)}var Tv=Ov(nf);function Pv(t,e){return Mv(t,Ge(e),Zh)}function cu(t){return t&&t.length?t[0]:void 0}function Rv(t,e){var r=-1,n=lr(t)?Array(t.length):[];return ui(t,function(i,o,s){n[++r]=e(i,o,s)}),n}function vs(t,e){var r=Ye(t)?Ct:Rv;return r(t,Ge(e))}function Dv(t,e){return Ut(vs(t,e),1)}var QC=1/0;function Nv(t,e){return Ut(vs(t,e),QC)}function Iv(t,e,r){return r=r===void 0?1:Ze(r),Ut(vs(t,e),r)}var ZC=1/0;function Lv(t){var e=t==null?0:t.length;return e?Ut(t,ZC):[]}function Bv(t,e){var r=t==null?0:t.length;return r?(e=e===void 0?1:Ze(e),Ut(t,e)):[]}var e5=512;function zv(t){return Pn(t,e5)}var Vv=Dh("floor"),t5="Expected a function",r5=8,n5=32,i5=128,o5=256;function Fv(t){return In(function(e){var r=e.length,n=r,i=Tr.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if(typeof o!="function")throw new TypeError(t5);if(i&&!s&&Wa(o)=="wrapper")var s=new Tr([],!0)}for(n=s?n:r;++n<r;){o=e[n];var a=Wa(o),l=a=="wrapper"?wh(o):void 0;l&&Gc(l[0])&&l[1]==(i5|r5|n5|o5)&&!l[4].length&&l[9]==1?s=s[Wa(l[0])].apply(s,l[3]):s=o.length==1&&Gc(o)?s[a]():s.thru(o)}return function(){var c=arguments,u=c[0];if(s&&c.length==1&&Ye(u))return s.plant(u).value();for(var h=0,f=r?e[h].apply(this,c):u;++h<r;)f=e[h].call(this,f);return f}})}var Wv=Fv(),Hv=Fv(!0);function qv(t,e){return t==null?t:Jh(t,vn(e),cr)}function Uv(t,e){return t==null?t:gv(t,vn(e),cr)}function Kv(t,e){return t&&gn(t,vn(e))}function Jv(t,e){return t&&Zh(t,vn(e))}function Gv(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function Ul(t,e){return ci(e,function(r){return dn(t[r])})}function Yv(t){return t==null?[]:Ul(t,Bt(t))}function Xv(t){return t==null?[]:Ul(t,cr(t))}var s5=Object.prototype,a5=s5.hasOwnProperty,Qv=Vl(function(t,e,r){a5.call(t,r)?t[r].push(e):Rn(t,r,[e])});function of(t,e){return t>e}function Kl(t){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=wr(e),r=wr(r)),t(e,r)}}var Zv=Kl(of),e1=Kl(function(t,e){return t>=e}),l5=Object.prototype,c5=l5.hasOwnProperty;function u5(t,e){return t!=null&&c5.call(t,e)}function t1(t,e){return t!=null&&H0(t,e,u5)}var h5=Math.max,f5=Math.min;function d5(t,e,r){return t>=f5(e,r)&&t<h5(e,r)}function r1(t,e,r){return e=cn(e),r===void 0?(r=e,e=0):r=cn(r),t=wr(t),d5(t,e,r)}var p5="[object String]";function ys(t){return typeof t=="string"||!Ye(t)&&jt(t)&&sr(t)==p5}function sf(t,e){return Ct(e,function(r){return t[r]})}function Ai(t){return t==null?[]:sf(t,Bt(t))}var m5=Math.max;function n1(t,e,r,n){t=lr(t)?t:Ai(t),r=r&&!n?Ze(r):0;var i=t.length;return r<0&&(r=m5(i+r,0)),ys(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&lo(t,e,r)>-1}var g5=Math.max;function i1(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Ze(r);return i<0&&(i=g5(n+i,0)),lo(t,e,i)}function o1(t){var e=t==null?0:t.length;return e?Rr(t,0,-1):[]}var v5=Math.min;function af(t,e,r){for(var n=r?Qh:Ol,i=t[0].length,o=t.length,s=o,a=Array(o),l=1/0,c=[];s--;){var u=t[s];s&&e&&(u=Ct(u,$r(e))),l=v5(u.length,l),a[s]=!r&&(e||i>=120&&u.length>=120)?new bi(s&&u):void 0}u=t[0];var h=-1,f=a[0];e:for(;++h<i&&c.length<l;){var d=u[h],g=e?e(d):d;if(d=r||d!==0?d:0,!(f?ts(f,g):n(c,g,r))){for(s=o;--s;){var O=a[s];if(!(O?ts(O,g):n(t[s],g,r)))continue e}f&&f.push(g),c.push(d)}}return c}function lf(t){return Pt(t)?t:[]}var s1=et(function(t){var e=Ct(t,lf);return e.length&&e[0]===t[0]?af(e):[]}),a1=et(function(t){var e=kr(t),r=Ct(t,lf);return e===kr(r)?e=void 0:r.pop(),r.length&&r[0]===t[0]?af(r,Ge(e)):[]}),l1=et(function(t){var e=kr(t),r=Ct(t,lf);return e=typeof e=="function"?e:void 0,e&&r.pop(),r.length&&r[0]===t[0]?af(r,void 0,e):[]});function y5(t,e,r,n){return gn(t,function(i,o,s){e(n,r(i),o,s)}),n}function c1(t,e){return function(r,n){return y5(r,t,e(n),{})}}var b5=Object.prototype,w5=b5.toString,u1=c1(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=w5.call(e)),t[e]=r},El(ar)),h1=Object.prototype,x5=h1.hasOwnProperty,_5=h1.toString,f1=c1(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=_5.call(e)),x5.call(t,e)?t[e].push(r):t[e]=[r]},Ge);function d1(t,e){return e.length<2?t:Ci(t,Rr(e,0,-1))}function bs(t,e,r){e=si(e,t),t=d1(t,e);var n=t==null?t:t[mn(kr(e))];return n==null?void 0:_r(n,t,r)}var p1=et(bs),m1=et(function(t,e,r){var n=-1,i=typeof e=="function",o=lr(t)?Array(t.length):[];return ui(t,function(s){o[++n]=i?_r(e,s,r):bs(s,e,r)}),o}),$5="[object ArrayBuffer]";function k5(t){return jt(t)&&sr(t)==$5}var Dp=Pr&&Pr.isArrayBuffer,g1=Dp?$r(Dp):k5,S5="[object Boolean]";function v1(t){return t===!0||t===!1||jt(t)&&sr(t)==S5}var E5="[object Date]";function C5(t){return jt(t)&&sr(t)==E5}var Np=Pr&&Pr.isDate,y1=Np?$r(Np):C5;function b1(t){return jt(t)&&t.nodeType===1&&!ho(t)}var O5="[object Map]",A5="[object Set]",M5=Object.prototype,j5=M5.hasOwnProperty;function w1(t){if(t==null)return!0;if(lr(t)&&(Ye(t)||typeof t=="string"||typeof t.splice=="function"||On(t)||Ei(t)||Qn(t)))return!t.length;var e=Jt(t);if(e==O5||e==A5)return!t.size;if(fs(t))return!kh(t).length;for(var r in t)if(j5.call(t,r))return!1;return!0}function x1(t,e){return ms(t,e)}function _1(t,e,r){r=typeof r=="function"?r:void 0;var n=r?r(t,e):void 0;return n===void 0?ms(t,e,void 0,r):!!n}var T5=zt.isFinite;function $1(t){return typeof t=="number"&&T5(t)}function cf(t){return typeof t=="number"&&t==Ze(t)}function k1(t,e){return t===e||Hh(t,e,qh(e))}function S1(t,e,r){return r=typeof r=="function"?r:void 0,Hh(t,e,qh(e),r)}var P5="[object Number]";function uf(t){return typeof t=="number"||jt(t)&&sr(t)==P5}function E1(t){return uf(t)&&t!=+t}var R5=Fa?dn:Ml,D5="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function C1(t){if(R5(t))throw new Error(D5);return jg(t)}function O1(t){return t==null}function A1(t){return t===null}var N5="[object RegExp]";function I5(t){return jt(t)&&sr(t)==N5}var Ip=Pr&&Pr.isRegExp,Jl=Ip?$r(Ip):I5,L5=9007199254740991;function M1(t){return cf(t)&&t>=-9007199254740991&&t<=L5}function j1(t){return t===void 0}var B5="[object WeakMap]";function T1(t){return jt(t)&&Jt(t)==B5}var z5="[object WeakSet]";function P1(t){return jt(t)&&sr(t)==z5}var V5=1;function R1(t){return Ge(typeof t=="function"?t:Ar(t,V5))}var F5=Array.prototype,W5=F5.join;function D1(t,e){return t==null?"":W5.call(t,e)}var N1=po(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),I1=Vl(function(t,e,r){Rn(t,r,e)});function H5(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}var q5=Math.max,U5=Math.min;function L1(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=n;return r!==void 0&&(i=Ze(r),i=i<0?q5(n+i,0):U5(i,n-1)),e===e?H5(t,e,i):Cl(t,Lg,i,!0)}var B1=po(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),z1=o0("toLowerCase");function hf(t,e){return t<e}var V1=Kl(hf),F1=Kl(function(t,e){return t<=e});function W1(t,e){var r={};return e=Ge(e),gn(t,function(n,i,o){Rn(r,e(n,i,o),n)}),r}function H1(t,e){var r={};return e=Ge(e),gn(t,function(n,i,o){Rn(r,i,e(n,i,o))}),r}var K5=1;function q1(t){return W0(Ar(t,K5))}var J5=1;function U1(t,e){return q0(t,Ar(e,J5))}function Gl(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],s=e(o);if(s!=null&&(a===void 0?s===s&&!vr(s):r(s,a)))var a=s,l=o}return l}function K1(t){return t&&t.length?Gl(t,ar,of):void 0}function J1(t,e){return t&&t.length?Gl(t,Ge(e),of):void 0}function ff(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);o!==void 0&&(r=r===void 0?o:r+o)}return r}var G5=NaN;function G1(t,e){var r=t==null?0:t.length;return r?ff(t,e)/r:G5}function Y1(t){return G1(t,ar)}function X1(t,e){return G1(t,Ge(e))}var Q1=uo(function(t,e,r){Hl(t,e,r)}),Z1=et(function(t,e){return function(r){return bs(r,t,e)}}),ey=et(function(t,e){return function(r){return bs(t,r,e)}});function ty(t){return t&&t.length?Gl(t,ar,hf):void 0}function ry(t,e){return t&&t.length?Gl(t,Ge(e),hf):void 0}function ny(t,e,r){var n=Bt(e),i=Ul(e,n),o=!(Ot(r)&&"chain"in r)||!!r.chain,s=dn(t);return Nr(i,function(a){var l=e[a];t[a]=l,s&&(t.prototype[a]=function(){var c=this.__chain__;if(o||c){var u=t(this.__wrapped__),h=u.__actions__=gr(this.__actions__);return h.push({func:l,args:arguments,thisArg:t}),u.__chain__=c,u}return l.apply(t,ai([this.value()],arguments))})}),t}var iy=$l(function(t,e){return t*e},1),Y5="Expected a function";function ws(t){if(typeof t!="function")throw new TypeError(Y5);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function X5(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}var Q5="[object Map]",Z5="[object Set]",wc=Qt?Qt.iterator:void 0;function df(t){if(!t)return[];if(lr(t))return ys(t)?Jr(t):gr(t);if(wc&&t[wc])return X5(t[wc]());var e=Jt(t),r=e==Q5?Wh:e==Z5?Bl:Ai;return r(t)}function uu(){this.__values__===void 0&&(this.__values__=df(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function oy(t,e){var r=t.length;if(r)return e+=e<0?r:0,Tn(e,r)?t[e]:void 0}function sy(t,e){return t&&t.length?oy(t,Ze(e)):void 0}function ay(t){return t=Ze(t),et(function(e){return oy(e,t)})}function pf(t,e){return e=si(e,t),t=d1(t,e),t==null||delete t[mn(kr(e))]}function eO(t){return ho(t)?void 0:t}var tO=1,rO=2,nO=4,ly=In(function(t,e){var r={};if(t==null)return r;var n=!1;e=Ct(e,function(o){return o=si(o,t),n||(n=o.length>1),o}),pn(t,Lh(t),r),n&&(r=Ar(r,tO|rO|nO,eO));for(var i=e.length;i--;)pf(r,e[i]);return r});function xs(t,e,r,n){if(!Ot(t))return t;e=si(e,t);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var l=mn(e[i]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var u=a[l];c=n?n(u,l,a):void 0,c===void 0&&(c=Ot(u)?u:Tn(e[i+1])?[]:{})}us(a,l,c),a=a[l]}return t}function cy(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Ci(t,s);r(a,s)&&xs(o,si(s,t),a)}return o}function mf(t,e){if(t==null)return{};var r=Ct(Lh(t),function(n){return[n]});return e=Ge(e),cy(t,r,function(n,i){return e(n,i[0])})}function uy(t,e){return mf(t,ws(Ge(e)))}function hy(t){return Ah(2,t)}function iO(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function fy(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=vr(t),s=e!==void 0,a=e===null,l=e===e,c=vr(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}function oO(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var l=fy(i[n],o[n]);if(l){if(n>=a)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}function dy(t,e,r){e.length?e=Ct(e,function(o){return Ye(o)?function(s){return Ci(s,o.length===1?o[0]:o)}:o}):e=[ar];var n=-1;e=Ct(e,$r(Ge));var i=Rv(t,function(o,s,a){var l=Ct(e,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return iO(i,function(o,s){return oO(o,s,r)})}function py(t,e,r,n){return t==null?[]:(Ye(e)||(e=e==null?[]:[e]),r=n?void 0:r,Ye(r)||(r=r==null?[]:[r]),dy(t,e,r))}function gf(t){return In(function(e){return e=Ct(e,$r(Ge)),et(function(r){var n=this;return t(e,function(i){return _r(i,n,r)})})})}var my=gf(Ct),sO=et,aO=Math.min,gy=sO(function(t,e){e=e.length==1&&Ye(e[0])?Ct(e[0],$r(Ge)):Ct(Ut(e,1),$r(Ge));var r=e.length;return et(function(n){for(var i=-1,o=aO(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return _r(t,this,n)})}),vy=gf($v),yy=gf(Fh),lO=9007199254740991,cO=Math.floor;function hu(t,e){var r="";if(!t||e<1||e>lO)return r;do e%2&&(r+=t),e=cO(e/2),e&&(t+=t);while(e);return r}var uO=Uh("length"),by="\\ud800-\\udfff",hO="\\u0300-\\u036f",fO="\\ufe20-\\ufe2f",dO="\\u20d0-\\u20ff",pO=hO+fO+dO,mO="\\ufe0e\\ufe0f",gO="["+by+"]",fu="["+pO+"]",du="\\ud83c[\\udffb-\\udfff]",vO="(?:"+fu+"|"+du+")",wy="[^"+by+"]",xy="(?:\\ud83c[\\udde6-\\uddff]){2}",_y="[\\ud800-\\udbff][\\udc00-\\udfff]",yO="\\u200d",$y=vO+"?",ky="["+mO+"]?",bO="(?:"+yO+"(?:"+[wy,xy,_y].join("|")+")"+ky+$y+")*",wO=ky+$y+bO,xO="(?:"+[wy+fu+"?",fu,xy,_y,gO].join("|")+")",Lp=RegExp(du+"(?="+du+")|"+xO+wO,"g");function _O(t){for(var e=Lp.lastIndex=0;Lp.test(t);)++e;return e}function mo(t){return fo(t)?_O(t):uO(t)}var $O=Math.ceil;function ol(t,e){e=e===void 0?" ":xr(e);var r=e.length;if(r<2)return r?hu(e,t):e;var n=hu(e,$O(t/mo(e)));return fo(e)?li(Jr(n),0,t).join(""):n.slice(0,t)}var kO=Math.ceil,SO=Math.floor;function Sy(t,e,r){t=ut(t),e=Ze(e);var n=e?mo(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return ol(SO(i),r)+t+ol(kO(i),r)}function Ey(t,e,r){t=ut(t),e=Ze(e);var n=e?mo(t):0;return e&&n<e?t+ol(e-n,r):t}function Cy(t,e,r){t=ut(t),e=Ze(e);var n=e?mo(t):0;return e&&n<e?ol(e-n,r)+t:t}var EO=/^\s+/,CO=zt.parseInt;function Oy(t,e,r){return r||e==null?e=0:e&&(e=+e),CO(ut(t).replace(EO,""),e||0)}var OO=32,_s=et(function(t,e){var r=Xn(e,co(_s));return Pn(t,OO,void 0,e,r)});_s.placeholder={};var AO=64,Yl=et(function(t,e){var r=Xn(e,co(Yl));return Pn(t,AO,void 0,e,r)});Yl.placeholder={};var Ay=Vl(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});function MO(t,e){return cy(t,e,function(r,n){return zl(t,n)})}var My=In(function(t,e){return t==null?{}:MO(t,e)});function pu(t){for(var e,r=this;r instanceof kl;){var n=Dg(r);n.__index__=0,n.__values__=void 0,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e}function jy(t){return function(e){return t==null?void 0:Ci(t,e)}}function jO(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}var TO=Array.prototype,Bp=TO.splice;function vf(t,e,r,n){var i=n?jO:lo,o=-1,s=e.length,a=t;for(t===e&&(e=gr(e)),r&&(a=Ct(t,$r(r)));++o<s;)for(var l=0,c=e[o],u=r?r(c):c;(l=i(a,u,l,n))>-1;)a!==t&&Bp.call(a,l,1),Bp.call(t,l,1);return t}function yf(t,e){return t&&t.length&&e&&e.length?vf(t,e):t}var Ty=et(yf);function Py(t,e,r){return t&&t.length&&e&&e.length?vf(t,e,Ge(r)):t}function Ry(t,e,r){return t&&t.length&&e&&e.length?vf(t,e,void 0,r):t}var PO=Array.prototype,RO=PO.splice;function Dy(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;Tn(i)?RO.call(t,i,1):pf(t,i)}}return t}var Ny=In(function(t,e){var r=t==null?0:t.length,n=Eh(t,e);return Dy(t,Ct(e,function(i){return Tn(i,r)?+i:i}).sort(fy)),n}),DO=Math.floor,NO=Math.random;function bf(t,e){return t+DO(NO()*(e-t+1))}var IO=parseFloat,LO=Math.min,BO=Math.random;function Iy(t,e,r){if(r&&typeof r!="boolean"&&ir(t,e,r)&&(e=r=void 0),r===void 0&&(typeof e=="boolean"?(r=e,e=void 0):typeof t=="boolean"&&(r=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=cn(t),e===void 0?(e=t,t=0):e=cn(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=BO();return LO(t+i*(e-t+IO("1e-"+((i+"").length-1))),e)}return bf(t,e)}var zO=Math.ceil,VO=Math.max;function FO(t,e,r,n){for(var i=-1,o=VO(zO((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}function Ly(t){return function(e,r,n){return n&&typeof n!="number"&&ir(e,r,n)&&(r=n=void 0),e=cn(e),r===void 0?(r=e,e=0):r=cn(r),n=n===void 0?e<r?1:-1:cn(n),FO(e,r,n,t)}}var By=Ly(),zy=Ly(!0),WO=256,Vy=In(function(t,e){return Pn(t,WO,void 0,void 0,void 0,e)});function Fy(t,e,r,n,i){return i(t,function(o,s,a){r=n?(n=!1,o):e(r,o,s,a)}),r}function Wy(t,e,r){var n=Ye(t)?jh:Fy,i=arguments.length<3;return n(t,Ge(e),r,i,ui)}function HO(t,e,r,n){var i=t==null?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Hy(t,e,r){var n=Ye(t)?HO:Fy,i=arguments.length<3;return n(t,Ge(e),r,i,vv)}function qy(t,e){var r=Ye(t)?ci:Ev;return r(t,ws(Ge(e)))}function Uy(t,e){var r=[];if(!(t&&t.length))return r;var n=-1,i=[],o=t.length;for(e=Ge(e);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Dy(t,i),r}function Ky(t,e,r){return(r?ir(t,e,r):e===void 0)?e=1:e=Ze(e),hu(ut(t),e)}function Jy(){var t=arguments,e=ut(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var qO="Expected a function";function Gy(t,e){if(typeof t!="function")throw new TypeError(qO);return e=e===void 0?e:Ze(e),et(t,e)}function Yy(t,e,r){e=si(e,t);var n=-1,i=e.length;for(i||(i=1,t=void 0);++n<i;){var o=t?.[mn(e[n])];o===void 0&&(n=i,o=r),t=dn(o)?o.call(t):o}return t}var UO=Array.prototype,KO=UO.reverse;function sl(t){return t==null?t:KO.call(t)}var Xy=Dh("round");function Qy(t){var e=t.length;return e?t[bf(0,e-1)]:void 0}function JO(t){return Qy(Ai(t))}function Zy(t){var e=Ye(t)?Qy:JO;return e(t)}function Xl(t,e){var r=-1,n=t.length,i=n-1;for(e=e===void 0?n:e;++r<e;){var o=bf(r,i),s=t[o];t[o]=t[r],t[r]=s}return t.length=e,t}function GO(t,e){return Xl(gr(t),Oi(e,0,t.length))}function YO(t,e){var r=Ai(t);return Xl(r,Oi(e,0,r.length))}function eb(t,e,r){(r?ir(t,e,r):e===void 0)?e=1:e=Ze(e);var n=Ye(t)?GO:YO;return n(t,e)}function tb(t,e,r){return t==null?t:xs(t,e,r)}function rb(t,e,r,n){return n=typeof n=="function"?n:void 0,t==null?t:xs(t,e,r,n)}function XO(t){return Xl(gr(t))}function QO(t){return Xl(Ai(t))}function nb(t){var e=Ye(t)?XO:QO;return e(t)}var ZO="[object Map]",eA="[object Set]";function ib(t){if(t==null)return 0;if(lr(t))return ys(t)?mo(t):t.length;var e=Jt(t);return e==ZO||e==eA?t.size:kh(t).length}function ob(t,e,r){var n=t==null?0:t.length;return n?(r&&typeof r!="number"&&ir(t,e,r)?(e=0,r=n):(e=e==null?0:Ze(e),r=r===void 0?n:Ze(r)),Rr(t,e,r)):[]}var sb=po(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});function tA(t,e){var r;return ui(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}function ab(t,e,r){var n=Ye(t)?Fh:tA;return r&&ir(t,e,r)&&(e=void 0),n(t,Ge(e))}var lb=et(function(t,e){if(t==null)return[];var r=e.length;return r>1&&ir(t,e[0],e[1])?e=[]:r>2&&ir(e[0],e[1],e[2])&&(e=[e[0]]),dy(t,Ut(e,1),[])}),rA=4294967295,nA=rA-1,iA=Math.floor,oA=Math.min;function wf(t,e,r,n){var i=0,o=t==null?0:t.length;if(o===0)return 0;e=r(e);for(var s=e!==e,a=e===null,l=vr(e),c=e===void 0;i<o;){var u=iA((i+o)/2),h=r(t[u]),f=h!==void 0,d=h===null,g=h===h,O=vr(h);if(s)var $=n||g;else c?$=g&&(n||f):a?$=g&&f&&(n||!d):l?$=g&&f&&!d&&(n||!O):d||O?$=!1:$=n?h<=e:h<e;$?i=u+1:o=u}return oA(o,nA)}var sA=4294967295,aA=sA>>>1;function Ql(t,e,r){var n=0,i=t==null?n:t.length;if(typeof e=="number"&&e===e&&i<=aA){for(;n<i;){var o=n+i>>>1,s=t[o];s!==null&&!vr(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return wf(t,e,ar,r)}function cb(t,e){return Ql(t,e)}function ub(t,e,r){return wf(t,e,Ge(r))}function hb(t,e){var r=t==null?0:t.length;if(r){var n=Ql(t,e);if(n<r&&Ir(t[n],e))return n}return-1}function fb(t,e){return Ql(t,e,!0)}function db(t,e,r){return wf(t,e,Ge(r),!0)}function pb(t,e){var r=t==null?0:t.length;if(r){var n=Ql(t,e,!0)-1;if(Ir(t[n],e))return n}return-1}function mb(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Ir(a,l)){var l=a;o[i++]=s===0?0:s}}return o}function gb(t){return t&&t.length?mb(t):[]}function vb(t,e){return t&&t.length?mb(t,Ge(e)):[]}var lA=4294967295;function yb(t,e,r){return r&&typeof r!="number"&&ir(t,e,r)&&(e=r=void 0),r=r===void 0?lA:r>>>0,r?(t=ut(t),t&&(typeof e=="string"||e!=null&&!Jl(e))&&(e=xr(e),!e&&fo(t))?li(Jr(t),0,r):t.split(e,r)):[]}var cA="Expected a function",uA=Math.max;function bb(t,e){if(typeof t!="function")throw new TypeError(cA);return e=e==null?0:uA(Ze(e),0),et(function(r){var n=r[e],i=li(r,0,e);return n&&ai(i,n),_r(t,this,i)})}var wb=po(function(t,e,r){return t+(r?" ":"")+Il(e)});function xb(t,e,r){return t=ut(t),r=r==null?0:Oi(Ze(r),0,t.length),e=xr(e),t.slice(r,r+e.length)==e}function _b(){return{}}function $b(){return""}function kb(){return!0}var Sb=$l(function(t,e){return t-e},0);function Eb(t){return t&&t.length?ff(t,ar):0}function Cb(t,e){return t&&t.length?ff(t,Ge(e)):0}function Ob(t){var e=t==null?0:t.length;return e?Rr(t,1,e):[]}function Ab(t,e,r){return t&&t.length?(e=r||e===void 0?1:Ze(e),Rr(t,0,e<0?0:e)):[]}function Mb(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Ze(e),e=n-e,Rr(t,e<0?0:e,n)):[]}function jb(t,e){return t&&t.length?ql(t,Ge(e),!1,!0):[]}function Tb(t,e){return t&&t.length?ql(t,Ge(e)):[]}function Pb(t,e){return e(t),t}var Rb=Object.prototype,hA=Rb.hasOwnProperty;function zp(t,e,r,n){return t===void 0||Ir(t,Rb[r])&&!hA.call(n,r)?e:t}var fA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function dA(t){return"\\"+fA[t]}var Db=/<%=([\s\S]+?)%>/g,pA=/<%-([\s\S]+?)%>/g,mA=/<%([\s\S]+?)%>/g,al={escape:pA,evaluate:mA,interpolate:Db,variable:"",imports:{_:{escape:ef}}},gA="Invalid `variable` option passed into `_.template`",vA=/\b__p \+= '';/g,yA=/\b(__p \+=) '' \+/g,bA=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wA=/[()=,{}\[\]\/\s]/,xA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pa=/($^)/,_A=/['\n\r\u2028\u2029\\]/g,$A=Object.prototype,Vp=$A.hasOwnProperty;function Nb(t,e,r){var n=al.imports._.templateSettings||al;r&&ir(t,e,r)&&(e=void 0),t=ut(t),e=Qo({},e,n,zp);var i=Qo({},e.imports,n.imports,zp),o=Bt(i),s=sf(i,o),a,l,c=0,u=e.interpolate||pa,h="__p += '",f=RegExp((e.escape||pa).source+"|"+u.source+"|"+(u===Db?xA:pa).source+"|"+(e.evaluate||pa).source+"|$","g"),d=Vp.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(f,function($,P,Y,ne,G,X){return Y||(Y=ne),h+=t.slice(c,X).replace(_A,dA),P&&(a=!0,h+=`' +
__e(`+P+`) +
'`),G&&(l=!0,h+=`';
`+G+`;
__p += '`),Y&&(h+=`' +
((__t = (`+Y+`)) == null ? '' : __t) +
'`),c=X+$.length,$}),h+=`';
`;var g=Vp.call(e,"variable")&&e.variable;if(!g)h=`with (obj) {
`+h+`
}
`;else if(wA.test(g))throw new Error(gA);h=(l?h.replace(vA,""):h).replace(yA,"$1").replace(bA,"$1;"),h="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var O=Oh(function(){return Function(o,d+"return "+h).apply(void 0,s)});if(O.source=h,Dl(O))throw O;return O}var kA="Expected a function";function Ib(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(kA);return Ot(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Gh(t,e,{leading:n,maxWait:e,trailing:i})}function $s(t,e){return e(t)}var SA=9007199254740991,xc=4294967295,EA=Math.min;function Lb(t,e){if(t=Ze(t),t<1||t>SA)return[];var r=xc,n=EA(t,xc);e=vn(e),t-=xc;for(var i=$h(n,e);++r<t;)e(r);return i}function mu(){return this}function Bb(t,e){var r=t;return r instanceof it&&(r=r.value()),jh(e,function(n,i){return i.func.apply(i.thisArg,ai([n],i.args))},r)}function Io(){return Bb(this.__wrapped__,this.__actions__)}function zb(t){return ut(t).toLowerCase()}function Vb(t){return Ye(t)?Ct(t,mn):vr(t)?[t]:gr(Gg(ut(t)))}var CA=9007199254740991;function Fb(t){return t?Oi(Ze(t),-9007199254740991,CA):t===0?t:0}function Wb(t){return ut(t).toUpperCase()}function Hb(t,e,r){var n=Ye(t),i=n||On(t)||Ei(t);if(e=Ge(e),r==null){var o=t&&t.constructor;i?r=n?new o:[]:Ot(t)?r=dn(o)?ao(Rl(t)):{}:r={}}return(i?Nr:gn)(t,function(s,a,l){return e(r,s,a,l)}),r}function qb(t,e){for(var r=t.length;r--&&lo(e,t[r],0)>-1;);return r}function Ub(t,e){for(var r=-1,n=t.length;++r<n&&lo(e,t[r],0)>-1;);return r}function Kb(t,e,r){if(t=ut(t),t&&(r||e===void 0))return Ag(t);if(!t||!(e=xr(e)))return t;var n=Jr(t),i=Jr(e),o=Ub(n,i),s=qb(n,i)+1;return li(n,o,s).join("")}function Jb(t,e,r){if(t=ut(t),t&&(r||e===void 0))return t.slice(0,Og(t)+1);if(!t||!(e=xr(e)))return t;var n=Jr(t),i=qb(n,Jr(e))+1;return li(n,0,i).join("")}var OA=/^\s+/;function Gb(t,e,r){if(t=ut(t),t&&(r||e===void 0))return t.replace(OA,"");if(!t||!(e=xr(e)))return t;var n=Jr(t),i=Ub(n,Jr(e));return li(n,i).join("")}var AA=30,MA="...",jA=/\w*$/;function Yb(t,e){var r=AA,n=MA;if(Ot(e)){var i="separator"in e?e.separator:i;r="length"in e?Ze(e.length):r,n="omission"in e?xr(e.omission):n}t=ut(t);var o=t.length;if(fo(t)){var s=Jr(t);o=s.length}if(r>=o)return t;var a=r-mo(n);if(a<1)return n;var l=s?li(s,0,a).join(""):t.slice(0,a);if(i===void 0)return l+n;if(s&&(a+=l.length-a),Jl(i)){if(t.slice(a).search(i)){var c,u=l;for(i.global||(i=RegExp(i.source,ut(jA.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var h=c.index;l=l.slice(0,h===void 0?a:h)}}else if(t.indexOf(xr(i),a)!=a){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+n}function Xb(t){return _h(t,1)}var TA={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},PA=Th(TA),Qb=/&(?:amp|lt|gt|quot|#39);/g,RA=RegExp(Qb.source);function Zb(t){return t=ut(t),t&&RA.test(t)?t.replace(Qb,PA):t}var DA=1/0,NA=Qi&&1/Bl(new Qi([,-0]))[1]==DA?function(t){return new Qi(t)}:Sl,IA=200;function Zn(t,e,r){var n=-1,i=Ol,o=t.length,s=!0,a=[],l=a;if(r)s=!1,i=Qh;else if(o>=IA){var c=e?null:NA(t);if(c)return Bl(c);s=!1,i=ts,l=new bi}else l=e?[]:a;e:for(;++n<o;){var u=t[n],h=e?e(u):u;if(u=r||u!==0?u:0,s&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(u)}else i(l,h,r)||(l!==a&&l.push(h),a.push(u))}return a}var ew=et(function(t){return Zn(Ut(t,1,Pt,!0))}),tw=et(function(t){var e=kr(t);return Pt(e)&&(e=void 0),Zn(Ut(t,1,Pt,!0),Ge(e))}),rw=et(function(t){var e=kr(t);return e=typeof e=="function"?e:void 0,Zn(Ut(t,1,Pt,!0),void 0,e)});function nw(t){return t&&t.length?Zn(t):[]}function iw(t,e){return t&&t.length?Zn(t,Ge(e)):[]}function ow(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Zn(t,void 0,e):[]}var LA=0;function sw(t){var e=++LA;return ut(t)+e}function aw(t,e){return t==null?!0:pf(t,e)}var BA=Math.max;function Zl(t){if(!(t&&t.length))return[];var e=0;return t=ci(t,function(r){if(Pt(r))return e=BA(r.length,e),!0}),$h(e,function(r){return Ct(t,Uh(r))})}function xf(t,e){if(!(t&&t.length))return[];var r=Zl(t);return e==null?r:Ct(r,function(n){return _r(e,void 0,n)})}function lw(t,e,r,n){return xs(t,e,r(Ci(t,e)),n)}function cw(t,e,r){return t==null?t:lw(t,e,vn(r))}function uw(t,e,r,n){return n=typeof n=="function"?n:void 0,t==null?t:lw(t,e,vn(r),n)}var hw=po(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()});function fw(t){return t==null?[]:sf(t,cr(t))}var dw=et(function(t,e){return Pt(t)?gs(t,e):[]});function pw(t,e){return _s(vn(e),t)}var mw=In(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(o){return Eh(o,t)};return e>1||this.__actions__.length||!(n instanceof it)||!Tn(r)?this.thru(i):(n=n.slice(r,+r+(e?1:0)),n.__actions__.push({func:$s,args:[i],thisArg:void 0}),new Tr(n,this.__chain__).thru(function(o){return e&&!o.length&&o.push(void 0),o}))});function gw(){return Nh(this)}function vw(){var t=this.__wrapped__;if(t instanceof it){var e=t;return this.__actions__.length&&(e=new it(this)),e=e.reverse(),e.__actions__.push({func:$s,args:[sl],thisArg:void 0}),new Tr(e,this.__chain__)}return this.thru(sl)}function _f(t,e,r){var n=t.length;if(n<2)return n?Zn(t[0]):[];for(var i=-1,o=Array(n);++i<n;)for(var s=t[i],a=-1;++a<n;)a!=i&&(o[i]=gs(o[i]||s,t[a],e,r));return Zn(Ut(o,1),e,r)}var yw=et(function(t){return _f(ci(t,Pt))}),bw=et(function(t){var e=kr(t);return Pt(e)&&(e=void 0),_f(ci(t,Pt),Ge(e))}),ww=et(function(t){var e=kr(t);return e=typeof e=="function"?e:void 0,_f(ci(t,Pt),void 0,e)}),xw=et(Zl);function _w(t,e,r){for(var n=-1,i=t.length,o=e.length,s={};++n<i;){var a=n<o?e[n]:void 0;r(s,t[n],a)}return s}function $w(t,e){return _w(t||[],e||[],us)}function kw(t,e){return _w(t||[],e||[],xs)}var Sw=et(function(t){var e=t.length,r=e>1?t[e-1]:void 0;return r=typeof r=="function"?(t.pop(),r):void 0,xf(t,r)});const Me={chunk:_0,compact:L0,concat:B0,difference:lv,differenceBy:cv,differenceWith:uv,drop:fv,dropRight:dv,dropRightWhile:pv,dropWhile:mv,fill:Sv,findIndex:rf,findLastIndex:nf,flatten:Ch,flattenDeep:Lv,flattenDepth:Bv,fromPairs:Gv,head:cu,indexOf:i1,initial:o1,intersection:s1,intersectionBy:a1,intersectionWith:l1,join:D1,lastIndexOf:L1,nth:sy,pull:Ty,pullAll:yf,pullAllBy:Py,pullAllWith:Ry,pullAt:Ny,remove:Uy,reverse:sl,slice:ob,sortedIndex:cb,sortedIndexBy:ub,sortedIndexOf:hb,sortedLastIndex:fb,sortedLastIndexBy:db,sortedLastIndexOf:pb,sortedUniq:gb,sortedUniqBy:vb,tail:Ob,take:Ab,takeRight:Mb,takeRightWhile:jb,takeWhile:Tb,union:ew,unionBy:tw,unionWith:rw,uniq:nw,uniqBy:iw,uniqWith:ow,unzip:Zl,unzipWith:xf,without:dw,xor:yw,xorBy:bw,xorWith:ww,zip:xw,zipObject:$w,zipObjectDeep:kw,zipWith:Sw},bt={countBy:Q0,every:kv,filter:Cv,find:Av,findLast:Tv,flatMap:Dv,flatMapDeep:Nv,flatMapDepth:Iv,forEach:ou,forEachRight:su,groupBy:Qv,includes:n1,invokeMap:m1,keyBy:I1,map:vs,orderBy:py,partition:Ay,reduce:Wy,reduceRight:Hy,reject:qy,sample:Zy,sampleSize:eb,shuffle:nb,size:ib,some:ab,sortBy:lb},zA={now:qo},Rt={after:Mg,ary:_h,before:Ah,bind:ps,bindKey:Nl,curry:Fl,curryRight:Wl,debounce:Gh,defer:sv,delay:av,flip:zv,memoize:ds,once:hy,overArgs:gy,partial:_s,partialRight:Yl,rearg:Vy,rest:Gy,spread:bb,throttle:Ib,unary:Xb,wrap:pw},We={castArray:w0,clone:R0,cloneDeep:D0,cloneDeepWith:N0,cloneWith:I0,conformsTo:G0,eq:Ir,gt:Zv,gte:e1,isArguments:Qn,isArrayBuffer:g1,isArrayLike:lr,isArrayLikeObject:Pt,isBoolean:v1,isBuffer:On,isDate:y1,isElement:b1,isEmpty:w1,isEqual:x1,isEqualWith:_1,isError:Dl,isFinite:$1,isFunction:dn,isInteger:cf,isLength:hs,isMap:zh,isMatch:k1,isMatchWith:S1,isNaN:E1,isNative:C1,isNil:O1,isNull:A1,isNumber:uf,isObjectLike:jt,isPlainObject:ho,isRegExp:Jl,isSafeInteger:M1,isSet:Vh,isString:ys,isSymbol:vr,isTypedArray:Ei,isUndefined:j1,isWeakMap:T1,isWeakSet:P1,lt:V1,lte:F1,toArray:df,toFinite:cn,toLength:tf,toNumber:wr,toPlainObject:Yh,toSafeInteger:Fb,toString:ut},ur={add:Cg,ceil:x0,divide:hv,floor:Vv,max:K1,maxBy:J1,mean:Y1,meanBy:X1,min:ty,minBy:ry,multiply:iy,round:Xy,subtract:Sb,sum:Eb,sumBy:Cb},$f={clamp:$0,inRange:r1,random:Iy},Je={assign:Kg,assignIn:Yc,assignInWith:Qo,assignWith:Jg,at:Yg,create:Z0,defaults:rv,defaultsDeep:iv,findKey:jv,findLastKey:Pv,forIn:qv,forInRight:Uv,forOwn:Kv,forOwnRight:Jv,functions:Yv,functionsIn:Xv,get:Pl,has:t1,hasIn:zl,invert:u1,invertBy:f1,invoke:p1,keysIn:cr,mapKeys:W1,mapValues:H1,merge:Q1,mergeWith:Xh,omit:ly,omitBy:uy,pick:My,pickBy:mf,result:Yy,set:tb,setWith:rb,toPairs:au,toPairsIn:lu,transform:Hb,unset:aw,update:cw,updateWith:uw,values:Ai,valuesIn:fw},yn={at:mw,chain:Nh,commit:ru,next:uu,plant:pu,reverse:vw,tap:Pb,toIterator:mu,value:Io,wrapperChain:gw},ht={camelCase:b0,capitalize:Mh,deburr:Ph,endsWith:yv,escape:ef,escapeRegExp:_v,kebabCase:N1,lowerCase:B1,lowerFirst:z1,pad:Sy,padEnd:Ey,padStart:Cy,parseInt:Oy,repeat:Ky,replace:Jy,snakeCase:sb,split:yb,startCase:wb,startsWith:xb,template:Nb,templateSettings:al,toLower:zb,toUpper:Wb,trim:Kb,trimEnd:Jb,trimStart:Gb,truncate:Yb,unescape:Zb,upperCase:hw,upperFirst:Il,words:Rh},pt={attempt:Oh,bindAll:Qg,cond:U0,conforms:J0,constant:El,defaultTo:ev,flow:Wv,flowRight:Hv,iteratee:R1,matches:q1,matchesProperty:U1,method:Z1,methodOf:ey,noop:Sl,nthArg:ay,over:my,overEvery:vy,overSome:yy,property:Kh,propertyOf:jy,range:By,rangeRight:zy,stubArray:Ll,stubFalse:Ml,stubObject:_b,stubString:$b,stubTrue:kb,times:Lb,toPath:Vb,uniqueId:sw};function VA(){var t=new it(this.__wrapped__);return t.__actions__=gr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gr(this.__views__),t}function FA(){if(this.__filtered__){var t=new it(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var WA=Math.max,HA=Math.min;function qA(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=HA(e,t+s);break;case"takeRight":t=WA(t,e-s);break}}return{start:t,end:e}}var UA=1,KA=2,JA=Math.min;function GA(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ye(t),n=e<0,i=r?t.length:0,o=qA(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=n?a:s-1,u=this.__iteratees__,h=u.length,f=0,d=JA(l,this.__takeCount__);if(!r||!n&&i==l&&d==l)return Bb(t,this.__actions__);var g=[];e:for(;l--&&f<d;){c+=e;for(var O=-1,$=t[c];++O<h;){var P=u[O],Y=P.iteratee,ne=P.type,G=Y($);if(ne==KA)$=G;else if(!G){if(ne==UA)continue e;break e}}g[f++]=$}return g}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var YA="4.17.21",XA=2,QA=1,ZA=3,Ew=4294967295,e6=Array.prototype,t6=Object.prototype,Cw=t6.hasOwnProperty,Fp=Qt?Qt.iterator:void 0,r6=Math.max,Wp=Math.min,kf=(function(t){return function(e,r,n){if(n==null){var i=Ot(r),o=i&&Bt(r),s=o&&o.length&&Ul(r,o);(s?s.length:i)||(n=r,r=e,e=this)}return t(e,r,n)}})(ny);w.after=Rt.after;w.ary=Rt.ary;w.assign=Je.assign;w.assignIn=Je.assignIn;w.assignInWith=Je.assignInWith;w.assignWith=Je.assignWith;w.at=Je.at;w.before=Rt.before;w.bind=Rt.bind;w.bindAll=pt.bindAll;w.bindKey=Rt.bindKey;w.castArray=We.castArray;w.chain=yn.chain;w.chunk=Me.chunk;w.compact=Me.compact;w.concat=Me.concat;w.cond=pt.cond;w.conforms=pt.conforms;w.constant=pt.constant;w.countBy=bt.countBy;w.create=Je.create;w.curry=Rt.curry;w.curryRight=Rt.curryRight;w.debounce=Rt.debounce;w.defaults=Je.defaults;w.defaultsDeep=Je.defaultsDeep;w.defer=Rt.defer;w.delay=Rt.delay;w.difference=Me.difference;w.differenceBy=Me.differenceBy;w.differenceWith=Me.differenceWith;w.drop=Me.drop;w.dropRight=Me.dropRight;w.dropRightWhile=Me.dropRightWhile;w.dropWhile=Me.dropWhile;w.fill=Me.fill;w.filter=bt.filter;w.flatMap=bt.flatMap;w.flatMapDeep=bt.flatMapDeep;w.flatMapDepth=bt.flatMapDepth;w.flatten=Me.flatten;w.flattenDeep=Me.flattenDeep;w.flattenDepth=Me.flattenDepth;w.flip=Rt.flip;w.flow=pt.flow;w.flowRight=pt.flowRight;w.fromPairs=Me.fromPairs;w.functions=Je.functions;w.functionsIn=Je.functionsIn;w.groupBy=bt.groupBy;w.initial=Me.initial;w.intersection=Me.intersection;w.intersectionBy=Me.intersectionBy;w.intersectionWith=Me.intersectionWith;w.invert=Je.invert;w.invertBy=Je.invertBy;w.invokeMap=bt.invokeMap;w.iteratee=pt.iteratee;w.keyBy=bt.keyBy;w.keys=Bt;w.keysIn=Je.keysIn;w.map=bt.map;w.mapKeys=Je.mapKeys;w.mapValues=Je.mapValues;w.matches=pt.matches;w.matchesProperty=pt.matchesProperty;w.memoize=Rt.memoize;w.merge=Je.merge;w.mergeWith=Je.mergeWith;w.method=pt.method;w.methodOf=pt.methodOf;w.mixin=kf;w.negate=ws;w.nthArg=pt.nthArg;w.omit=Je.omit;w.omitBy=Je.omitBy;w.once=Rt.once;w.orderBy=bt.orderBy;w.over=pt.over;w.overArgs=Rt.overArgs;w.overEvery=pt.overEvery;w.overSome=pt.overSome;w.partial=Rt.partial;w.partialRight=Rt.partialRight;w.partition=bt.partition;w.pick=Je.pick;w.pickBy=Je.pickBy;w.property=pt.property;w.propertyOf=pt.propertyOf;w.pull=Me.pull;w.pullAll=Me.pullAll;w.pullAllBy=Me.pullAllBy;w.pullAllWith=Me.pullAllWith;w.pullAt=Me.pullAt;w.range=pt.range;w.rangeRight=pt.rangeRight;w.rearg=Rt.rearg;w.reject=bt.reject;w.remove=Me.remove;w.rest=Rt.rest;w.reverse=Me.reverse;w.sampleSize=bt.sampleSize;w.set=Je.set;w.setWith=Je.setWith;w.shuffle=bt.shuffle;w.slice=Me.slice;w.sortBy=bt.sortBy;w.sortedUniq=Me.sortedUniq;w.sortedUniqBy=Me.sortedUniqBy;w.split=ht.split;w.spread=Rt.spread;w.tail=Me.tail;w.take=Me.take;w.takeRight=Me.takeRight;w.takeRightWhile=Me.takeRightWhile;w.takeWhile=Me.takeWhile;w.tap=yn.tap;w.throttle=Rt.throttle;w.thru=$s;w.toArray=We.toArray;w.toPairs=Je.toPairs;w.toPairsIn=Je.toPairsIn;w.toPath=pt.toPath;w.toPlainObject=We.toPlainObject;w.transform=Je.transform;w.unary=Rt.unary;w.union=Me.union;w.unionBy=Me.unionBy;w.unionWith=Me.unionWith;w.uniq=Me.uniq;w.uniqBy=Me.uniqBy;w.uniqWith=Me.uniqWith;w.unset=Je.unset;w.unzip=Me.unzip;w.unzipWith=Me.unzipWith;w.update=Je.update;w.updateWith=Je.updateWith;w.values=Je.values;w.valuesIn=Je.valuesIn;w.without=Me.without;w.words=ht.words;w.wrap=Rt.wrap;w.xor=Me.xor;w.xorBy=Me.xorBy;w.xorWith=Me.xorWith;w.zip=Me.zip;w.zipObject=Me.zipObject;w.zipObjectDeep=Me.zipObjectDeep;w.zipWith=Me.zipWith;w.entries=Je.toPairs;w.entriesIn=Je.toPairsIn;w.extend=Je.assignIn;w.extendWith=Je.assignInWith;kf(w,w);w.add=ur.add;w.attempt=pt.attempt;w.camelCase=ht.camelCase;w.capitalize=ht.capitalize;w.ceil=ur.ceil;w.clamp=$f.clamp;w.clone=We.clone;w.cloneDeep=We.cloneDeep;w.cloneDeepWith=We.cloneDeepWith;w.cloneWith=We.cloneWith;w.conformsTo=We.conformsTo;w.deburr=ht.deburr;w.defaultTo=pt.defaultTo;w.divide=ur.divide;w.endsWith=ht.endsWith;w.eq=We.eq;w.escape=ht.escape;w.escapeRegExp=ht.escapeRegExp;w.every=bt.every;w.find=bt.find;w.findIndex=Me.findIndex;w.findKey=Je.findKey;w.findLast=bt.findLast;w.findLastIndex=Me.findLastIndex;w.findLastKey=Je.findLastKey;w.floor=ur.floor;w.forEach=bt.forEach;w.forEachRight=bt.forEachRight;w.forIn=Je.forIn;w.forInRight=Je.forInRight;w.forOwn=Je.forOwn;w.forOwnRight=Je.forOwnRight;w.get=Je.get;w.gt=We.gt;w.gte=We.gte;w.has=Je.has;w.hasIn=Je.hasIn;w.head=Me.head;w.identity=ar;w.includes=bt.includes;w.indexOf=Me.indexOf;w.inRange=$f.inRange;w.invoke=Je.invoke;w.isArguments=We.isArguments;w.isArray=Ye;w.isArrayBuffer=We.isArrayBuffer;w.isArrayLike=We.isArrayLike;w.isArrayLikeObject=We.isArrayLikeObject;w.isBoolean=We.isBoolean;w.isBuffer=We.isBuffer;w.isDate=We.isDate;w.isElement=We.isElement;w.isEmpty=We.isEmpty;w.isEqual=We.isEqual;w.isEqualWith=We.isEqualWith;w.isError=We.isError;w.isFinite=We.isFinite;w.isFunction=We.isFunction;w.isInteger=We.isInteger;w.isLength=We.isLength;w.isMap=We.isMap;w.isMatch=We.isMatch;w.isMatchWith=We.isMatchWith;w.isNaN=We.isNaN;w.isNative=We.isNative;w.isNil=We.isNil;w.isNull=We.isNull;w.isNumber=We.isNumber;w.isObject=Ot;w.isObjectLike=We.isObjectLike;w.isPlainObject=We.isPlainObject;w.isRegExp=We.isRegExp;w.isSafeInteger=We.isSafeInteger;w.isSet=We.isSet;w.isString=We.isString;w.isSymbol=We.isSymbol;w.isTypedArray=We.isTypedArray;w.isUndefined=We.isUndefined;w.isWeakMap=We.isWeakMap;w.isWeakSet=We.isWeakSet;w.join=Me.join;w.kebabCase=ht.kebabCase;w.last=kr;w.lastIndexOf=Me.lastIndexOf;w.lowerCase=ht.lowerCase;w.lowerFirst=ht.lowerFirst;w.lt=We.lt;w.lte=We.lte;w.max=ur.max;w.maxBy=ur.maxBy;w.mean=ur.mean;w.meanBy=ur.meanBy;w.min=ur.min;w.minBy=ur.minBy;w.stubArray=pt.stubArray;w.stubFalse=pt.stubFalse;w.stubObject=pt.stubObject;w.stubString=pt.stubString;w.stubTrue=pt.stubTrue;w.multiply=ur.multiply;w.nth=Me.nth;w.noop=pt.noop;w.now=zA.now;w.pad=ht.pad;w.padEnd=ht.padEnd;w.padStart=ht.padStart;w.parseInt=ht.parseInt;w.random=$f.random;w.reduce=bt.reduce;w.reduceRight=bt.reduceRight;w.repeat=ht.repeat;w.replace=ht.replace;w.result=Je.result;w.round=ur.round;w.sample=bt.sample;w.size=bt.size;w.snakeCase=ht.snakeCase;w.some=bt.some;w.sortedIndex=Me.sortedIndex;w.sortedIndexBy=Me.sortedIndexBy;w.sortedIndexOf=Me.sortedIndexOf;w.sortedLastIndex=Me.sortedLastIndex;w.sortedLastIndexBy=Me.sortedLastIndexBy;w.sortedLastIndexOf=Me.sortedLastIndexOf;w.startCase=ht.startCase;w.startsWith=ht.startsWith;w.subtract=ur.subtract;w.sum=ur.sum;w.sumBy=ur.sumBy;w.template=ht.template;w.times=pt.times;w.toFinite=We.toFinite;w.toInteger=Ze;w.toLength=We.toLength;w.toLower=ht.toLower;w.toNumber=We.toNumber;w.toSafeInteger=We.toSafeInteger;w.toString=We.toString;w.toUpper=ht.toUpper;w.trim=ht.trim;w.trimEnd=ht.trimEnd;w.trimStart=ht.trimStart;w.truncate=ht.truncate;w.unescape=ht.unescape;w.uniqueId=pt.uniqueId;w.upperCase=ht.upperCase;w.upperFirst=ht.upperFirst;w.each=bt.forEach;w.eachRight=bt.forEachRight;w.first=Me.head;kf(w,(function(){var t={};return gn(w,function(e,r){Cw.call(w.prototype,r)||(t[r]=e)}),t})(),{chain:!1});w.VERSION=YA;(w.templateSettings=ht.templateSettings).imports._=w;Nr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){w[t].placeholder=w});Nr(["drop","take"],function(t,e){it.prototype[t]=function(r){r=r===void 0?1:r6(Ze(r),0);var n=this.__filtered__&&!e?new it(this):this.clone();return n.__filtered__?n.__takeCount__=Wp(r,n.__takeCount__):n.__views__.push({size:Wp(r,Ew),type:t+(n.__dir__<0?"Right":"")}),n},it.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}});Nr(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==QA||r==ZA;it.prototype[t]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:Ge(i),type:r}),o.__filtered__=o.__filtered__||n,o}});Nr(["head","last"],function(t,e){var r="take"+(e?"Right":"");it.prototype[t]=function(){return this[r](1).value()[0]}});Nr(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");it.prototype[t]=function(){return this.__filtered__?new it(this):this[r](1)}});it.prototype.compact=function(){return this.filter(ar)};it.prototype.find=function(t){return this.filter(t).head()};it.prototype.findLast=function(t){return this.reverse().find(t)};it.prototype.invokeMap=et(function(t,e){return typeof t=="function"?new it(this):this.map(function(r){return bs(r,t,e)})});it.prototype.reject=function(t){return this.filter(ws(Ge(t)))};it.prototype.slice=function(t,e){t=Ze(t);var r=this;return r.__filtered__&&(t>0||e<0)?new it(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==void 0&&(e=Ze(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)};it.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};it.prototype.toArray=function(){return this.take(Ew)};gn(it.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=w[n?"take"+(e=="last"?"Right":""):e],o=n||/^find/.test(e);i&&(w.prototype[e]=function(){var s=this.__wrapped__,a=n?[1]:arguments,l=s instanceof it,c=a[0],u=l||Ye(s),h=function(P){var Y=i.apply(w,ai([P],a));return n&&f?Y[0]:Y};u&&r&&typeof c=="function"&&c.length!=1&&(l=u=!1);var f=this.__chain__,d=!!this.__actions__.length,g=o&&!f,O=l&&!d;if(!o&&u){s=O?s:new it(this);var $=t.apply(s,a);return $.__actions__.push({func:$s,args:[h],thisArg:void 0}),new Tr($,f)}return g&&O?t.apply(this,a):($=this.thru(h),g?n?$.value()[0]:$.value():$)})});Nr(["pop","push","shift","sort","splice","unshift"],function(t){var e=e6[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);w.prototype[t]=function(){var i=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(Ye(o)?o:[],i)}return this[r](function(s){return e.apply(Ye(s)?s:[],i)})}});gn(it.prototype,function(t,e){var r=w[e];if(r){var n=r.name+"";Cw.call(Xi,n)||(Xi[n]=[]),Xi[n].push({name:e,func:r})}});Xi[Al(void 0,XA).name]=[{name:"wrapper",func:void 0}];it.prototype.clone=VA;it.prototype.reverse=FA;it.prototype.value=GA;w.prototype.at=yn.at;w.prototype.chain=yn.wrapperChain;w.prototype.commit=yn.commit;w.prototype.next=yn.next;w.prototype.plant=yn.plant;w.prototype.reverse=yn.reverse;w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=yn.value;w.prototype.first=w.prototype.head;Fp&&(w.prototype[Fp]=yn.toIterator);/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */const pP=Object.freeze(Object.defineProperty({__proto__:null,add:Cg,after:Mg,ary:_h,assign:Kg,assignIn:Yc,assignInWith:Qo,assignWith:Jg,at:Yg,attempt:Oh,before:Ah,bind:ps,bindAll:Qg,bindKey:Nl,camelCase:b0,capitalize:Mh,castArray:w0,ceil:x0,chain:Nh,chunk:_0,clamp:$0,clone:R0,cloneDeep:D0,cloneDeepWith:N0,cloneWith:I0,commit:ru,compact:L0,concat:B0,cond:U0,conforms:J0,conformsTo:G0,constant:El,countBy:Q0,create:Z0,curry:Fl,curryRight:Wl,debounce:Gh,deburr:Ph,default:w,defaultTo:ev,defaults:rv,defaultsDeep:iv,defer:sv,delay:av,difference:lv,differenceBy:cv,differenceWith:uv,divide:hv,drop:fv,dropRight:dv,dropRightWhile:pv,dropWhile:mv,each:ou,eachRight:su,endsWith:yv,entries:au,entriesIn:lu,eq:Ir,escape:ef,escapeRegExp:_v,every:kv,extend:Yc,extendWith:Qo,fill:Sv,filter:Cv,find:Av,findIndex:rf,findKey:jv,findLast:Tv,findLastIndex:nf,findLastKey:Pv,first:cu,flatMap:Dv,flatMapDeep:Nv,flatMapDepth:Iv,flatten:Ch,flattenDeep:Lv,flattenDepth:Bv,flip:zv,floor:Vv,flow:Wv,flowRight:Hv,forEach:ou,forEachRight:su,forIn:qv,forInRight:Uv,forOwn:Kv,forOwnRight:Jv,fromPairs:Gv,functions:Yv,functionsIn:Xv,get:Pl,groupBy:Qv,gt:Zv,gte:e1,has:t1,hasIn:zl,head:cu,identity:ar,inRange:r1,includes:n1,indexOf:i1,initial:o1,intersection:s1,intersectionBy:a1,intersectionWith:l1,invert:u1,invertBy:f1,invoke:p1,invokeMap:m1,isArguments:Qn,isArray:Ye,isArrayBuffer:g1,isArrayLike:lr,isArrayLikeObject:Pt,isBoolean:v1,isBuffer:On,isDate:y1,isElement:b1,isEmpty:w1,isEqual:x1,isEqualWith:_1,isError:Dl,isFinite:$1,isFunction:dn,isInteger:cf,isLength:hs,isMap:zh,isMatch:k1,isMatchWith:S1,isNaN:E1,isNative:C1,isNil:O1,isNull:A1,isNumber:uf,isObject:Ot,isObjectLike:jt,isPlainObject:ho,isRegExp:Jl,isSafeInteger:M1,isSet:Vh,isString:ys,isSymbol:vr,isTypedArray:Ei,isUndefined:j1,isWeakMap:T1,isWeakSet:P1,iteratee:R1,join:D1,kebabCase:N1,keyBy:I1,keys:Bt,keysIn:cr,last:kr,lastIndexOf:L1,lodash:w,lowerCase:B1,lowerFirst:z1,lt:V1,lte:F1,map:vs,mapKeys:W1,mapValues:H1,matches:q1,matchesProperty:U1,max:K1,maxBy:J1,mean:Y1,meanBy:X1,memoize:ds,merge:Q1,mergeWith:Xh,method:Z1,methodOf:ey,min:ty,minBy:ry,mixin:ny,multiply:iy,negate:ws,next:uu,noop:Sl,now:qo,nth:sy,nthArg:ay,omit:ly,omitBy:uy,once:hy,orderBy:py,over:my,overArgs:gy,overEvery:vy,overSome:yy,pad:Sy,padEnd:Ey,padStart:Cy,parseInt:Oy,partial:_s,partialRight:Yl,partition:Ay,pick:My,pickBy:mf,plant:pu,property:Kh,propertyOf:jy,pull:Ty,pullAll:yf,pullAllBy:Py,pullAllWith:Ry,pullAt:Ny,random:Iy,range:By,rangeRight:zy,rearg:Vy,reduce:Wy,reduceRight:Hy,reject:qy,remove:Uy,repeat:Ky,replace:Jy,rest:Gy,result:Yy,reverse:sl,round:Xy,sample:Zy,sampleSize:eb,set:tb,setWith:rb,shuffle:nb,size:ib,slice:ob,snakeCase:sb,some:ab,sortBy:lb,sortedIndex:cb,sortedIndexBy:ub,sortedIndexOf:hb,sortedLastIndex:fb,sortedLastIndexBy:db,sortedLastIndexOf:pb,sortedUniq:gb,sortedUniqBy:vb,split:yb,spread:bb,startCase:wb,startsWith:xb,stubArray:Ll,stubFalse:Ml,stubObject:_b,stubString:$b,stubTrue:kb,subtract:Sb,sum:Eb,sumBy:Cb,tail:Ob,take:Ab,takeRight:Mb,takeRightWhile:jb,takeWhile:Tb,tap:Pb,template:Nb,templateSettings:al,throttle:Ib,thru:$s,times:Lb,toArray:df,toFinite:cn,toInteger:Ze,toIterator:mu,toJSON:Io,toLength:tf,toLower:zb,toNumber:wr,toPairs:au,toPairsIn:lu,toPath:Vb,toPlainObject:Yh,toSafeInteger:Fb,toString:ut,toUpper:Wb,transform:Hb,trim:Kb,trimEnd:Jb,trimStart:Gb,truncate:Yb,unary:Xb,unescape:Zb,union:ew,unionBy:tw,unionWith:rw,uniq:nw,uniqBy:iw,uniqWith:ow,uniqueId:sw,unset:aw,unzip:Zl,unzipWith:xf,update:cw,updateWith:uw,upperCase:hw,upperFirst:Il,value:Io,valueOf:Io,values:Ai,valuesIn:fw,without:dw,words:Rh,wrap:pw,wrapperAt:mw,wrapperChain:gw,wrapperCommit:ru,wrapperLodash:w,wrapperNext:uu,wrapperPlant:pu,wrapperReverse:vw,wrapperToIterator:mu,wrapperValue:Io,xor:yw,xorBy:bw,xorWith:ww,zip:xw,zipObject:$w,zipObjectDeep:kw,zipWith:Sw},Symbol.toStringTag,{value:"Module"})),ec=t=>Array.isArray(t),n6=t=>t&&typeof t=="object"&&!ec(t),i6=t=>typeof t=="string";function Dt(t){return(...e)=>{const r=e.map(o=>It(o)),n=r[0],i=r[1];return r.length===1?o=>t(n(o)):r.length===2?o=>t(n(o),i(o)):o=>t(...r.map(s=>s(o)))}}const mi={pipe:(...t)=>{const e=t.map(r=>It(r));return r=>e.reduce((n,i)=>i(n),r)},object:t=>{const e=Object.keys(t).map(r=>[r,It(t[r])]);return r=>{const n={};for(const[i,o]of e)n[i]=o(r);return n}},array:(...t)=>{const e=t.map(r=>It(r));return r=>e.map(n=>n(r))},get:(...t)=>{if(t.length===0)return e=>e??null;if(t.length===1){const e=t[0];return r=>r?.[e]??null}return e=>{let r=e;for(const n of t)r=r?.[n];return r??null}},map:t=>{const e=It(t);return r=>r.map(e)},mapObject:t=>{const e=It(t);return r=>{const n={};for(const i of Object.keys(r)){const o=e({key:i,value:r[i]});n[o.key]=o.value}return n}},mapKeys:t=>{const e=It(t);return r=>{const n={};for(const i of Object.keys(r)){const o=e(i);n[o]=r[i]}return n}},mapValues:t=>{const e=It(t);return r=>{const n={};for(const i of Object.keys(r))n[i]=e(r[i]);return n}},filter:t=>{const e=It(t);return r=>r.filter(n=>Hp(e(n)))},sort:(t=["get"],e)=>{const r=It(t),n=e==="desc"?-1:1;function i(o,s){const a=r(o),l=r(s);return a>l?n:a<l?-n:0}return o=>o.slice().sort(i)},reverse:()=>t=>t.toReversed(),pick:(...t)=>{const e=t.map(([n,...i])=>[i[i.length-1],mi.get(...i)]),r=(n,i)=>{const o={};for(const[s,a]of i)o[s]=a(n);return o};return n=>ec(n)?n.map(i=>r(i,e)):r(n,e)},groupBy:t=>{const e=It(t);return r=>{const n={};for(const i of r){const o=e(i);n[o]?n[o].push(i):n[o]=[i]}return n}},keyBy:t=>{const e=It(t);return r=>{const n={};for(const i of r){const o=e(i);o in n||(n[o]=i)}return n}},flatten:()=>t=>t.flat(),join:(t="")=>e=>e.join(t),split:Dt((t,e)=>e!==void 0?t.split(e):t.trim().split(/\s+/)),substring:Dt((t,e,r)=>t.slice(Math.max(e,0),r)),uniq:()=>t=>[...new Set(t)],uniqBy:t=>e=>Object.values(mi.keyBy(t)(e)),limit:t=>e=>e.slice(0,Math.max(t,0)),size:()=>t=>t.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>t=>t.reduce((e,r)=>e*r),sum:()=>t=>t.reduce((e,r)=>e+r),average:()=>t=>mi.sum()(t)/t.length,min:()=>t=>Math.min(...t),max:()=>t=>Math.max(...t),and:Dt((t,e)=>!!(t&&e)),or:Dt((t,e)=>!!(t||e)),not:Dt(t=>!t),exists:t=>{const e=t.slice(1),r=e.pop(),n=mi.get(...e);return i=>{const o=n(i);return!!o&&Object.hasOwnProperty.call(o,r)}},if:(t,e,r)=>{const n=It(t),i=It(e),o=It(r);return s=>Hp(n(s))?i(s):o(s)},in:(t,e)=>{const r=It(t),n=It(e);return i=>n(i).includes(r(i))},"not in":(t,e)=>{const r=mi.in(t,e);return n=>!r(n)},regex:(t,e,r)=>{const n=new RegExp(e,r),i=It(t);return o=>n.test(i(o))},eq:Dt((t,e)=>t===e),gt:Dt((t,e)=>t>e),gte:Dt((t,e)=>t>=e),lt:Dt((t,e)=>t<e),lte:Dt((t,e)=>t<=e),ne:Dt((t,e)=>t!==e),add:Dt((t,e)=>t+e),subtract:Dt((t,e)=>t-e),multiply:Dt((t,e)=>t*e),divide:Dt((t,e)=>t/e),pow:Dt((t,e)=>t**e),mod:Dt((t,e)=>t%e),abs:Dt(Math.abs),round:Dt((t,e=0)=>+`${Math.round(+`${t}e${e}`)}e${-e}`),number:Dt(t=>{const e=Number(t);return Number.isNaN(Number(t))?null:e}),string:Dt(String)},Hp=t=>t!==null&&t!==0&&t!==!1,ma=[];function It(t,e){ma.unshift({...mi,...ma[0]});try{const r=ec(t)?o6(t,ma[0]):n6(t)?Ow(`Function notation ["object", {...}] expected but got ${JSON.stringify(t)}`):()=>t;return n=>{try{return r(n)}catch(i){throw i.jsonquery=[{data:n,query:t},...i.jsonquery??[]],i}}}finally{ma.shift()}}function o6(t,e){const[r,...n]=t,i=e[r];return i||Ow(`Unknown function '${r}'`),i(...n)}function Ow(t){throw new Error(t)}const Aw={and:"and",or:"or",eq:"==",gt:">",gte:">=",lt:"<",lte:"<=",ne:"!=",add:"+",subtract:"-",multiply:"*",divide:"/",pow:"^",mod:"%",in:"in","not in":"not in"},s6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/,a6=/^[a-zA-Z_$][a-zA-Z\d_$]*/,l6=/^"(?:[^"\\]|\\.)*"/,c6=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/,u6=/^(0|[1-9][0-9]*)/,h6=/^(true|false|null)/,f6=/^[ \n\t\r]+/;function d6(t,e){const r={...Aw},n=Object.keys(r).sort((Z,le)=>le.length-Z.length),i=()=>{Y();const Z=o();if(Y(),t[X]==="|"){const le=[Z];for(;t[X]==="|";)X++,Y(),le.push(o());return["pipe",...le]}return Z},o=()=>{const Z=s();Y();for(const le of n){const $e=r[le];if(t.substring(X,X+$e.length)===$e){X+=$e.length,Y();const Ke=s();return[le,Z,Ke]}}return Z},s=()=>{if(t[X]==="("){X++;const Z=i();return ne(")"),Z}return a()},a=()=>{if(t[X]==="."){const Z=[];for(;t[X]===".";)X++,Z.push(h()??f()??g()??G("Property expected"));return["get",...Z]}return l()},l=()=>{const Z=X,le=f();if(Y(),!le||t[X]!=="(")return X=Z,c();X++,!mi[le]&&G(`Unknown function '${le}'`),Y();const $e=t[X]!==")"?[i()]:[];for(;X<t.length&&t[X]!==")";)Y(),ne(","),$e.push(i());return ne(")"),[le,...$e]},c=()=>{if(t[X]==="{"){X++,Y();const Z={};let le=!0;for(;X<t.length&&t[X]!=="}";){le?le=!1:(ne(","),Y());const $e=h()??f()??g()??G("Key expected");Y(),ne(":"),Z[$e]=i()}return ne("}"),["object",Z]}return u()},u=()=>{if(t[X]==="["){X++,Y();const Z=[];let le=!0;for(;X<t.length&&t[X]!=="]";)le?le=!1:(ne(","),Y()),Z.push(i());return ne("]"),["array",...Z]}return h()??d()??O()},h=()=>P(l6,JSON.parse),f=()=>P(a6,Z=>Z),d=()=>P(c6,JSON.parse),g=()=>P(u6,JSON.parse),O=()=>{const Z=P(h6,JSON.parse);if(Z!==void 0)return Z;G("Value expected")},$=()=>{Y(),X<t.length&&G(`Unexpected part '${t.substring(X)}'`)},P=(Z,le)=>{const $e=t.substring(X).match(Z);if($e)return X+=$e[0].length,le($e[0])},Y=()=>P(f6,Z=>Z),ne=Z=>{t[X]!==Z&&G(`Character '${Z}' expected`),X++},G=(Z,le=X)=>{throw new SyntaxError(`${Z} (pos: ${le})`)};let X=0;const se=i();return $(),se}const p6=40,m6="  ",mP=(t,e)=>{const r=m6,n=(c,u)=>ec(c)?i(c,u):JSON.stringify(c),i=(c,u)=>{var h;const[f,...d]=c;if(f==="get"&&d.length>0)return s(d);if(f==="pipe"){const P=d.map(Y=>n(Y,u+r));return l(P,[""," | ",""],["",`
${u+r}| `,""])}if(f==="object")return o(d[0],u);if(f==="array"){const P=d.map(Y=>n(Y,u));return l(P,["[",", ","]"],[`[
${u+r}`,`,
${u+r}`,`
${u}]`])}const g=((h=void 0)==null?void 0:h[f])??Aw[f];if(g&&d.length===2){const[P,Y]=d,ne=n(P,u),G=n(Y,u);return`(${ne} ${g} ${G})`}const O=d.length===1?u:u+r,$=d.map(P=>n(P,O));return d.length===1&&$[0][0]==="("?`${f}${$[0]}`:l($,[`${f}(`,", ",")"],d.length===1?[`${f}(`,`,
${u}`,")"]:[`${f}(
${O}`,`,
${O}`,`
${u})`])},o=(c,u)=>{const h=u+r,f=Object.entries(c).map(([d,g])=>`${a(d)}: ${n(g,h)}`);return l(f,["{ ",", "," }"],[`{
${h}`,`,
${h}`,`
${u}}`])},s=c=>c.map(u=>`.${a(u)}`).join(""),a=c=>s6.test(c)?c:JSON.stringify(c),l=(c,[u,h,f],[d,g,O])=>u.length+c.reduce(($,P)=>$+P.length+h.length,0)-h.length+f.length<=p6?u+c.join(h)+f:d+c.join(g)+O;return n(t,"")};function gP(t,e,r){return It(i6(e)?d6(e):e)(t)}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const vP={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},yP={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},bP={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},wP={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},xP={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},g6={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},_P=g6,v6={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},$P=v6,kP={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},y6={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},SP=y6,b6={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},EP=b6,CP={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},OP={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},w6={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},AP=w6,MP={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},jP={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},TP={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},PP={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},RP={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},DP={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},NP={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},x6={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},IP=x6,_6={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},LP=_6,$6={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z"]},BP=$6,k6={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},zP=k6,VP={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},S6={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},FP=S6,WP={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},E6={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},HP=E6,qP={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},UP={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},C6={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},KP=C6,JP={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},GP={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},YP={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Mw={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},XP=Mw,QP=Mw,ZP={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},eR={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},tR={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"]},rR={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},O6={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},nR=O6;var qp=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function A6(t,e){return!!(t===e||qp(t)&&qp(e))}function M6(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!A6(t[r],e[r]))return!1;return!0}function iR(t,e){e===void 0&&(e=M6);var r=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var s=t.apply(this,i);return r={lastResult:s,lastArgs:i,lastThis:this},s}return n.clear=function(){r=null},n}var Up={},Kp;function j6(){if(Kp)return Up;Kp=1;var t={exports:{}},e={},r={},n={},i={},o={},s={},a;function l(){return a||(a=1,(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.regexpCode=p.getEsmExportName=p.getProperty=p.safeStringify=p.stringify=p.strConcat=p.addCodeArg=p.str=p._=p.nil=p._Code=p.Name=p.IDENTIFIER=p._CodeOrName=void 0;class _{}p._CodeOrName=_,p.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class I extends _{constructor(m){if(super(),!p.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}p.Name=I;class S extends _{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((x,B)=>`${x}${B}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((x,B)=>(B instanceof I&&(x[B.str]=(x[B.str]||0)+1),x),{})}}p._Code=S,p.nil=new S("");function E(y,...m){const x=[y[0]];let B=0;for(;B<m.length;)T(x,m[B]),x.push(y[++B]);return new S(x)}p._=E;const C=new S("+");function j(y,...m){const x=[H(y[0])];let B=0;for(;B<m.length;)x.push(C),T(x,m[B]),x.push(C,H(y[++B]));return N(x),new S(x)}p.str=j;function T(y,m){m instanceof S?y.push(...m._items):m instanceof I?y.push(m):y.push(K(m))}p.addCodeArg=T;function N(y){let m=1;for(;m<y.length-1;){if(y[m]===C){const x=z(y[m-1],y[m+1]);if(x!==void 0){y.splice(m-1,3,x);continue}y[m++]="+"}m++}}function z(y,m){if(m==='""')return y;if(y==='""')return m;if(typeof y=="string")return m instanceof I||y[y.length-1]!=='"'?void 0:typeof m!="string"?`${y.slice(0,-1)}${m}"`:m[0]==='"'?y.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(y instanceof I))return`"${y}${m.slice(1)}`}function R(y,m){return m.emptyStr()?y:y.emptyStr()?m:j`${y}${m}`}p.strConcat=R;function K(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:H(Array.isArray(y)?y.join(","):y)}function re(y){return new S(H(y))}p.stringify=re;function H(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}p.safeStringify=H;function q(y){return typeof y=="string"&&p.IDENTIFIER.test(y)?new S(`.${y}`):E`[${y}]`}p.getProperty=q;function L(y){if(typeof y=="string"&&p.IDENTIFIER.test(y))return new S(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}p.getEsmExportName=L;function v(y){return new S(y.toString())}p.regexpCode=v})(s)),s}var c={},u;function h(){return u||(u=1,(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.ValueScope=p.ValueScopeName=p.Scope=p.varKinds=p.UsedValueState=void 0;const _=l();class I extends Error{constructor(z){super(`CodeGen: "code" for ${z} not defined`),this.value=z.value}}var S;(function(N){N[N.Started=0]="Started",N[N.Completed=1]="Completed"})(S||(p.UsedValueState=S={})),p.varKinds={const:new _.Name("const"),let:new _.Name("let"),var:new _.Name("var")};class E{constructor({prefixes:z,parent:R}={}){this._names={},this._prefixes=z,this._parent=R}toName(z){return z instanceof _.Name?z:this.name(z)}name(z){return new _.Name(this._newName(z))}_newName(z){const R=this._names[z]||this._nameGroup(z);return`${z}${R.index++}`}_nameGroup(z){var R,K;if(!((K=(R=this._parent)===null||R===void 0?void 0:R._prefixes)===null||K===void 0)&&K.has(z)||this._prefixes&&!this._prefixes.has(z))throw new Error(`CodeGen: prefix "${z}" is not allowed in this scope`);return this._names[z]={prefix:z,index:0}}}p.Scope=E;class C extends _.Name{constructor(z,R){super(R),this.prefix=z}setValue(z,{property:R,itemIndex:K}){this.value=z,this.scopePath=(0,_._)`.${new _.Name(R)}[${K}]`}}p.ValueScopeName=C;const j=(0,_._)`\n`;class T extends E{constructor(z){super(z),this._values={},this._scope=z.scope,this.opts={...z,_n:z.lines?j:_.nil}}get(){return this._scope}name(z){return new C(z,this._newName(z))}value(z,R){var K;if(R.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const re=this.toName(z),{prefix:H}=re,q=(K=R.key)!==null&&K!==void 0?K:R.ref;let L=this._values[H];if(L){const m=L.get(q);if(m)return m}else L=this._values[H]=new Map;L.set(q,re);const v=this._scope[H]||(this._scope[H]=[]),y=v.length;return v[y]=R.ref,re.setValue(R,{property:H,itemIndex:y}),re}getValue(z,R){const K=this._values[z];if(K)return K.get(R)}scopeRefs(z,R=this._values){return this._reduceValues(R,K=>{if(K.scopePath===void 0)throw new Error(`CodeGen: name "${K}" has no value`);return(0,_._)`${z}${K.scopePath}`})}scopeCode(z=this._values,R,K){return this._reduceValues(z,re=>{if(re.value===void 0)throw new Error(`CodeGen: name "${re}" has no value`);return re.value.code},R,K)}_reduceValues(z,R,K={},re){let H=_.nil;for(const q in z){const L=z[q];if(!L)continue;const v=K[q]=K[q]||new Map;L.forEach(y=>{if(v.has(y))return;v.set(y,S.Started);let m=R(y);if(m){const x=this.opts.es5?p.varKinds.var:p.varKinds.const;H=(0,_._)`${H}${x} ${y} = ${m};${this.opts._n}`}else if(m=re?.(y))H=(0,_._)`${H}${m}${this.opts._n}`;else throw new I(y);v.set(y,S.Completed)})}return H}}p.ValueScope=T})(c)),c}var f;function d(){return f||(f=1,(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.or=p.and=p.not=p.CodeGen=p.operators=p.varKinds=p.ValueScopeName=p.ValueScope=p.Scope=p.Name=p.regexpCode=p.stringify=p.getProperty=p.nil=p.strConcat=p.str=p._=void 0;const _=l(),I=h();var S=l();Object.defineProperty(p,"_",{enumerable:!0,get:function(){return S._}}),Object.defineProperty(p,"str",{enumerable:!0,get:function(){return S.str}}),Object.defineProperty(p,"strConcat",{enumerable:!0,get:function(){return S.strConcat}}),Object.defineProperty(p,"nil",{enumerable:!0,get:function(){return S.nil}}),Object.defineProperty(p,"getProperty",{enumerable:!0,get:function(){return S.getProperty}}),Object.defineProperty(p,"stringify",{enumerable:!0,get:function(){return S.stringify}}),Object.defineProperty(p,"regexpCode",{enumerable:!0,get:function(){return S.regexpCode}}),Object.defineProperty(p,"Name",{enumerable:!0,get:function(){return S.Name}});var E=h();Object.defineProperty(p,"Scope",{enumerable:!0,get:function(){return E.Scope}}),Object.defineProperty(p,"ValueScope",{enumerable:!0,get:function(){return E.ValueScope}}),Object.defineProperty(p,"ValueScopeName",{enumerable:!0,get:function(){return E.ValueScopeName}}),Object.defineProperty(p,"varKinds",{enumerable:!0,get:function(){return E.varKinds}}),p.operators={GT:new _._Code(">"),GTE:new _._Code(">="),LT:new _._Code("<"),LTE:new _._Code("<="),EQ:new _._Code("==="),NEQ:new _._Code("!=="),NOT:new _._Code("!"),OR:new _._Code("||"),AND:new _._Code("&&"),ADD:new _._Code("+")};class C{optimizeNodes(){return this}optimizeNames(k,F){return this}}class j extends C{constructor(k,F,ae){super(),this.varKind=k,this.name=F,this.rhs=ae}render({es5:k,_n:F}){const ae=k?I.varKinds.var:this.varKind,Ne=this.rhs===void 0?"":` = ${this.rhs}`;return`${ae} ${this.name}${Ne};`+F}optimizeNames(k,F){if(k[this.name.str])return this.rhs&&(this.rhs=dt(this.rhs,k,F)),this}get names(){return this.rhs instanceof _._CodeOrName?this.rhs.names:{}}}class T extends C{constructor(k,F,ae){super(),this.lhs=k,this.rhs=F,this.sideEffects=ae}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,F){if(!(this.lhs instanceof _.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=dt(this.rhs,k,F),this}get names(){const k=this.lhs instanceof _.Name?{}:{...this.lhs.names};return rt(k,this.rhs)}}class N extends T{constructor(k,F,ae,Ne){super(k,ae,Ne),this.op=F}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class z extends C{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class R extends C{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class K extends C{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class re extends C{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,F){return this.code=dt(this.code,k,F),this}get names(){return this.code instanceof _._CodeOrName?this.code.names:{}}}class H extends C{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((F,ae)=>F+ae.render(k),"")}optimizeNodes(){const{nodes:k}=this;let F=k.length;for(;F--;){const ae=k[F].optimizeNodes();Array.isArray(ae)?k.splice(F,1,...ae):ae?k[F]=ae:k.splice(F,1)}return k.length>0?this:void 0}optimizeNames(k,F){const{nodes:ae}=this;let Ne=ae.length;for(;Ne--;){const Be=ae[Ne];Be.optimizeNames(k,F)||(hr(k,Be.names),ae.splice(Ne,1))}return ae.length>0?this:void 0}get names(){return this.nodes.reduce((k,F)=>tt(k,F.names),{})}}class q extends H{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class L extends H{}class v extends q{}v.kind="else";class y extends q{constructor(k,F){super(F),this.condition=k}render(k){let F=`if(${this.condition})`+super.render(k);return this.else&&(F+="else "+this.else.render(k)),F}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let F=this.else;if(F){const ae=F.optimizeNodes();F=this.else=Array.isArray(ae)?new v(ae):ae}if(F)return k===!1?F instanceof y?F:F.nodes:this.nodes.length?this:new y(Qr(k),F instanceof y?[F]:F.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,F){var ae;if(this.else=(ae=this.else)===null||ae===void 0?void 0:ae.optimizeNames(k,F),!!(super.optimizeNames(k,F)||this.else))return this.condition=dt(this.condition,k,F),this}get names(){const k=super.names;return rt(k,this.condition),this.else&&tt(k,this.else.names),k}}y.kind="if";class m extends q{}m.kind="for";class x extends m{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,F){if(super.optimizeNames(k,F))return this.iteration=dt(this.iteration,k,F),this}get names(){return tt(super.names,this.iteration.names)}}class B extends m{constructor(k,F,ae,Ne){super(),this.varKind=k,this.name=F,this.from=ae,this.to=Ne}render(k){const F=k.es5?I.varKinds.var:this.varKind,{name:ae,from:Ne,to:Be}=this;return`for(${F} ${ae}=${Ne}; ${ae}<${Be}; ${ae}++)`+super.render(k)}get names(){const k=rt(super.names,this.from);return rt(k,this.to)}}class A extends m{constructor(k,F,ae,Ne){super(),this.loop=k,this.varKind=F,this.name=ae,this.iterable=Ne}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,F){if(super.optimizeNames(k,F))return this.iterable=dt(this.iterable,k,F),this}get names(){return tt(super.names,this.iterable.names)}}class M extends q{constructor(k,F,ae){super(),this.name=k,this.args=F,this.async=ae}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}M.kind="func";class V extends H{render(k){return"return "+super.render(k)}}V.kind="return";class ue extends q{render(k){let F="try"+super.render(k);return this.catch&&(F+=this.catch.render(k)),this.finally&&(F+=this.finally.render(k)),F}optimizeNodes(){var k,F;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(F=this.finally)===null||F===void 0||F.optimizeNodes(),this}optimizeNames(k,F){var ae,Ne;return super.optimizeNames(k,F),(ae=this.catch)===null||ae===void 0||ae.optimizeNames(k,F),(Ne=this.finally)===null||Ne===void 0||Ne.optimizeNames(k,F),this}get names(){const k=super.names;return this.catch&&tt(k,this.catch.names),this.finally&&tt(k,this.finally.names),k}}class ve extends q{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}ve.kind="catch";class Se extends q{render(k){return"finally"+super.render(k)}}Se.kind="finally";class Re{constructor(k,F={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...F,_n:F.lines?`
`:""},this._extScope=k,this._scope=new I.Scope({parent:k}),this._nodes=[new L]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,F){const ae=this._extScope.value(k,F);return(this._values[ae.prefix]||(this._values[ae.prefix]=new Set)).add(ae),ae}getScopeValue(k,F){return this._extScope.getValue(k,F)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,F,ae,Ne){const Be=this._scope.toName(F);return ae!==void 0&&Ne&&(this._constants[Be.str]=ae),this._leafNode(new j(k,Be,ae)),Be}const(k,F,ae){return this._def(I.varKinds.const,k,F,ae)}let(k,F,ae){return this._def(I.varKinds.let,k,F,ae)}var(k,F,ae){return this._def(I.varKinds.var,k,F,ae)}assign(k,F,ae){return this._leafNode(new T(k,F,ae))}add(k,F){return this._leafNode(new N(k,p.operators.ADD,F))}code(k){return typeof k=="function"?k():k!==_.nil&&this._leafNode(new re(k)),this}object(...k){const F=["{"];for(const[ae,Ne]of k)F.length>1&&F.push(","),F.push(ae),(ae!==Ne||this.opts.es5)&&(F.push(":"),(0,_.addCodeArg)(F,Ne));return F.push("}"),new _._Code(F)}if(k,F,ae){if(this._blockNode(new y(k)),F&&ae)this.code(F).else().code(ae).endIf();else if(F)this.code(F).endIf();else if(ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new y(k))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(k,F){return this._blockNode(k),F&&this.code(F).endFor(),this}for(k,F){return this._for(new x(k),F)}forRange(k,F,ae,Ne,Be=this.opts.es5?I.varKinds.var:I.varKinds.let){const lt=this._scope.toName(k);return this._for(new B(Be,lt,F,ae),()=>Ne(lt))}forOf(k,F,ae,Ne=I.varKinds.const){const Be=this._scope.toName(k);if(this.opts.es5){const lt=F instanceof _.Name?F:this.var("_arr",F);return this.forRange("_i",0,(0,_._)`${lt}.length`,st=>{this.var(Be,(0,_._)`${lt}[${st}]`),ae(Be)})}return this._for(new A("of",Ne,Be,F),()=>ae(Be))}forIn(k,F,ae,Ne=this.opts.es5?I.varKinds.var:I.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,_._)`Object.keys(${F})`,ae);const Be=this._scope.toName(k);return this._for(new A("in",Ne,Be,F),()=>ae(Be))}endFor(){return this._endBlockNode(m)}label(k){return this._leafNode(new z(k))}break(k){return this._leafNode(new R(k))}return(k){const F=new V;if(this._blockNode(F),this.code(k),F.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(V)}try(k,F,ae){if(!F&&!ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ne=new ue;if(this._blockNode(Ne),this.code(k),F){const Be=this.name("e");this._currNode=Ne.catch=new ve(Be),F(Be)}return ae&&(this._currNode=Ne.finally=new Se,this.code(ae)),this._endBlockNode(ve,Se)}throw(k){return this._leafNode(new K(k))}block(k,F){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(F),this}endBlock(k){const F=this._blockStarts.pop();if(F===void 0)throw new Error("CodeGen: not in self-balancing block");const ae=this._nodes.length-F;if(ae<0||k!==void 0&&ae!==k)throw new Error(`CodeGen: wrong number of nodes: ${ae} vs ${k} expected`);return this._nodes.length=F,this}func(k,F=_.nil,ae,Ne){return this._blockNode(new M(k,F,ae)),Ne&&this.code(Ne).endFunc(),this}endFunc(){return this._endBlockNode(M)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,F){const ae=this._currNode;if(ae instanceof k||F&&ae instanceof F)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${F?`${k.kind}/${F.kind}`:k.kind}"`)}_elseNode(k){const F=this._currNode;if(!(F instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=F.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const F=this._nodes;F[F.length-1]=k}}p.CodeGen=Re;function tt(te,k){for(const F in k)te[F]=(te[F]||0)+(k[F]||0);return te}function rt(te,k){return k instanceof _._CodeOrName?tt(te,k.names):te}function dt(te,k,F){if(te instanceof _.Name)return ae(te);if(!Ne(te))return te;return new _._Code(te._items.reduce((Be,lt)=>(lt instanceof _.Name&&(lt=ae(lt)),lt instanceof _._Code?Be.push(...lt._items):Be.push(lt),Be),[]));function ae(Be){const lt=F[Be.str];return lt===void 0||k[Be.str]!==1?Be:(delete k[Be.str],lt)}function Ne(Be){return Be instanceof _._Code&&Be._items.some(lt=>lt instanceof _.Name&&k[lt.str]===1&&F[lt.str]!==void 0)}}function hr(te,k){for(const F in k)te[F]=(te[F]||0)-(k[F]||0)}function Qr(te){return typeof te=="boolean"||typeof te=="number"||te===null?!te:(0,_._)`!${pe(te)}`}p.not=Qr;const xn=Q(p.operators.AND);function xt(...te){return te.reduce(xn)}p.and=xt;const Vn=Q(p.operators.OR);function we(...te){return te.reduce(Vn)}p.or=we;function Q(te){return(k,F)=>k===_.nil?F:F===_.nil?k:(0,_._)`${pe(k)} ${te} ${pe(F)}`}function pe(te){return te instanceof _.Name?te:(0,_._)`(${te})`}})(o)),o}var g={},O;function $(){if(O)return g;O=1,Object.defineProperty(g,"__esModule",{value:!0}),g.checkStrictMode=g.getErrorPath=g.Type=g.useFunc=g.setEvaluated=g.evaluatedPropsToName=g.mergeEvaluated=g.eachItem=g.unescapeJsonPointer=g.escapeJsonPointer=g.escapeFragment=g.unescapeFragment=g.schemaRefOrVal=g.schemaHasRulesButRef=g.schemaHasRules=g.checkUnknownRules=g.alwaysValidSchema=g.toHash=void 0;const p=d(),_=l();function I(A){const M={};for(const V of A)M[V]=!0;return M}g.toHash=I;function S(A,M){return typeof M=="boolean"?M:Object.keys(M).length===0?!0:(E(A,M),!C(M,A.self.RULES.all))}g.alwaysValidSchema=S;function E(A,M=A.schema){const{opts:V,self:ue}=A;if(!V.strictSchema||typeof M=="boolean")return;const ve=ue.RULES.keywords;for(const Se in M)ve[Se]||B(A,`unknown keyword: "${Se}"`)}g.checkUnknownRules=E;function C(A,M){if(typeof A=="boolean")return!A;for(const V in A)if(M[V])return!0;return!1}g.schemaHasRules=C;function j(A,M){if(typeof A=="boolean")return!A;for(const V in A)if(V!=="$ref"&&M.all[V])return!0;return!1}g.schemaHasRulesButRef=j;function T({topSchemaRef:A,schemaPath:M},V,ue,ve){if(!ve){if(typeof V=="number"||typeof V=="boolean")return V;if(typeof V=="string")return(0,p._)`${V}`}return(0,p._)`${A}${M}${(0,p.getProperty)(ue)}`}g.schemaRefOrVal=T;function N(A){return K(decodeURIComponent(A))}g.unescapeFragment=N;function z(A){return encodeURIComponent(R(A))}g.escapeFragment=z;function R(A){return typeof A=="number"?`${A}`:A.replace(/~/g,"~0").replace(/\//g,"~1")}g.escapeJsonPointer=R;function K(A){return A.replace(/~1/g,"/").replace(/~0/g,"~")}g.unescapeJsonPointer=K;function re(A,M){if(Array.isArray(A))for(const V of A)M(V);else M(A)}g.eachItem=re;function H({mergeNames:A,mergeToName:M,mergeValues:V,resultToName:ue}){return(ve,Se,Re,tt)=>{const rt=Re===void 0?Se:Re instanceof p.Name?(Se instanceof p.Name?A(ve,Se,Re):M(ve,Se,Re),Re):Se instanceof p.Name?(M(ve,Re,Se),Se):V(Se,Re);return tt===p.Name&&!(rt instanceof p.Name)?ue(ve,rt):rt}}g.mergeEvaluated={props:H({mergeNames:(A,M,V)=>A.if((0,p._)`${V} !== true && ${M} !== undefined`,()=>{A.if((0,p._)`${M} === true`,()=>A.assign(V,!0),()=>A.assign(V,(0,p._)`${V} || {}`).code((0,p._)`Object.assign(${V}, ${M})`))}),mergeToName:(A,M,V)=>A.if((0,p._)`${V} !== true`,()=>{M===!0?A.assign(V,!0):(A.assign(V,(0,p._)`${V} || {}`),L(A,V,M))}),mergeValues:(A,M)=>A===!0?!0:{...A,...M},resultToName:q}),items:H({mergeNames:(A,M,V)=>A.if((0,p._)`${V} !== true && ${M} !== undefined`,()=>A.assign(V,(0,p._)`${M} === true ? true : ${V} > ${M} ? ${V} : ${M}`)),mergeToName:(A,M,V)=>A.if((0,p._)`${V} !== true`,()=>A.assign(V,M===!0?!0:(0,p._)`${V} > ${M} ? ${V} : ${M}`)),mergeValues:(A,M)=>A===!0?!0:Math.max(A,M),resultToName:(A,M)=>A.var("items",M)})};function q(A,M){if(M===!0)return A.var("props",!0);const V=A.var("props",(0,p._)`{}`);return M!==void 0&&L(A,V,M),V}g.evaluatedPropsToName=q;function L(A,M,V){Object.keys(V).forEach(ue=>A.assign((0,p._)`${M}${(0,p.getProperty)(ue)}`,!0))}g.setEvaluated=L;const v={};function y(A,M){return A.scopeValue("func",{ref:M,code:v[M.code]||(v[M.code]=new _._Code(M.code))})}g.useFunc=y;var m;(function(A){A[A.Num=0]="Num",A[A.Str=1]="Str"})(m||(g.Type=m={}));function x(A,M,V){if(A instanceof p.Name){const ue=M===m.Num;return V?ue?(0,p._)`"[" + ${A} + "]"`:(0,p._)`"['" + ${A} + "']"`:ue?(0,p._)`"/" + ${A}`:(0,p._)`"/" + ${A}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return V?(0,p.getProperty)(A).toString():"/"+R(A)}g.getErrorPath=x;function B(A,M,V=A.opts.strictSchema){if(V){if(M=`strict mode: ${M}`,V===!0)throw new Error(M);A.self.logger.warn(M)}}return g.checkStrictMode=B,g}var P={},Y;function ne(){if(Y)return P;Y=1,Object.defineProperty(P,"__esModule",{value:!0});const p=d(),_={data:new p.Name("data"),valCxt:new p.Name("valCxt"),instancePath:new p.Name("instancePath"),parentData:new p.Name("parentData"),parentDataProperty:new p.Name("parentDataProperty"),rootData:new p.Name("rootData"),dynamicAnchors:new p.Name("dynamicAnchors"),vErrors:new p.Name("vErrors"),errors:new p.Name("errors"),this:new p.Name("this"),self:new p.Name("self"),scope:new p.Name("scope"),json:new p.Name("json"),jsonPos:new p.Name("jsonPos"),jsonLen:new p.Name("jsonLen"),jsonPart:new p.Name("jsonPart")};return P.default=_,P}var G;function X(){return G||(G=1,(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.extendErrors=p.resetErrorsCount=p.reportExtraError=p.reportError=p.keyword$DataError=p.keywordError=void 0;const _=d(),I=$(),S=ne();p.keywordError={message:({keyword:v})=>(0,_.str)`must pass "${v}" keyword validation`},p.keyword$DataError={message:({keyword:v,schemaType:y})=>y?(0,_.str)`"${v}" keyword must be ${y} ($data)`:(0,_.str)`"${v}" keyword is invalid ($data)`};function E(v,y=p.keywordError,m,x){const{it:B}=v,{gen:A,compositeRule:M,allErrors:V}=B,ue=K(v,y,m);x??(M||V)?N(A,ue):z(B,(0,_._)`[${ue}]`)}p.reportError=E;function C(v,y=p.keywordError,m){const{it:x}=v,{gen:B,compositeRule:A,allErrors:M}=x,V=K(v,y,m);N(B,V),A||M||z(x,S.default.vErrors)}p.reportExtraError=C;function j(v,y){v.assign(S.default.errors,y),v.if((0,_._)`${S.default.vErrors} !== null`,()=>v.if(y,()=>v.assign((0,_._)`${S.default.vErrors}.length`,y),()=>v.assign(S.default.vErrors,null)))}p.resetErrorsCount=j;function T({gen:v,keyword:y,schemaValue:m,data:x,errsCount:B,it:A}){if(B===void 0)throw new Error("ajv implementation error");const M=v.name("err");v.forRange("i",B,S.default.errors,V=>{v.const(M,(0,_._)`${S.default.vErrors}[${V}]`),v.if((0,_._)`${M}.instancePath === undefined`,()=>v.assign((0,_._)`${M}.instancePath`,(0,_.strConcat)(S.default.instancePath,A.errorPath))),v.assign((0,_._)`${M}.schemaPath`,(0,_.str)`${A.errSchemaPath}/${y}`),A.opts.verbose&&(v.assign((0,_._)`${M}.schema`,m),v.assign((0,_._)`${M}.data`,x))})}p.extendErrors=T;function N(v,y){const m=v.const("err",y);v.if((0,_._)`${S.default.vErrors} === null`,()=>v.assign(S.default.vErrors,(0,_._)`[${m}]`),(0,_._)`${S.default.vErrors}.push(${m})`),v.code((0,_._)`${S.default.errors}++`)}function z(v,y){const{gen:m,validateName:x,schemaEnv:B}=v;B.$async?m.throw((0,_._)`new ${v.ValidationError}(${y})`):(m.assign((0,_._)`${x}.errors`,y),m.return(!1))}const R={keyword:new _.Name("keyword"),schemaPath:new _.Name("schemaPath"),params:new _.Name("params"),propertyName:new _.Name("propertyName"),message:new _.Name("message"),schema:new _.Name("schema"),parentSchema:new _.Name("parentSchema")};function K(v,y,m){const{createErrors:x}=v.it;return x===!1?(0,_._)`{}`:re(v,y,m)}function re(v,y,m={}){const{gen:x,it:B}=v,A=[H(B,m),q(v,m)];return L(v,y,A),x.object(...A)}function H({errorPath:v},{instancePath:y}){const m=y?(0,_.str)`${v}${(0,I.getErrorPath)(y,I.Type.Str)}`:v;return[S.default.instancePath,(0,_.strConcat)(S.default.instancePath,m)]}function q({keyword:v,it:{errSchemaPath:y}},{schemaPath:m,parentSchema:x}){let B=x?y:(0,_.str)`${y}/${v}`;return m&&(B=(0,_.str)`${B}${(0,I.getErrorPath)(m,I.Type.Str)}`),[R.schemaPath,B]}function L(v,{params:y,message:m},x){const{keyword:B,data:A,schemaValue:M,it:V}=v,{opts:ue,propertyName:ve,topSchemaRef:Se,schemaPath:Re}=V;x.push([R.keyword,B],[R.params,typeof y=="function"?y(v):y||(0,_._)`{}`]),ue.messages&&x.push([R.message,typeof m=="function"?m(v):m]),ue.verbose&&x.push([R.schema,M],[R.parentSchema,(0,_._)`${Se}${Re}`],[S.default.data,A]),ve&&x.push([R.propertyName,ve])}})(i)),i}var se;function Z(){if(se)return n;se=1,Object.defineProperty(n,"__esModule",{value:!0}),n.boolOrEmptySchema=n.topBoolOrEmptySchema=void 0;const p=X(),_=d(),I=ne(),S={message:"boolean schema is false"};function E(T){const{gen:N,schema:z,validateName:R}=T;z===!1?j(T,!1):typeof z=="object"&&z.$async===!0?N.return(I.default.data):(N.assign((0,_._)`${R}.errors`,null),N.return(!0))}n.topBoolOrEmptySchema=E;function C(T,N){const{gen:z,schema:R}=T;R===!1?(z.var(N,!1),j(T)):z.var(N,!0)}n.boolOrEmptySchema=C;function j(T,N){const{gen:z,data:R}=T,K={gen:z,keyword:"false schema",data:R,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:T};(0,p.reportError)(K,S,void 0,N)}return n}var le={},$e={},Ke;function De(){if(Ke)return $e;Ke=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.getRules=$e.isJSONType=void 0;const p=["string","number","integer","boolean","null","object","array"],_=new Set(p);function I(E){return typeof E=="string"&&_.has(E)}$e.isJSONType=I;function S(){const E={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...E,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},E.number,E.string,E.array,E.object],post:{rules:[]},all:{},keywords:{}}}return $e.getRules=S,$e}var be={},je;function ze(){if(je)return be;je=1,Object.defineProperty(be,"__esModule",{value:!0}),be.shouldUseRule=be.shouldUseGroup=be.schemaHasRulesForType=void 0;function p({schema:S,self:E},C){const j=E.RULES.types[C];return j&&j!==!0&&_(S,j)}be.schemaHasRulesForType=p;function _(S,E){return E.rules.some(C=>I(S,C))}be.shouldUseGroup=_;function I(S,E){var C;return S[E.keyword]!==void 0||((C=E.definition.implements)===null||C===void 0?void 0:C.some(j=>S[j]!==void 0))}return be.shouldUseRule=I,be}var Te;function ge(){if(Te)return le;Te=1,Object.defineProperty(le,"__esModule",{value:!0}),le.reportTypeError=le.checkDataTypes=le.checkDataType=le.coerceAndCheckDataType=le.getJSONTypes=le.getSchemaTypes=le.DataType=void 0;const p=De(),_=ze(),I=X(),S=d(),E=$();var C;(function(m){m[m.Correct=0]="Correct",m[m.Wrong=1]="Wrong"})(C||(le.DataType=C={}));function j(m){const x=T(m.type);if(x.includes("null")){if(m.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!x.length&&m.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');m.nullable===!0&&x.push("null")}return x}le.getSchemaTypes=j;function T(m){const x=Array.isArray(m)?m:m?[m]:[];if(x.every(p.isJSONType))return x;throw new Error("type must be JSONType or JSONType[]: "+x.join(","))}le.getJSONTypes=T;function N(m,x){const{gen:B,data:A,opts:M}=m,V=R(x,M.coerceTypes),ue=x.length>0&&!(V.length===0&&x.length===1&&(0,_.schemaHasRulesForType)(m,x[0]));if(ue){const ve=q(x,A,M.strictNumbers,C.Wrong);B.if(ve,()=>{V.length?K(m,x,V):v(m)})}return ue}le.coerceAndCheckDataType=N;const z=new Set(["string","number","integer","boolean","null"]);function R(m,x){return x?m.filter(B=>z.has(B)||x==="array"&&B==="array"):[]}function K(m,x,B){const{gen:A,data:M,opts:V}=m,ue=A.let("dataType",(0,S._)`typeof ${M}`),ve=A.let("coerced",(0,S._)`undefined`);V.coerceTypes==="array"&&A.if((0,S._)`${ue} == 'object' && Array.isArray(${M}) && ${M}.length == 1`,()=>A.assign(M,(0,S._)`${M}[0]`).assign(ue,(0,S._)`typeof ${M}`).if(q(x,M,V.strictNumbers),()=>A.assign(ve,M))),A.if((0,S._)`${ve} !== undefined`);for(const Re of B)(z.has(Re)||Re==="array"&&V.coerceTypes==="array")&&Se(Re);A.else(),v(m),A.endIf(),A.if((0,S._)`${ve} !== undefined`,()=>{A.assign(M,ve),re(m,ve)});function Se(Re){switch(Re){case"string":A.elseIf((0,S._)`${ue} == "number" || ${ue} == "boolean"`).assign(ve,(0,S._)`"" + ${M}`).elseIf((0,S._)`${M} === null`).assign(ve,(0,S._)`""`);return;case"number":A.elseIf((0,S._)`${ue} == "boolean" || ${M} === null
              || (${ue} == "string" && ${M} && ${M} == +${M})`).assign(ve,(0,S._)`+${M}`);return;case"integer":A.elseIf((0,S._)`${ue} === "boolean" || ${M} === null
              || (${ue} === "string" && ${M} && ${M} == +${M} && !(${M} % 1))`).assign(ve,(0,S._)`+${M}`);return;case"boolean":A.elseIf((0,S._)`${M} === "false" || ${M} === 0 || ${M} === null`).assign(ve,!1).elseIf((0,S._)`${M} === "true" || ${M} === 1`).assign(ve,!0);return;case"null":A.elseIf((0,S._)`${M} === "" || ${M} === 0 || ${M} === false`),A.assign(ve,null);return;case"array":A.elseIf((0,S._)`${ue} === "string" || ${ue} === "number"
              || ${ue} === "boolean" || ${M} === null`).assign(ve,(0,S._)`[${M}]`)}}}function re({gen:m,parentData:x,parentDataProperty:B},A){m.if((0,S._)`${x} !== undefined`,()=>m.assign((0,S._)`${x}[${B}]`,A))}function H(m,x,B,A=C.Correct){const M=A===C.Correct?S.operators.EQ:S.operators.NEQ;let V;switch(m){case"null":return(0,S._)`${x} ${M} null`;case"array":V=(0,S._)`Array.isArray(${x})`;break;case"object":V=(0,S._)`${x} && typeof ${x} == "object" && !Array.isArray(${x})`;break;case"integer":V=ue((0,S._)`!(${x} % 1) && !isNaN(${x})`);break;case"number":V=ue();break;default:return(0,S._)`typeof ${x} ${M} ${m}`}return A===C.Correct?V:(0,S.not)(V);function ue(ve=S.nil){return(0,S.and)((0,S._)`typeof ${x} == "number"`,ve,B?(0,S._)`isFinite(${x})`:S.nil)}}le.checkDataType=H;function q(m,x,B,A){if(m.length===1)return H(m[0],x,B,A);let M;const V=(0,E.toHash)(m);if(V.array&&V.object){const ue=(0,S._)`typeof ${x} != "object"`;M=V.null?ue:(0,S._)`!${x} || ${ue}`,delete V.null,delete V.array,delete V.object}else M=S.nil;V.number&&delete V.integer;for(const ue in V)M=(0,S.and)(M,H(ue,x,B,A));return M}le.checkDataTypes=q;const L={message:({schema:m})=>`must be ${m}`,params:({schema:m,schemaValue:x})=>typeof m=="string"?(0,S._)`{type: ${m}}`:(0,S._)`{type: ${x}}`};function v(m){const x=y(m);(0,I.reportError)(x,L)}le.reportTypeError=v;function y(m){const{gen:x,data:B,schema:A}=m,M=(0,E.schemaRefOrVal)(m,A,"type");return{gen:x,keyword:"type",data:B,schema:A.type,schemaCode:M,schemaValue:M,parentSchema:A,params:{},it:m}}return le}var Ce={},Fe;function J(){if(Fe)return Ce;Fe=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.assignDefaults=void 0;const p=d(),_=$();function I(E,C){const{properties:j,items:T}=E.schema;if(C==="object"&&j)for(const N in j)S(E,N,j[N].default);else C==="array"&&Array.isArray(T)&&T.forEach((N,z)=>S(E,z,N.default))}Ce.assignDefaults=I;function S(E,C,j){const{gen:T,compositeRule:N,data:z,opts:R}=E;if(j===void 0)return;const K=(0,p._)`${z}${(0,p.getProperty)(C)}`;if(N){(0,_.checkStrictMode)(E,`default is ignored for: ${K}`);return}let re=(0,p._)`${K} === undefined`;R.useDefaults==="empty"&&(re=(0,p._)`${re} || ${K} === null || ${K} === ""`),T.if(re,(0,p._)`${K} = ${(0,p.stringify)(j)}`)}return Ce}var de={},me={},ye;function ce(){if(ye)return me;ye=1,Object.defineProperty(me,"__esModule",{value:!0}),me.validateUnion=me.validateArray=me.usePattern=me.callValidateCode=me.schemaProperties=me.allSchemaProperties=me.noPropertyInData=me.propertyInData=me.isOwnProperty=me.hasPropFunc=me.reportMissingProp=me.checkMissingProp=me.checkReportMissingProp=void 0;const p=d(),_=$(),I=ne(),S=$();function E(m,x){const{gen:B,data:A,it:M}=m;B.if(R(B,A,x,M.opts.ownProperties),()=>{m.setParams({missingProperty:(0,p._)`${x}`},!0),m.error()})}me.checkReportMissingProp=E;function C({gen:m,data:x,it:{opts:B}},A,M){return(0,p.or)(...A.map(V=>(0,p.and)(R(m,x,V,B.ownProperties),(0,p._)`${M} = ${V}`)))}me.checkMissingProp=C;function j(m,x){m.setParams({missingProperty:x},!0),m.error()}me.reportMissingProp=j;function T(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,p._)`Object.prototype.hasOwnProperty`})}me.hasPropFunc=T;function N(m,x,B){return(0,p._)`${T(m)}.call(${x}, ${B})`}me.isOwnProperty=N;function z(m,x,B,A){const M=(0,p._)`${x}${(0,p.getProperty)(B)} !== undefined`;return A?(0,p._)`${M} && ${N(m,x,B)}`:M}me.propertyInData=z;function R(m,x,B,A){const M=(0,p._)`${x}${(0,p.getProperty)(B)} === undefined`;return A?(0,p.or)(M,(0,p.not)(N(m,x,B))):M}me.noPropertyInData=R;function K(m){return m?Object.keys(m).filter(x=>x!=="__proto__"):[]}me.allSchemaProperties=K;function re(m,x){return K(x).filter(B=>!(0,_.alwaysValidSchema)(m,x[B]))}me.schemaProperties=re;function H({schemaCode:m,data:x,it:{gen:B,topSchemaRef:A,schemaPath:M,errorPath:V},it:ue},ve,Se,Re){const tt=Re?(0,p._)`${m}, ${x}, ${A}${M}`:x,rt=[[I.default.instancePath,(0,p.strConcat)(I.default.instancePath,V)],[I.default.parentData,ue.parentData],[I.default.parentDataProperty,ue.parentDataProperty],[I.default.rootData,I.default.rootData]];ue.opts.dynamicRef&&rt.push([I.default.dynamicAnchors,I.default.dynamicAnchors]);const dt=(0,p._)`${tt}, ${B.object(...rt)}`;return Se!==p.nil?(0,p._)`${ve}.call(${Se}, ${dt})`:(0,p._)`${ve}(${dt})`}me.callValidateCode=H;const q=(0,p._)`new RegExp`;function L({gen:m,it:{opts:x}},B){const A=x.unicodeRegExp?"u":"",{regExp:M}=x.code,V=M(B,A);return m.scopeValue("pattern",{key:V.toString(),ref:V,code:(0,p._)`${M.code==="new RegExp"?q:(0,S.useFunc)(m,M)}(${B}, ${A})`})}me.usePattern=L;function v(m){const{gen:x,data:B,keyword:A,it:M}=m,V=x.name("valid");if(M.allErrors){const ve=x.let("valid",!0);return ue(()=>x.assign(ve,!1)),ve}return x.var(V,!0),ue(()=>x.break()),V;function ue(ve){const Se=x.const("len",(0,p._)`${B}.length`);x.forRange("i",0,Se,Re=>{m.subschema({keyword:A,dataProp:Re,dataPropType:_.Type.Num},V),x.if((0,p.not)(V),ve)})}}me.validateArray=v;function y(m){const{gen:x,schema:B,keyword:A,it:M}=m;if(!Array.isArray(B))throw new Error("ajv implementation error");if(B.some(ve=>(0,_.alwaysValidSchema)(M,ve))&&!M.opts.unevaluated)return;const V=x.let("valid",!1),ue=x.name("_valid");x.block(()=>B.forEach((ve,Se)=>{const Re=m.subschema({keyword:A,schemaProp:Se,compositeRule:!0},ue);x.assign(V,(0,p._)`${V} || ${ue}`),m.mergeValidEvaluated(Re,ue)||x.if((0,p.not)(V))})),m.result(V,()=>m.reset(),()=>m.error(!0))}return me.validateUnion=y,me}var xe;function Ie(){if(xe)return de;xe=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateKeywordUsage=de.validSchemaType=de.funcKeywordCode=de.macroKeywordCode=void 0;const p=d(),_=ne(),I=ce(),S=X();function E(re,H){const{gen:q,keyword:L,schema:v,parentSchema:y,it:m}=re,x=H.macro.call(m.self,v,y,m),B=z(q,L,x);m.opts.validateSchema!==!1&&m.self.validateSchema(x,!0);const A=q.name("valid");re.subschema({schema:x,schemaPath:p.nil,errSchemaPath:`${m.errSchemaPath}/${L}`,topSchemaRef:B,compositeRule:!0},A),re.pass(A,()=>re.error(!0))}de.macroKeywordCode=E;function C(re,H){var q;const{gen:L,keyword:v,schema:y,parentSchema:m,$data:x,it:B}=re;N(B,H);const A=!x&&H.compile?H.compile.call(B.self,y,m,B):H.validate,M=z(L,v,A),V=L.let("valid");re.block$data(V,ue),re.ok((q=H.valid)!==null&&q!==void 0?q:V);function ue(){if(H.errors===!1)Re(),H.modifying&&j(re),tt(()=>re.error());else{const rt=H.async?ve():Se();H.modifying&&j(re),tt(()=>T(re,rt))}}function ve(){const rt=L.let("ruleErrs",null);return L.try(()=>Re((0,p._)`await `),dt=>L.assign(V,!1).if((0,p._)`${dt} instanceof ${B.ValidationError}`,()=>L.assign(rt,(0,p._)`${dt}.errors`),()=>L.throw(dt))),rt}function Se(){const rt=(0,p._)`${M}.errors`;return L.assign(rt,null),Re(p.nil),rt}function Re(rt=H.async?(0,p._)`await `:p.nil){const dt=B.opts.passContext?_.default.this:_.default.self,hr=!("compile"in H&&!x||H.schema===!1);L.assign(V,(0,p._)`${rt}${(0,I.callValidateCode)(re,M,dt,hr)}`,H.modifying)}function tt(rt){var dt;L.if((0,p.not)((dt=H.valid)!==null&&dt!==void 0?dt:V),rt)}}de.funcKeywordCode=C;function j(re){const{gen:H,data:q,it:L}=re;H.if(L.parentData,()=>H.assign(q,(0,p._)`${L.parentData}[${L.parentDataProperty}]`))}function T(re,H){const{gen:q}=re;q.if((0,p._)`Array.isArray(${H})`,()=>{q.assign(_.default.vErrors,(0,p._)`${_.default.vErrors} === null ? ${H} : ${_.default.vErrors}.concat(${H})`).assign(_.default.errors,(0,p._)`${_.default.vErrors}.length`),(0,S.extendErrors)(re)},()=>re.error())}function N({schemaEnv:re},H){if(H.async&&!re.$async)throw new Error("async keyword in sync schema")}function z(re,H,q){if(q===void 0)throw new Error(`keyword "${H}" failed to compile`);return re.scopeValue("keyword",typeof q=="function"?{ref:q}:{ref:q,code:(0,p.stringify)(q)})}function R(re,H,q=!1){return!H.length||H.some(L=>L==="array"?Array.isArray(re):L==="object"?re&&typeof re=="object"&&!Array.isArray(re):typeof re==L||q&&typeof re>"u")}de.validSchemaType=R;function K({schema:re,opts:H,self:q,errSchemaPath:L},v,y){if(Array.isArray(v.keyword)?!v.keyword.includes(y):v.keyword!==y)throw new Error("ajv implementation error");const m=v.dependencies;if(m!=null&&m.some(x=>!Object.prototype.hasOwnProperty.call(re,x)))throw new Error(`parent schema must have dependencies of ${y}: ${m.join(",")}`);if(v.validateSchema&&!v.validateSchema(re[y])){const x=`keyword "${y}" value is invalid at path "${L}": `+q.errorsText(v.validateSchema.errors);if(H.validateSchema==="log")q.logger.error(x);else throw new Error(x)}}return de.validateKeywordUsage=K,de}var qe={},vt;function Nt(){if(vt)return qe;vt=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.extendSubschemaMode=qe.extendSubschemaData=qe.getSubschema=void 0;const p=d(),_=$();function I(C,{keyword:j,schemaProp:T,schema:N,schemaPath:z,errSchemaPath:R,topSchemaRef:K}){if(j!==void 0&&N!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(j!==void 0){const re=C.schema[j];return T===void 0?{schema:re,schemaPath:(0,p._)`${C.schemaPath}${(0,p.getProperty)(j)}`,errSchemaPath:`${C.errSchemaPath}/${j}`}:{schema:re[T],schemaPath:(0,p._)`${C.schemaPath}${(0,p.getProperty)(j)}${(0,p.getProperty)(T)}`,errSchemaPath:`${C.errSchemaPath}/${j}/${(0,_.escapeFragment)(T)}`}}if(N!==void 0){if(z===void 0||R===void 0||K===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:N,schemaPath:z,topSchemaRef:K,errSchemaPath:R}}throw new Error('either "keyword" or "schema" must be passed')}qe.getSubschema=I;function S(C,j,{dataProp:T,dataPropType:N,data:z,dataTypes:R,propertyName:K}){if(z!==void 0&&T!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:re}=j;if(T!==void 0){const{errorPath:q,dataPathArr:L,opts:v}=j,y=re.let("data",(0,p._)`${j.data}${(0,p.getProperty)(T)}`,!0);H(y),C.errorPath=(0,p.str)`${q}${(0,_.getErrorPath)(T,N,v.jsPropertySyntax)}`,C.parentDataProperty=(0,p._)`${T}`,C.dataPathArr=[...L,C.parentDataProperty]}if(z!==void 0){const q=z instanceof p.Name?z:re.let("data",z,!0);H(q),K!==void 0&&(C.propertyName=K)}R&&(C.dataTypes=R);function H(q){C.data=q,C.dataLevel=j.dataLevel+1,C.dataTypes=[],j.definedProperties=new Set,C.parentData=j.data,C.dataNames=[...j.dataNames,q]}}qe.extendSubschemaData=S;function E(C,{jtdDiscriminator:j,jtdMetadata:T,compositeRule:N,createErrors:z,allErrors:R}){N!==void 0&&(C.compositeRule=N),z!==void 0&&(C.createErrors=z),R!==void 0&&(C.allErrors=R),C.jtdDiscriminator=j,C.jtdMetadata=T}return qe.extendSubschemaMode=E,qe}var ft={},Zt,bn;function Ln(){return bn||(bn=1,Zt=function p(_,I){if(_===I)return!0;if(_&&I&&typeof _=="object"&&typeof I=="object"){if(_.constructor!==I.constructor)return!1;var S,E,C;if(Array.isArray(_)){if(S=_.length,S!=I.length)return!1;for(E=S;E--!==0;)if(!p(_[E],I[E]))return!1;return!0}if(_.constructor===RegExp)return _.source===I.source&&_.flags===I.flags;if(_.valueOf!==Object.prototype.valueOf)return _.valueOf()===I.valueOf();if(_.toString!==Object.prototype.toString)return _.toString()===I.toString();if(C=Object.keys(_),S=C.length,S!==Object.keys(I).length)return!1;for(E=S;E--!==0;)if(!Object.prototype.hasOwnProperty.call(I,C[E]))return!1;for(E=S;E--!==0;){var j=C[E];if(!p(_[j],I[j]))return!1}return!0}return _!==_&&I!==I}),Zt}var wn={exports:{}},Ms;function fc(){if(Ms)return wn.exports;Ms=1;var p=wn.exports=function(S,E,C){typeof E=="function"&&(C=E,E={}),C=E.cb||C;var j=typeof C=="function"?C:C.pre||function(){},T=C.post||function(){};_(E,j,T,S,"",S)};p.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},p.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},p.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},p.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _(S,E,C,j,T,N,z,R,K,re){if(j&&typeof j=="object"&&!Array.isArray(j)){E(j,T,N,z,R,K,re);for(var H in j){var q=j[H];if(Array.isArray(q)){if(H in p.arrayKeywords)for(var L=0;L<q.length;L++)_(S,E,C,q[L],T+"/"+H+"/"+L,N,T,H,j,L)}else if(H in p.propsKeywords){if(q&&typeof q=="object")for(var v in q)_(S,E,C,q[v],T+"/"+H+"/"+I(v),N,T,H,j,v)}else(H in p.keywords||S.allKeys&&!(H in p.skipKeywords))&&_(S,E,C,q,T+"/"+H,N,T,H,j)}C(j,T,N,z,R,K,re)}}function I(S){return S.replace(/~/g,"~0").replace(/\//g,"~1")}return wn.exports}var yo;function ji(){if(yo)return ft;yo=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.getSchemaRefs=ft.resolveUrl=ft.normalizeId=ft._getFullPath=ft.getFullPath=ft.inlineRef=void 0;const p=$(),_=Ln(),I=fc(),S=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function E(L,v=!0){return typeof L=="boolean"?!0:v===!0?!j(L):v?T(L)<=v:!1}ft.inlineRef=E;const C=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function j(L){for(const v in L){if(C.has(v))return!0;const y=L[v];if(Array.isArray(y)&&y.some(j)||typeof y=="object"&&j(y))return!0}return!1}function T(L){let v=0;for(const y in L)if(y==="$ref"||(v++,!S.has(y)&&(typeof L[y]=="object"&&(0,p.eachItem)(L[y],m=>v+=T(m)),v===1/0)))return 1/0;return v}function N(L,v="",y){y!==!1&&(v=K(v));const m=L.parse(v);return z(L,m)}ft.getFullPath=N;function z(L,v){return L.serialize(v).split("#")[0]+"#"}ft._getFullPath=z;const R=/#\/?$/;function K(L){return L?L.replace(R,""):""}ft.normalizeId=K;function re(L,v,y){return y=K(y),L.resolve(v,y)}ft.resolveUrl=re;const H=/^[a-z_][-a-z0-9._]*$/i;function q(L,v){if(typeof L=="boolean")return{};const{schemaId:y,uriResolver:m}=this.opts,x=K(L[y]||v),B={"":x},A=N(m,x,!1),M={},V=new Set;return I(L,{allKeys:!0},(Se,Re,tt,rt)=>{if(rt===void 0)return;const dt=A+Re;let hr=B[rt];typeof Se[y]=="string"&&(hr=Qr.call(this,Se[y])),xn.call(this,Se.$anchor),xn.call(this,Se.$dynamicAnchor),B[Re]=hr;function Qr(xt){const Vn=this.opts.uriResolver.resolve;if(xt=K(hr?Vn(hr,xt):xt),V.has(xt))throw ve(xt);V.add(xt);let we=this.refs[xt];return typeof we=="string"&&(we=this.refs[we]),typeof we=="object"?ue(Se,we.schema,xt):xt!==K(dt)&&(xt[0]==="#"?(ue(Se,M[xt],xt),M[xt]=Se):this.refs[xt]=dt),xt}function xn(xt){if(typeof xt=="string"){if(!H.test(xt))throw new Error(`invalid anchor "${xt}"`);Qr.call(this,`#${xt}`)}}}),M;function ue(Se,Re,tt){if(Re!==void 0&&!_(Se,Re))throw ve(tt)}function ve(Se){return new Error(`reference "${Se}" resolves to more than one schema`)}}return ft.getSchemaRefs=q,ft}var Ti;function Ue(){if(Ti)return r;Ti=1,Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const p=Z(),_=ge(),I=ze(),S=ge(),E=J(),C=Ie(),j=Nt(),T=d(),N=ne(),z=ji(),R=$(),K=X();function re(U){if(A(U)&&(V(U),B(U))){v(U);return}H(U,()=>(0,p.topBoolOrEmptySchema)(U))}r.validateFunctionCode=re;function H({gen:U,validateName:ee,schema:fe,schemaEnv:_e,opts:Le},nt){Le.code.es5?U.func(ee,(0,T._)`${N.default.data}, ${N.default.valCxt}`,_e.$async,()=>{U.code((0,T._)`"use strict"; ${m(fe,Le)}`),L(U,Le),U.code(nt)}):U.func(ee,(0,T._)`${N.default.data}, ${q(Le)}`,_e.$async,()=>U.code(m(fe,Le)).code(nt))}function q(U){return(0,T._)`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${U.dynamicRef?(0,T._)`, ${N.default.dynamicAnchors}={}`:T.nil}}={}`}function L(U,ee){U.if(N.default.valCxt,()=>{U.var(N.default.instancePath,(0,T._)`${N.default.valCxt}.${N.default.instancePath}`),U.var(N.default.parentData,(0,T._)`${N.default.valCxt}.${N.default.parentData}`),U.var(N.default.parentDataProperty,(0,T._)`${N.default.valCxt}.${N.default.parentDataProperty}`),U.var(N.default.rootData,(0,T._)`${N.default.valCxt}.${N.default.rootData}`),ee.dynamicRef&&U.var(N.default.dynamicAnchors,(0,T._)`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{U.var(N.default.instancePath,(0,T._)`""`),U.var(N.default.parentData,(0,T._)`undefined`),U.var(N.default.parentDataProperty,(0,T._)`undefined`),U.var(N.default.rootData,N.default.data),ee.dynamicRef&&U.var(N.default.dynamicAnchors,(0,T._)`{}`)})}function v(U){const{schema:ee,opts:fe,gen:_e}=U;H(U,()=>{fe.$comment&&ee.$comment&&rt(U),Se(U),_e.let(N.default.vErrors,null),_e.let(N.default.errors,0),fe.unevaluated&&y(U),ue(U),dt(U)})}function y(U){const{gen:ee,validateName:fe}=U;U.evaluated=ee.const("evaluated",(0,T._)`${fe}.evaluated`),ee.if((0,T._)`${U.evaluated}.dynamicProps`,()=>ee.assign((0,T._)`${U.evaluated}.props`,(0,T._)`undefined`)),ee.if((0,T._)`${U.evaluated}.dynamicItems`,()=>ee.assign((0,T._)`${U.evaluated}.items`,(0,T._)`undefined`))}function m(U,ee){const fe=typeof U=="object"&&U[ee.schemaId];return fe&&(ee.code.source||ee.code.process)?(0,T._)`/*# sourceURL=${fe} */`:T.nil}function x(U,ee){if(A(U)&&(V(U),B(U))){M(U,ee);return}(0,p.boolOrEmptySchema)(U,ee)}function B({schema:U,self:ee}){if(typeof U=="boolean")return!U;for(const fe in U)if(ee.RULES.all[fe])return!0;return!1}function A(U){return typeof U.schema!="boolean"}function M(U,ee){const{schema:fe,gen:_e,opts:Le}=U;Le.$comment&&fe.$comment&&rt(U),Re(U),tt(U);const nt=_e.const("_errs",N.default.errors);ue(U,nt),_e.var(ee,(0,T._)`${nt} === ${N.default.errors}`)}function V(U){(0,R.checkUnknownRules)(U),ve(U)}function ue(U,ee){if(U.opts.jtd)return Qr(U,[],!1,ee);const fe=(0,_.getSchemaTypes)(U.schema),_e=(0,_.coerceAndCheckDataType)(U,fe);Qr(U,fe,!_e,ee)}function ve(U){const{schema:ee,errSchemaPath:fe,opts:_e,self:Le}=U;ee.$ref&&_e.ignoreKeywordsWithRef&&(0,R.schemaHasRulesButRef)(ee,Le.RULES)&&Le.logger.warn(`$ref: keywords ignored in schema at path "${fe}"`)}function Se(U){const{schema:ee,opts:fe}=U;ee.default!==void 0&&fe.useDefaults&&fe.strictSchema&&(0,R.checkStrictMode)(U,"default is ignored in the schema root")}function Re(U){const ee=U.schema[U.opts.schemaId];ee&&(U.baseId=(0,z.resolveUrl)(U.opts.uriResolver,U.baseId,ee))}function tt(U){if(U.schema.$async&&!U.schemaEnv.$async)throw new Error("async schema in sync schema")}function rt({gen:U,schemaEnv:ee,schema:fe,errSchemaPath:_e,opts:Le}){const nt=fe.$comment;if(Le.$comment===!0)U.code((0,T._)`${N.default.self}.logger.log(${nt})`);else if(typeof Le.$comment=="function"){const Ft=(0,T.str)`${_e}/$comment`,Br=U.scopeValue("root",{ref:ee.root});U.code((0,T._)`${N.default.self}.opts.$comment(${nt}, ${Ft}, ${Br}.schema)`)}}function dt(U){const{gen:ee,schemaEnv:fe,validateName:_e,ValidationError:Le,opts:nt}=U;fe.$async?ee.if((0,T._)`${N.default.errors} === 0`,()=>ee.return(N.default.data),()=>ee.throw((0,T._)`new ${Le}(${N.default.vErrors})`)):(ee.assign((0,T._)`${_e}.errors`,N.default.vErrors),nt.unevaluated&&hr(U),ee.return((0,T._)`${N.default.errors} === 0`))}function hr({gen:U,evaluated:ee,props:fe,items:_e}){fe instanceof T.Name&&U.assign((0,T._)`${ee}.props`,fe),_e instanceof T.Name&&U.assign((0,T._)`${ee}.items`,_e)}function Qr(U,ee,fe,_e){const{gen:Le,schema:nt,data:Ft,allErrors:Br,opts:fr,self:dr}=U,{RULES:Wt}=dr;if(nt.$ref&&(fr.ignoreKeywordsWithRef||!(0,R.schemaHasRulesButRef)(nt,Wt))){Le.block(()=>Ne(U,"$ref",Wt.all.$ref.definition));return}fr.jtd||xt(U,ee),Le.block(()=>{for(const Cr of Wt.rules)Wi(Cr);Wi(Wt.post)});function Wi(Cr){(0,I.shouldUseGroup)(nt,Cr)&&(Cr.type?(Le.if((0,S.checkDataType)(Cr.type,Ft,fr.strictNumbers)),xn(U,Cr),ee.length===1&&ee[0]===Cr.type&&fe&&(Le.else(),(0,S.reportTypeError)(U)),Le.endIf()):xn(U,Cr),Br||Le.if((0,T._)`${N.default.errors} === ${_e||0}`))}}function xn(U,ee){const{gen:fe,schema:_e,opts:{useDefaults:Le}}=U;Le&&(0,E.assignDefaults)(U,ee.type),fe.block(()=>{for(const nt of ee.rules)(0,I.shouldUseRule)(_e,nt)&&Ne(U,nt.keyword,nt.definition,ee.type)})}function xt(U,ee){U.schemaEnv.meta||!U.opts.strictTypes||(Vn(U,ee),U.opts.allowUnionTypes||we(U,ee),Q(U,U.dataTypes))}function Vn(U,ee){if(ee.length){if(!U.dataTypes.length){U.dataTypes=ee;return}ee.forEach(fe=>{te(U.dataTypes,fe)||F(U,`type "${fe}" not allowed by context "${U.dataTypes.join(",")}"`)}),k(U,ee)}}function we(U,ee){ee.length>1&&!(ee.length===2&&ee.includes("null"))&&F(U,"use allowUnionTypes to allow union type keyword")}function Q(U,ee){const fe=U.self.RULES.all;for(const _e in fe){const Le=fe[_e];if(typeof Le=="object"&&(0,I.shouldUseRule)(U.schema,Le)){const{type:nt}=Le.definition;nt.length&&!nt.some(Ft=>pe(ee,Ft))&&F(U,`missing type "${nt.join(",")}" for keyword "${_e}"`)}}}function pe(U,ee){return U.includes(ee)||ee==="number"&&U.includes("integer")}function te(U,ee){return U.includes(ee)||ee==="integer"&&U.includes("number")}function k(U,ee){const fe=[];for(const _e of U.dataTypes)te(ee,_e)?fe.push(_e):ee.includes("integer")&&_e==="number"&&fe.push("integer");U.dataTypes=fe}function F(U,ee){const fe=U.schemaEnv.baseId+U.errSchemaPath;ee+=` at "${fe}" (strictTypes)`,(0,R.checkStrictMode)(U,ee,U.opts.strictTypes)}class ae{constructor(ee,fe,_e){if((0,C.validateKeywordUsage)(ee,fe,_e),this.gen=ee.gen,this.allErrors=ee.allErrors,this.keyword=_e,this.data=ee.data,this.schema=ee.schema[_e],this.$data=fe.$data&&ee.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,R.schemaRefOrVal)(ee,this.schema,_e,this.$data),this.schemaType=fe.schemaType,this.parentSchema=ee.schema,this.params={},this.it=ee,this.def=fe,this.$data)this.schemaCode=ee.gen.const("vSchema",st(this.$data,ee));else if(this.schemaCode=this.schemaValue,!(0,C.validSchemaType)(this.schema,fe.schemaType,fe.allowUndefined))throw new Error(`${_e} value must be ${JSON.stringify(fe.schemaType)}`);("code"in fe?fe.trackErrors:fe.errors!==!1)&&(this.errsCount=ee.gen.const("_errs",N.default.errors))}result(ee,fe,_e){this.failResult((0,T.not)(ee),fe,_e)}failResult(ee,fe,_e){this.gen.if(ee),_e?_e():this.error(),fe?(this.gen.else(),fe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ee,fe){this.failResult((0,T.not)(ee),void 0,fe)}fail(ee){if(ee===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(ee),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ee){if(!this.$data)return this.fail(ee);const{schemaCode:fe}=this;this.fail((0,T._)`${fe} !== undefined && (${(0,T.or)(this.invalid$data(),ee)})`)}error(ee,fe,_e){if(fe){this.setParams(fe),this._error(ee,_e),this.setParams({});return}this._error(ee,_e)}_error(ee,fe){(ee?K.reportExtraError:K.reportError)(this,this.def.error,fe)}$dataError(){(0,K.reportError)(this,this.def.$dataError||K.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,K.resetErrorsCount)(this.gen,this.errsCount)}ok(ee){this.allErrors||this.gen.if(ee)}setParams(ee,fe){fe?Object.assign(this.params,ee):this.params=ee}block$data(ee,fe,_e=T.nil){this.gen.block(()=>{this.check$data(ee,_e),fe()})}check$data(ee=T.nil,fe=T.nil){if(!this.$data)return;const{gen:_e,schemaCode:Le,schemaType:nt,def:Ft}=this;_e.if((0,T.or)((0,T._)`${Le} === undefined`,fe)),ee!==T.nil&&_e.assign(ee,!0),(nt.length||Ft.validateSchema)&&(_e.elseIf(this.invalid$data()),this.$dataError(),ee!==T.nil&&_e.assign(ee,!1)),_e.else()}invalid$data(){const{gen:ee,schemaCode:fe,schemaType:_e,def:Le,it:nt}=this;return(0,T.or)(Ft(),Br());function Ft(){if(_e.length){if(!(fe instanceof T.Name))throw new Error("ajv implementation error");const fr=Array.isArray(_e)?_e:[_e];return(0,T._)`${(0,S.checkDataTypes)(fr,fe,nt.opts.strictNumbers,S.DataType.Wrong)}`}return T.nil}function Br(){if(Le.validateSchema){const fr=ee.scopeValue("validate$data",{ref:Le.validateSchema});return(0,T._)`!${fr}(${fe})`}return T.nil}}subschema(ee,fe){const _e=(0,j.getSubschema)(this.it,ee);(0,j.extendSubschemaData)(_e,this.it,ee),(0,j.extendSubschemaMode)(_e,ee);const Le={...this.it,..._e,items:void 0,props:void 0};return x(Le,fe),Le}mergeEvaluated(ee,fe){const{it:_e,gen:Le}=this;_e.opts.unevaluated&&(_e.props!==!0&&ee.props!==void 0&&(_e.props=R.mergeEvaluated.props(Le,ee.props,_e.props,fe)),_e.items!==!0&&ee.items!==void 0&&(_e.items=R.mergeEvaluated.items(Le,ee.items,_e.items,fe)))}mergeValidEvaluated(ee,fe){const{it:_e,gen:Le}=this;if(_e.opts.unevaluated&&(_e.props!==!0||_e.items!==!0))return Le.if(fe,()=>this.mergeEvaluated(ee,T.Name)),!0}}r.KeywordCxt=ae;function Ne(U,ee,fe,_e){const Le=new ae(U,fe,ee);"code"in fe?fe.code(Le,_e):Le.$data&&fe.validate?(0,C.funcKeywordCode)(Le,fe):"macro"in fe?(0,C.macroKeywordCode)(Le,fe):(fe.compile||fe.validate)&&(0,C.funcKeywordCode)(Le,fe)}const Be=/^\/(?:[^~]|~0|~1)*$/,lt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function st(U,{dataLevel:ee,dataNames:fe,dataPathArr:_e}){let Le,nt;if(U==="")return N.default.rootData;if(U[0]==="/"){if(!Be.test(U))throw new Error(`Invalid JSON-pointer: ${U}`);Le=U,nt=N.default.rootData}else{const dr=lt.exec(U);if(!dr)throw new Error(`Invalid JSON-pointer: ${U}`);const Wt=+dr[1];if(Le=dr[2],Le==="#"){if(Wt>=ee)throw new Error(fr("property/index",Wt));return _e[ee-Wt]}if(Wt>ee)throw new Error(fr("data",Wt));if(nt=fe[ee-Wt],!Le)return nt}let Ft=nt;const Br=Le.split("/");for(const dr of Br)dr&&(nt=(0,T._)`${nt}${(0,T.getProperty)((0,R.unescapeJsonPointer)(dr))}`,Ft=(0,T._)`${Ft} && ${nt}`);return Ft;function fr(dr,Wt){return`Cannot access ${dr} ${Wt} levels up, current level is ${ee}`}}return r.getData=st,r}var Bn={},bo;function Pi(){if(bo)return Bn;bo=1,Object.defineProperty(Bn,"__esModule",{value:!0});class p extends Error{constructor(I){super("validation failed"),this.errors=I,this.ajv=this.validation=!0}}return Bn.default=p,Bn}var Ri={},js;function Di(){if(js)return Ri;js=1,Object.defineProperty(Ri,"__esModule",{value:!0});const p=ji();class _ extends Error{constructor(S,E,C,j){super(j||`can't resolve reference ${C} from id ${E}`),this.missingRef=(0,p.resolveUrl)(S,E,C),this.missingSchema=(0,p.normalizeId)((0,p.getFullPath)(S,this.missingRef))}}return Ri.default=_,Ri}var b={},D;function W(){if(D)return b;D=1,Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;const p=d(),_=Pi(),I=ne(),S=ji(),E=$(),C=Ue();class j{constructor(y){var m;this.refs={},this.dynamicAnchors={};let x;typeof y.schema=="object"&&(x=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(m=y.baseId)!==null&&m!==void 0?m:(0,S.normalizeId)(x?.[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=x?.$async,this.refs={}}}b.SchemaEnv=j;function T(v){const y=R.call(this,v);if(y)return y;const m=(0,S.getFullPath)(this.opts.uriResolver,v.root.baseId),{es5:x,lines:B}=this.opts.code,{ownProperties:A}=this.opts,M=new p.CodeGen(this.scope,{es5:x,lines:B,ownProperties:A});let V;v.$async&&(V=M.scopeValue("Error",{ref:_.default,code:(0,p._)`require("ajv/dist/runtime/validation_error").default`}));const ue=M.scopeName("validate");v.validateName=ue;const ve={gen:M,allErrors:this.opts.allErrors,data:I.default.data,parentData:I.default.parentData,parentDataProperty:I.default.parentDataProperty,dataNames:[I.default.data],dataPathArr:[p.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:M.scopeValue("schema",this.opts.code.source===!0?{ref:v.schema,code:(0,p.stringify)(v.schema)}:{ref:v.schema}),validateName:ue,ValidationError:V,schema:v.schema,schemaEnv:v,rootId:m,baseId:v.baseId||m,schemaPath:p.nil,errSchemaPath:v.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,p._)`""`,opts:this.opts,self:this};let Se;try{this._compilations.add(v),(0,C.validateFunctionCode)(ve),M.optimize(this.opts.code.optimize);const Re=M.toString();Se=`${M.scopeRefs(I.default.scope)}return ${Re}`,this.opts.code.process&&(Se=this.opts.code.process(Se,v));const tt=new Function(`${I.default.self}`,`${I.default.scope}`,Se)(this,this.scope.get());if(this.scope.value(ue,{ref:tt}),tt.errors=null,tt.schema=v.schema,tt.schemaEnv=v,v.$async&&(tt.$async=!0),this.opts.code.source===!0&&(tt.source={validateName:ue,validateCode:Re,scopeValues:M._values}),this.opts.unevaluated){const{props:rt,items:dt}=ve;tt.evaluated={props:rt instanceof p.Name?void 0:rt,items:dt instanceof p.Name?void 0:dt,dynamicProps:rt instanceof p.Name,dynamicItems:dt instanceof p.Name},tt.source&&(tt.source.evaluated=(0,p.stringify)(tt.evaluated))}return v.validate=tt,v}catch(Re){throw delete v.validate,delete v.validateName,Se&&this.logger.error("Error compiling schema, function code:",Se),Re}finally{this._compilations.delete(v)}}b.compileSchema=T;function N(v,y,m){var x;m=(0,S.resolveUrl)(this.opts.uriResolver,y,m);const B=v.refs[m];if(B)return B;let A=re.call(this,v,m);if(A===void 0){const M=(x=v.localRefs)===null||x===void 0?void 0:x[m],{schemaId:V}=this.opts;M&&(A=new j({schema:M,schemaId:V,root:v,baseId:y}))}if(A!==void 0)return v.refs[m]=z.call(this,A)}b.resolveRef=N;function z(v){return(0,S.inlineRef)(v.schema,this.opts.inlineRefs)?v.schema:v.validate?v:T.call(this,v)}function R(v){for(const y of this._compilations)if(K(y,v))return y}b.getCompilingSchema=R;function K(v,y){return v.schema===y.schema&&v.root===y.root&&v.baseId===y.baseId}function re(v,y){let m;for(;typeof(m=this.refs[y])=="string";)y=m;return m||this.schemas[y]||H.call(this,v,y)}function H(v,y){const m=this.opts.uriResolver.parse(y),x=(0,S._getFullPath)(this.opts.uriResolver,m);let B=(0,S.getFullPath)(this.opts.uriResolver,v.baseId,void 0);if(Object.keys(v.schema).length>0&&x===B)return L.call(this,m,v);const A=(0,S.normalizeId)(x),M=this.refs[A]||this.schemas[A];if(typeof M=="string"){const V=H.call(this,v,M);return typeof V?.schema!="object"?void 0:L.call(this,m,V)}if(typeof M?.schema=="object"){if(M.validate||T.call(this,M),A===(0,S.normalizeId)(y)){const{schema:V}=M,{schemaId:ue}=this.opts,ve=V[ue];return ve&&(B=(0,S.resolveUrl)(this.opts.uriResolver,B,ve)),new j({schema:V,schemaId:ue,root:v,baseId:B})}return L.call(this,m,M)}}b.resolveSchema=H;const q=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function L(v,{baseId:y,schema:m,root:x}){var B;if(((B=v.fragment)===null||B===void 0?void 0:B[0])!=="/")return;for(const V of v.fragment.slice(1).split("/")){if(typeof m=="boolean")return;const ue=m[(0,E.unescapeFragment)(V)];if(ue===void 0)return;m=ue;const ve=typeof m=="object"&&m[this.opts.schemaId];!q.has(V)&&ve&&(y=(0,S.resolveUrl)(this.opts.uriResolver,y,ve))}let A;if(typeof m!="boolean"&&m.$ref&&!(0,E.schemaHasRulesButRef)(m,this.RULES)){const V=(0,S.resolveUrl)(this.opts.uriResolver,y,m.$ref);A=H.call(this,x,V)}const{schemaId:M}=this.opts;if(A=A||new j({schema:m,schemaId:M,root:x,baseId:y}),A.schema!==A.root.schema)return A}return b}const oe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",he="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ae="object",Xe=["$data"],ot={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Vt=!1,Lr={$id:oe,description:he,type:Ae,required:Xe,properties:ot,additionalProperties:Vt};var St={},Ve={exports:{}},Er,Ts;function wo(){return Ts||(Ts=1,Er={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Er}var Ni,xo;function _o(){if(xo)return Ni;xo=1;const{HEX:p}=wo(),_=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function I(L){if(T(L,".")<3)return{host:L,isIPV4:!1};const v=L.match(_)||[],[y]=v;return y?{host:j(y,"."),isIPV4:!0}:{host:L,isIPV4:!1}}function S(L,v=!1){let y="",m=!0;for(const x of L){if(p[x]===void 0)return;x!=="0"&&m===!0&&(m=!1),m||(y+=x)}return v&&y.length===0&&(y="0"),y}function E(L){let v=0;const y={error:!1,address:"",zone:""},m=[],x=[];let B=!1,A=!1,M=!1;function V(){if(x.length){if(B===!1){const ue=S(x);if(ue!==void 0)m.push(ue);else return y.error=!0,!1}x.length=0}return!0}for(let ue=0;ue<L.length;ue++){const ve=L[ue];if(!(ve==="["||ve==="]"))if(ve===":"){if(A===!0&&(M=!0),!V())break;if(v++,m.push(":"),v>7){y.error=!0;break}ue-1>=0&&L[ue-1]===":"&&(A=!0);continue}else if(ve==="%"){if(!V())break;B=!0}else{x.push(ve);continue}}return x.length&&(B?y.zone=x.join(""):M?m.push(x.join("")):m.push(S(x))),y.address=m.join(""),y}function C(L){if(T(L,":")<2)return{host:L,isIPV6:!1};const v=E(L);if(v.error)return{host:L,isIPV6:!1};{let y=v.address,m=v.address;return v.zone&&(y+="%"+v.zone,m+="%25"+v.zone),{host:y,escapedHost:m,isIPV6:!0}}}function j(L,v){let y="",m=!0;const x=L.length;for(let B=0;B<x;B++){const A=L[B];A==="0"&&m?(B+1<=x&&L[B+1]===v||B+1===x)&&(y+=A,m=!1):(A===v?m=!0:m=!1,y+=A)}return y}function T(L,v){let y=0;for(let m=0;m<L.length;m++)L[m]===v&&y++;return y}const N=/^\.\.?\//u,z=/^\/\.(?:\/|$)/u,R=/^\/\.\.(?:\/|$)/u,K=/^\/?(?:.|\n)*?(?=\/|$)/u;function re(L){const v=[];for(;L.length;)if(L.match(N))L=L.replace(N,"");else if(L.match(z))L=L.replace(z,"/");else if(L.match(R))L=L.replace(R,"/"),v.pop();else if(L==="."||L==="..")L="";else{const y=L.match(K);if(y){const m=y[0];L=L.slice(m.length),v.push(m)}else throw new Error("Unexpected dot segment condition")}return v.join("")}function H(L,v){const y=v!==!0?escape:unescape;return L.scheme!==void 0&&(L.scheme=y(L.scheme)),L.userinfo!==void 0&&(L.userinfo=y(L.userinfo)),L.host!==void 0&&(L.host=y(L.host)),L.path!==void 0&&(L.path=y(L.path)),L.query!==void 0&&(L.query=y(L.query)),L.fragment!==void 0&&(L.fragment=y(L.fragment)),L}function q(L){const v=[];if(L.userinfo!==void 0&&(v.push(L.userinfo),v.push("@")),L.host!==void 0){let y=unescape(L.host);const m=I(y);if(m.isIPV4)y=m.host;else{const x=C(m.host);x.isIPV6===!0?y=`[${x.escapedHost}]`:y=L.host}v.push(y)}return(typeof L.port=="number"||typeof L.port=="string")&&(v.push(":"),v.push(String(L.port))),v.length?v.join(""):void 0}return Ni={recomposeAuthority:q,normalizeComponentEncoding:H,removeDotSegments:re,normalizeIPv4:I,normalizeIPv6:C,stringArrayToHexStripped:S},Ni}var er,$o;function ko(){if($o)return er;$o=1;const p=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,_=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function I(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function S(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function E(v){const y=String(v.scheme).toLowerCase()==="https";return(v.port===(y?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function C(v){return v.secure=I(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function j(v){if((v.port===(I(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[y,m]=v.resourceName.split("?");v.path=y&&y!=="/"?y:void 0,v.query=m,v.resourceName=void 0}return v.fragment=void 0,v}function T(v,y){if(!v.path)return v.error="URN can not be parsed",v;const m=v.path.match(_);if(m){const x=y.scheme||v.scheme||"urn";v.nid=m[1].toLowerCase(),v.nss=m[2];const B=`${x}:${y.nid||v.nid}`,A=L[B];v.path=void 0,A&&(v=A.parse(v,y))}else v.error=v.error||"URN can not be parsed.";return v}function N(v,y){const m=y.scheme||v.scheme||"urn",x=v.nid.toLowerCase(),B=`${m}:${y.nid||x}`,A=L[B];A&&(v=A.serialize(v,y));const M=v,V=v.nss;return M.path=`${x||y.nid}:${V}`,y.skipEscape=!0,M}function z(v,y){const m=v;return m.uuid=m.nss,m.nss=void 0,!y.tolerant&&(!m.uuid||!p.test(m.uuid))&&(m.error=m.error||"UUID is not valid."),m}function R(v){const y=v;return y.nss=(v.uuid||"").toLowerCase(),y}const K={scheme:"http",domainHost:!0,parse:S,serialize:E},re={scheme:"https",domainHost:K.domainHost,parse:S,serialize:E},H={scheme:"ws",domainHost:!0,parse:C,serialize:j},q={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},L={http:K,https:re,ws:H,wss:q,urn:{scheme:"urn",parse:T,serialize:N,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:z,serialize:R,skipNormalize:!0}};return er=L,er}var So;function Eo(){if(So)return Ve.exports;So=1;const{normalizeIPv6:p,normalizeIPv4:_,removeDotSegments:I,recomposeAuthority:S,normalizeComponentEncoding:E}=_o(),C=ko();function j(v,y){return typeof v=="string"?v=R(q(v,y),y):typeof v=="object"&&(v=q(R(v,y),y)),v}function T(v,y,m){const x=Object.assign({scheme:"null"},m),B=N(q(v,x),q(y,x),x,!0);return R(B,{...x,skipEscape:!0})}function N(v,y,m,x){const B={};return x||(v=q(R(v,m),m),y=q(R(y,m),m)),m=m||{},!m.tolerant&&y.scheme?(B.scheme=y.scheme,B.userinfo=y.userinfo,B.host=y.host,B.port=y.port,B.path=I(y.path||""),B.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(B.userinfo=y.userinfo,B.host=y.host,B.port=y.port,B.path=I(y.path||""),B.query=y.query):(y.path?(y.path.charAt(0)==="/"?B.path=I(y.path):((v.userinfo!==void 0||v.host!==void 0||v.port!==void 0)&&!v.path?B.path="/"+y.path:v.path?B.path=v.path.slice(0,v.path.lastIndexOf("/")+1)+y.path:B.path=y.path,B.path=I(B.path)),B.query=y.query):(B.path=v.path,y.query!==void 0?B.query=y.query:B.query=v.query),B.userinfo=v.userinfo,B.host=v.host,B.port=v.port),B.scheme=v.scheme),B.fragment=y.fragment,B}function z(v,y,m){return typeof v=="string"?(v=unescape(v),v=R(E(q(v,m),!0),{...m,skipEscape:!0})):typeof v=="object"&&(v=R(E(v,!0),{...m,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=R(E(q(y,m),!0),{...m,skipEscape:!0})):typeof y=="object"&&(y=R(E(y,!0),{...m,skipEscape:!0})),v.toLowerCase()===y.toLowerCase()}function R(v,y){const m={host:v.host,scheme:v.scheme,userinfo:v.userinfo,port:v.port,path:v.path,query:v.query,nid:v.nid,nss:v.nss,uuid:v.uuid,fragment:v.fragment,reference:v.reference,resourceName:v.resourceName,secure:v.secure,error:""},x=Object.assign({},y),B=[],A=C[(x.scheme||m.scheme||"").toLowerCase()];A&&A.serialize&&A.serialize(m,x),m.path!==void 0&&(x.skipEscape?m.path=unescape(m.path):(m.path=escape(m.path),m.scheme!==void 0&&(m.path=m.path.split("%3A").join(":")))),x.reference!=="suffix"&&m.scheme&&B.push(m.scheme,":");const M=S(m);if(M!==void 0&&(x.reference!=="suffix"&&B.push("//"),B.push(M),m.path&&m.path.charAt(0)!=="/"&&B.push("/")),m.path!==void 0){let V=m.path;!x.absolutePath&&(!A||!A.absolutePath)&&(V=I(V)),M===void 0&&(V=V.replace(/^\/\//u,"/%2F")),B.push(V)}return m.query!==void 0&&B.push("?",m.query),m.fragment!==void 0&&B.push("#",m.fragment),B.join("")}const K=Array.from({length:127},(v,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function re(v){let y=0;for(let m=0,x=v.length;m<x;++m)if(y=v.charCodeAt(m),y>126||K[y])return!0;return!1}const H=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function q(v,y){const m=Object.assign({},y),x={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},B=v.indexOf("%")!==-1;let A=!1;m.reference==="suffix"&&(v=(m.scheme?m.scheme+":":"")+"//"+v);const M=v.match(H);if(M){if(x.scheme=M[1],x.userinfo=M[3],x.host=M[4],x.port=parseInt(M[5],10),x.path=M[6]||"",x.query=M[7],x.fragment=M[8],isNaN(x.port)&&(x.port=M[5]),x.host){const ue=_(x.host);if(ue.isIPV4===!1){const ve=p(ue.host);x.host=ve.host.toLowerCase(),A=ve.isIPV6}else x.host=ue.host,A=!0}x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&x.query===void 0&&!x.path?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",m.reference&&m.reference!=="suffix"&&m.reference!==x.reference&&(x.error=x.error||"URI is not a "+m.reference+" reference.");const V=C[(m.scheme||x.scheme||"").toLowerCase()];if(!m.unicodeSupport&&(!V||!V.unicodeSupport)&&x.host&&(m.domainHost||V&&V.domainHost)&&A===!1&&re(x.host))try{x.host=URL.domainToASCII(x.host.toLowerCase())}catch(ue){x.error=x.error||"Host's domain name can not be converted to ASCII: "+ue}(!V||V&&!V.skipNormalize)&&(B&&x.scheme!==void 0&&(x.scheme=unescape(x.scheme)),B&&x.host!==void 0&&(x.host=unescape(x.host)),x.path&&(x.path=escape(unescape(x.path))),x.fragment&&(x.fragment=encodeURI(decodeURIComponent(x.fragment)))),V&&V.parse&&V.parse(x,m)}else x.error=x.error||"URI can not be parsed.";return x}const L={SCHEMES:C,normalize:j,resolve:T,resolveComponents:N,equal:z,serialize:R,parse:q};return Ve.exports=L,Ve.exports.default=L,Ve.exports.fastUri=L,Ve.exports}var Ii;function Li(){if(Ii)return St;Ii=1,Object.defineProperty(St,"__esModule",{value:!0});const p=Eo();return p.code='require("ajv/dist/runtime/uri").default',St.default=p,St}var Bi;function Ps(){return Bi||(Bi=1,(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.CodeGen=p.Name=p.nil=p.stringify=p.str=p._=p.KeywordCxt=void 0;var _=Ue();Object.defineProperty(p,"KeywordCxt",{enumerable:!0,get:function(){return _.KeywordCxt}});var I=d();Object.defineProperty(p,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(p,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(p,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(p,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(p,"Name",{enumerable:!0,get:function(){return I.Name}}),Object.defineProperty(p,"CodeGen",{enumerable:!0,get:function(){return I.CodeGen}});const S=Pi(),E=Di(),C=De(),j=W(),T=d(),N=ji(),z=ge(),R=$(),K=Lr,re=Li(),H=(we,Q)=>new RegExp(we,Q);H.code="new RegExp";const q=["removeAdditional","useDefaults","coerceTypes"],L=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function x(we){var Q,pe,te,k,F,ae,Ne,Be,lt,st,U,ee,fe,_e,Le,nt,Ft,Br,fr,dr,Wt,Wi,Cr,pc,mc;const Oo=we.strict,gc=(Q=we.code)===null||Q===void 0?void 0:Q.optimize,Vd=gc===!0||gc===void 0?1:gc||0,Fd=(te=(pe=we.code)===null||pe===void 0?void 0:pe.regExp)!==null&&te!==void 0?te:H,D_=(k=we.uriResolver)!==null&&k!==void 0?k:re.default;return{strictSchema:(ae=(F=we.strictSchema)!==null&&F!==void 0?F:Oo)!==null&&ae!==void 0?ae:!0,strictNumbers:(Be=(Ne=we.strictNumbers)!==null&&Ne!==void 0?Ne:Oo)!==null&&Be!==void 0?Be:!0,strictTypes:(st=(lt=we.strictTypes)!==null&&lt!==void 0?lt:Oo)!==null&&st!==void 0?st:"log",strictTuples:(ee=(U=we.strictTuples)!==null&&U!==void 0?U:Oo)!==null&&ee!==void 0?ee:"log",strictRequired:(_e=(fe=we.strictRequired)!==null&&fe!==void 0?fe:Oo)!==null&&_e!==void 0?_e:!1,code:we.code?{...we.code,optimize:Vd,regExp:Fd}:{optimize:Vd,regExp:Fd},loopRequired:(Le=we.loopRequired)!==null&&Le!==void 0?Le:m,loopEnum:(nt=we.loopEnum)!==null&&nt!==void 0?nt:m,meta:(Ft=we.meta)!==null&&Ft!==void 0?Ft:!0,messages:(Br=we.messages)!==null&&Br!==void 0?Br:!0,inlineRefs:(fr=we.inlineRefs)!==null&&fr!==void 0?fr:!0,schemaId:(dr=we.schemaId)!==null&&dr!==void 0?dr:"$id",addUsedSchema:(Wt=we.addUsedSchema)!==null&&Wt!==void 0?Wt:!0,validateSchema:(Wi=we.validateSchema)!==null&&Wi!==void 0?Wi:!0,validateFormats:(Cr=we.validateFormats)!==null&&Cr!==void 0?Cr:!0,unicodeRegExp:(pc=we.unicodeRegExp)!==null&&pc!==void 0?pc:!0,int32range:(mc=we.int32range)!==null&&mc!==void 0?mc:!0,uriResolver:D_}}class B{constructor(Q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Q=this.opts={...Q,...x(Q)};const{es5:pe,lines:te}=this.opts.code;this.scope=new T.ValueScope({scope:{},prefixes:L,es5:pe,lines:te}),this.logger=tt(Q.logger);const k=Q.validateFormats;Q.validateFormats=!1,this.RULES=(0,C.getRules)(),A.call(this,v,Q,"NOT SUPPORTED"),A.call(this,y,Q,"DEPRECATED","warn"),this._metaOpts=Se.call(this),Q.formats&&ue.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Q.keywords&&ve.call(this,Q.keywords),typeof Q.meta=="object"&&this.addMetaSchema(Q.meta),V.call(this),Q.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Q,meta:pe,schemaId:te}=this.opts;let k=K;te==="id"&&(k={...K},k.id=k.$id,delete k.$id),pe&&Q&&this.addMetaSchema(k,k[te],!1)}defaultMeta(){const{meta:Q,schemaId:pe}=this.opts;return this.opts.defaultMeta=typeof Q=="object"?Q[pe]||Q:void 0}validate(Q,pe){let te;if(typeof Q=="string"){if(te=this.getSchema(Q),!te)throw new Error(`no schema with key or ref "${Q}"`)}else te=this.compile(Q);const k=te(pe);return"$async"in te||(this.errors=te.errors),k}compile(Q,pe){const te=this._addSchema(Q,pe);return te.validate||this._compileSchemaEnv(te)}compileAsync(Q,pe){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:te}=this.opts;return k.call(this,Q,pe);async function k(st,U){await F.call(this,st.$schema);const ee=this._addSchema(st,U);return ee.validate||ae.call(this,ee)}async function F(st){st&&!this.getSchema(st)&&await k.call(this,{$ref:st},!0)}async function ae(st){try{return this._compileSchemaEnv(st)}catch(U){if(!(U instanceof E.default))throw U;return Ne.call(this,U),await Be.call(this,U.missingSchema),ae.call(this,st)}}function Ne({missingSchema:st,missingRef:U}){if(this.refs[st])throw new Error(`AnySchema ${st} is loaded but ${U} cannot be resolved`)}async function Be(st){const U=await lt.call(this,st);this.refs[st]||await F.call(this,U.$schema),this.refs[st]||this.addSchema(U,st,pe)}async function lt(st){const U=this._loading[st];if(U)return U;try{return await(this._loading[st]=te(st))}finally{delete this._loading[st]}}}addSchema(Q,pe,te,k=this.opts.validateSchema){if(Array.isArray(Q)){for(const ae of Q)this.addSchema(ae,void 0,te,k);return this}let F;if(typeof Q=="object"){const{schemaId:ae}=this.opts;if(F=Q[ae],F!==void 0&&typeof F!="string")throw new Error(`schema ${ae} must be string`)}return pe=(0,N.normalizeId)(pe||F),this._checkUnique(pe),this.schemas[pe]=this._addSchema(Q,te,pe,k,!0),this}addMetaSchema(Q,pe,te=this.opts.validateSchema){return this.addSchema(Q,pe,!0,te),this}validateSchema(Q,pe){if(typeof Q=="boolean")return!0;let te;if(te=Q.$schema,te!==void 0&&typeof te!="string")throw new Error("$schema must be a string");if(te=te||this.opts.defaultMeta||this.defaultMeta(),!te)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(te,Q);if(!k&&pe){const F="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(F);else throw new Error(F)}return k}getSchema(Q){let pe;for(;typeof(pe=M.call(this,Q))=="string";)Q=pe;if(pe===void 0){const{schemaId:te}=this.opts,k=new j.SchemaEnv({schema:{},schemaId:te});if(pe=j.resolveSchema.call(this,k,Q),!pe)return;this.refs[Q]=pe}return pe.validate||this._compileSchemaEnv(pe)}removeSchema(Q){if(Q instanceof RegExp)return this._removeAllSchemas(this.schemas,Q),this._removeAllSchemas(this.refs,Q),this;switch(typeof Q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const pe=M.call(this,Q);return typeof pe=="object"&&this._cache.delete(pe.schema),delete this.schemas[Q],delete this.refs[Q],this}case"object":{const pe=Q;this._cache.delete(pe);let te=Q[this.opts.schemaId];return te&&(te=(0,N.normalizeId)(te),delete this.schemas[te],delete this.refs[te]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Q){for(const pe of Q)this.addKeyword(pe);return this}addKeyword(Q,pe){let te;if(typeof Q=="string")te=Q,typeof pe=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),pe.keyword=te);else if(typeof Q=="object"&&pe===void 0){if(pe=Q,te=pe.keyword,Array.isArray(te)&&!te.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(dt.call(this,te,pe),!pe)return(0,R.eachItem)(te,F=>hr.call(this,F)),this;xn.call(this,pe);const k={...pe,type:(0,z.getJSONTypes)(pe.type),schemaType:(0,z.getJSONTypes)(pe.schemaType)};return(0,R.eachItem)(te,k.type.length===0?F=>hr.call(this,F,k):F=>k.type.forEach(ae=>hr.call(this,F,k,ae))),this}getKeyword(Q){const pe=this.RULES.all[Q];return typeof pe=="object"?pe.definition:!!pe}removeKeyword(Q){const{RULES:pe}=this;delete pe.keywords[Q],delete pe.all[Q];for(const te of pe.rules){const k=te.rules.findIndex(F=>F.keyword===Q);k>=0&&te.rules.splice(k,1)}return this}addFormat(Q,pe){return typeof pe=="string"&&(pe=new RegExp(pe)),this.formats[Q]=pe,this}errorsText(Q=this.errors,{separator:pe=", ",dataVar:te="data"}={}){return!Q||Q.length===0?"No errors":Q.map(k=>`${te}${k.instancePath} ${k.message}`).reduce((k,F)=>k+pe+F)}$dataMetaSchema(Q,pe){const te=this.RULES.all;Q=JSON.parse(JSON.stringify(Q));for(const k of pe){const F=k.split("/").slice(1);let ae=Q;for(const Ne of F)ae=ae[Ne];for(const Ne in te){const Be=te[Ne];if(typeof Be!="object")continue;const{$data:lt}=Be.definition,st=ae[Ne];lt&&st&&(ae[Ne]=Vn(st))}}return Q}_removeAllSchemas(Q,pe){for(const te in Q){const k=Q[te];(!pe||pe.test(te))&&(typeof k=="string"?delete Q[te]:k&&!k.meta&&(this._cache.delete(k.schema),delete Q[te]))}}_addSchema(Q,pe,te,k=this.opts.validateSchema,F=this.opts.addUsedSchema){let ae;const{schemaId:Ne}=this.opts;if(typeof Q=="object")ae=Q[Ne];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Q!="boolean")throw new Error("schema must be object or boolean")}let Be=this._cache.get(Q);if(Be!==void 0)return Be;te=(0,N.normalizeId)(ae||te);const lt=N.getSchemaRefs.call(this,Q,te);return Be=new j.SchemaEnv({schema:Q,schemaId:Ne,meta:pe,baseId:te,localRefs:lt}),this._cache.set(Be.schema,Be),F&&!te.startsWith("#")&&(te&&this._checkUnique(te),this.refs[te]=Be),k&&this.validateSchema(Q,!0),Be}_checkUnique(Q){if(this.schemas[Q]||this.refs[Q])throw new Error(`schema with key or id "${Q}" already exists`)}_compileSchemaEnv(Q){if(Q.meta?this._compileMetaSchema(Q):j.compileSchema.call(this,Q),!Q.validate)throw new Error("ajv implementation error");return Q.validate}_compileMetaSchema(Q){const pe=this.opts;this.opts=this._metaOpts;try{j.compileSchema.call(this,Q)}finally{this.opts=pe}}}B.ValidationError=S.default,B.MissingRefError=E.default,p.default=B;function A(we,Q,pe,te="error"){for(const k in we){const F=k;F in Q&&this.logger[te](`${pe}: option ${k}. ${we[F]}`)}}function M(we){return we=(0,N.normalizeId)(we),this.schemas[we]||this.refs[we]}function V(){const we=this.opts.schemas;if(we)if(Array.isArray(we))this.addSchema(we);else for(const Q in we)this.addSchema(we[Q],Q)}function ue(){for(const we in this.opts.formats){const Q=this.opts.formats[we];Q&&this.addFormat(we,Q)}}function ve(we){if(Array.isArray(we)){this.addVocabulary(we);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Q in we){const pe=we[Q];pe.keyword||(pe.keyword=Q),this.addKeyword(pe)}}function Se(){const we={...this.opts};for(const Q of q)delete we[Q];return we}const Re={log(){},warn(){},error(){}};function tt(we){if(we===!1)return Re;if(we===void 0)return console;if(we.log&&we.warn&&we.error)return we;throw new Error("logger must implement log, warn and error methods")}const rt=/^[a-z_$][a-z0-9_$:-]*$/i;function dt(we,Q){const{RULES:pe}=this;if((0,R.eachItem)(we,te=>{if(pe.keywords[te])throw new Error(`Keyword ${te} is already defined`);if(!rt.test(te))throw new Error(`Keyword ${te} has invalid name`)}),!!Q&&Q.$data&&!("code"in Q||"validate"in Q))throw new Error('$data keyword must have "code" or "validate" function')}function hr(we,Q,pe){var te;const k=Q?.post;if(pe&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:F}=this;let ae=k?F.post:F.rules.find(({type:Be})=>Be===pe);if(ae||(ae={type:pe,rules:[]},F.rules.push(ae)),F.keywords[we]=!0,!Q)return;const Ne={keyword:we,definition:{...Q,type:(0,z.getJSONTypes)(Q.type),schemaType:(0,z.getJSONTypes)(Q.schemaType)}};Q.before?Qr.call(this,ae,Ne,Q.before):ae.rules.push(Ne),F.all[we]=Ne,(te=Q.implements)===null||te===void 0||te.forEach(Be=>this.addKeyword(Be))}function Qr(we,Q,pe){const te=we.rules.findIndex(k=>k.keyword===pe);te>=0?we.rules.splice(te,0,Q):(we.rules.push(Q),this.logger.warn(`rule ${pe} is not defined`))}function xn(we){let{metaSchema:Q}=we;Q!==void 0&&(we.$data&&this.opts.$data&&(Q=Vn(Q)),we.validateSchema=this.compile(Q,!0))}const xt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Vn(we){return{anyOf:[we,xt]}}})(e)),e}var hi={},Rs={},Ds={},Xf;function Ux(){if(Xf)return Ds;Xf=1,Object.defineProperty(Ds,"__esModule",{value:!0});const p={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ds.default=p,Ds}var zn={},Qf;function Kx(){if(Qf)return zn;Qf=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.callRef=zn.getValidate=void 0;const p=Di(),_=ce(),I=d(),S=ne(),E=W(),C=$(),j={keyword:"$ref",schemaType:"string",code(z){const{gen:R,schema:K,it:re}=z,{baseId:H,schemaEnv:q,validateName:L,opts:v,self:y}=re,{root:m}=q;if((K==="#"||K==="#/")&&H===m.baseId)return B();const x=E.resolveRef.call(y,m,H,K);if(x===void 0)throw new p.default(re.opts.uriResolver,H,K);if(x instanceof E.SchemaEnv)return A(x);return M(x);function B(){if(q===m)return N(z,L,q,q.$async);const V=R.scopeValue("root",{ref:m});return N(z,(0,I._)`${V}.validate`,m,m.$async)}function A(V){const ue=T(z,V);N(z,ue,V,V.$async)}function M(V){const ue=R.scopeValue("schema",v.code.source===!0?{ref:V,code:(0,I.stringify)(V)}:{ref:V}),ve=R.name("valid"),Se=z.subschema({schema:V,dataTypes:[],schemaPath:I.nil,topSchemaRef:ue,errSchemaPath:K},ve);z.mergeEvaluated(Se),z.ok(ve)}}};function T(z,R){const{gen:K}=z;return R.validate?K.scopeValue("validate",{ref:R.validate}):(0,I._)`${K.scopeValue("wrapper",{ref:R})}.validate`}zn.getValidate=T;function N(z,R,K,re){const{gen:H,it:q}=z,{allErrors:L,schemaEnv:v,opts:y}=q,m=y.passContext?S.default.this:I.nil;re?x():B();function x(){if(!v.$async)throw new Error("async schema referenced by sync schema");const V=H.let("valid");H.try(()=>{H.code((0,I._)`await ${(0,_.callValidateCode)(z,R,m)}`),M(R),L||H.assign(V,!0)},ue=>{H.if((0,I._)`!(${ue} instanceof ${q.ValidationError})`,()=>H.throw(ue)),A(ue),L||H.assign(V,!1)}),z.ok(V)}function B(){z.result((0,_.callValidateCode)(z,R,m),()=>M(R),()=>A(R))}function A(V){const ue=(0,I._)`${V}.errors`;H.assign(S.default.vErrors,(0,I._)`${S.default.vErrors} === null ? ${ue} : ${S.default.vErrors}.concat(${ue})`),H.assign(S.default.errors,(0,I._)`${S.default.vErrors}.length`)}function M(V){var ue;if(!q.opts.unevaluated)return;const ve=(ue=K?.validate)===null||ue===void 0?void 0:ue.evaluated;if(q.props!==!0)if(ve&&!ve.dynamicProps)ve.props!==void 0&&(q.props=C.mergeEvaluated.props(H,ve.props,q.props));else{const Se=H.var("props",(0,I._)`${V}.evaluated.props`);q.props=C.mergeEvaluated.props(H,Se,q.props,I.Name)}if(q.items!==!0)if(ve&&!ve.dynamicItems)ve.items!==void 0&&(q.items=C.mergeEvaluated.items(H,ve.items,q.items));else{const Se=H.var("items",(0,I._)`${V}.evaluated.items`);q.items=C.mergeEvaluated.items(H,Se,q.items,I.Name)}}}return zn.callRef=N,zn.default=j,zn}var Zf;function Jx(){if(Zf)return Rs;Zf=1,Object.defineProperty(Rs,"__esModule",{value:!0});const p=Ux(),_=Kx(),I=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",p.default,_.default];return Rs.default=I,Rs}var Ns={},Is={},ed;function Gx(){if(ed)return Is;ed=1,Object.defineProperty(Is,"__esModule",{value:!0});const p=d(),_=p.operators,I={maximum:{okStr:"<=",ok:_.LTE,fail:_.GT},minimum:{okStr:">=",ok:_.GTE,fail:_.LT},exclusiveMaximum:{okStr:"<",ok:_.LT,fail:_.GTE},exclusiveMinimum:{okStr:">",ok:_.GT,fail:_.LTE}},S={message:({keyword:C,schemaCode:j})=>(0,p.str)`must be ${I[C].okStr} ${j}`,params:({keyword:C,schemaCode:j})=>(0,p._)`{comparison: ${I[C].okStr}, limit: ${j}}`},E={keyword:Object.keys(I),type:"number",schemaType:"number",$data:!0,error:S,code(C){const{keyword:j,data:T,schemaCode:N}=C;C.fail$data((0,p._)`${T} ${I[j].fail} ${N} || isNaN(${T})`)}};return Is.default=E,Is}var Ls={},td;function Yx(){if(td)return Ls;td=1,Object.defineProperty(Ls,"__esModule",{value:!0});const p=d(),_={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:I})=>(0,p.str)`must be multiple of ${I}`,params:({schemaCode:I})=>(0,p._)`{multipleOf: ${I}}`},code(I){const{gen:S,data:E,schemaCode:C,it:j}=I,T=j.opts.multipleOfPrecision,N=S.let("res"),z=T?(0,p._)`Math.abs(Math.round(${N}) - ${N}) > 1e-${T}`:(0,p._)`${N} !== parseInt(${N})`;I.fail$data((0,p._)`(${C} === 0 || (${N} = ${E}/${C}, ${z}))`)}};return Ls.default=_,Ls}var Bs={},zs={},rd;function Xx(){if(rd)return zs;rd=1,Object.defineProperty(zs,"__esModule",{value:!0});function p(_){const I=_.length;let S=0,E=0,C;for(;E<I;)S++,C=_.charCodeAt(E++),C>=55296&&C<=56319&&E<I&&(C=_.charCodeAt(E),(C&64512)===56320&&E++);return S}return zs.default=p,p.code='require("ajv/dist/runtime/ucs2length").default',zs}var nd;function Qx(){if(nd)return Bs;nd=1,Object.defineProperty(Bs,"__esModule",{value:!0});const p=d(),_=$(),I=Xx(),S={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:E,schemaCode:C}){const j=E==="maxLength"?"more":"fewer";return(0,p.str)`must NOT have ${j} than ${C} characters`},params:({schemaCode:E})=>(0,p._)`{limit: ${E}}`},code(E){const{keyword:C,data:j,schemaCode:T,it:N}=E,z=C==="maxLength"?p.operators.GT:p.operators.LT,R=N.opts.unicode===!1?(0,p._)`${j}.length`:(0,p._)`${(0,_.useFunc)(E.gen,I.default)}(${j})`;E.fail$data((0,p._)`${R} ${z} ${T}`)}};return Bs.default=S,Bs}var Vs={},id;function Zx(){if(id)return Vs;id=1,Object.defineProperty(Vs,"__esModule",{value:!0});const p=ce(),_=d(),I={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:S})=>(0,_.str)`must match pattern "${S}"`,params:({schemaCode:S})=>(0,_._)`{pattern: ${S}}`},code(S){const{data:E,$data:C,schema:j,schemaCode:T,it:N}=S,z=N.opts.unicodeRegExp?"u":"",R=C?(0,_._)`(new RegExp(${T}, ${z}))`:(0,p.usePattern)(S,j);S.fail$data((0,_._)`!${R}.test(${E})`)}};return Vs.default=I,Vs}var Fs={},od;function e_(){if(od)return Fs;od=1,Object.defineProperty(Fs,"__esModule",{value:!0});const p=d(),_={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:I,schemaCode:S}){const E=I==="maxProperties"?"more":"fewer";return(0,p.str)`must NOT have ${E} than ${S} properties`},params:({schemaCode:I})=>(0,p._)`{limit: ${I}}`},code(I){const{keyword:S,data:E,schemaCode:C}=I,j=S==="maxProperties"?p.operators.GT:p.operators.LT;I.fail$data((0,p._)`Object.keys(${E}).length ${j} ${C}`)}};return Fs.default=_,Fs}var Ws={},sd;function t_(){if(sd)return Ws;sd=1,Object.defineProperty(Ws,"__esModule",{value:!0});const p=ce(),_=d(),I=$(),S={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:E}})=>(0,_.str)`must have required property '${E}'`,params:({params:{missingProperty:E}})=>(0,_._)`{missingProperty: ${E}}`},code(E){const{gen:C,schema:j,schemaCode:T,data:N,$data:z,it:R}=E,{opts:K}=R;if(!z&&j.length===0)return;const re=j.length>=K.loopRequired;if(R.allErrors?H():q(),K.strictRequired){const y=E.parentSchema.properties,{definedProperties:m}=E.it;for(const x of j)if(y?.[x]===void 0&&!m.has(x)){const B=R.schemaEnv.baseId+R.errSchemaPath,A=`required property "${x}" is not defined at "${B}" (strictRequired)`;(0,I.checkStrictMode)(R,A,R.opts.strictRequired)}}function H(){if(re||z)E.block$data(_.nil,L);else for(const y of j)(0,p.checkReportMissingProp)(E,y)}function q(){const y=C.let("missing");if(re||z){const m=C.let("valid",!0);E.block$data(m,()=>v(y,m)),E.ok(m)}else C.if((0,p.checkMissingProp)(E,j,y)),(0,p.reportMissingProp)(E,y),C.else()}function L(){C.forOf("prop",T,y=>{E.setParams({missingProperty:y}),C.if((0,p.noPropertyInData)(C,N,y,K.ownProperties),()=>E.error())})}function v(y,m){E.setParams({missingProperty:y}),C.forOf(y,T,()=>{C.assign(m,(0,p.propertyInData)(C,N,y,K.ownProperties)),C.if((0,_.not)(m),()=>{E.error(),C.break()})},_.nil)}}};return Ws.default=S,Ws}var Hs={},ad;function r_(){if(ad)return Hs;ad=1,Object.defineProperty(Hs,"__esModule",{value:!0});const p=d(),_={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:I,schemaCode:S}){const E=I==="maxItems"?"more":"fewer";return(0,p.str)`must NOT have ${E} than ${S} items`},params:({schemaCode:I})=>(0,p._)`{limit: ${I}}`},code(I){const{keyword:S,data:E,schemaCode:C}=I,j=S==="maxItems"?p.operators.GT:p.operators.LT;I.fail$data((0,p._)`${E}.length ${j} ${C}`)}};return Hs.default=_,Hs}var qs={},Us={},ld;function dc(){if(ld)return Us;ld=1,Object.defineProperty(Us,"__esModule",{value:!0});const p=Ln();return p.code='require("ajv/dist/runtime/equal").default',Us.default=p,Us}var cd;function n_(){if(cd)return qs;cd=1,Object.defineProperty(qs,"__esModule",{value:!0});const p=ge(),_=d(),I=$(),S=dc(),E={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:C,j}})=>(0,_.str)`must NOT have duplicate items (items ## ${j} and ${C} are identical)`,params:({params:{i:C,j}})=>(0,_._)`{i: ${C}, j: ${j}}`},code(C){const{gen:j,data:T,$data:N,schema:z,parentSchema:R,schemaCode:K,it:re}=C;if(!N&&!z)return;const H=j.let("valid"),q=R.items?(0,p.getSchemaTypes)(R.items):[];C.block$data(H,L,(0,_._)`${K} === false`),C.ok(H);function L(){const x=j.let("i",(0,_._)`${T}.length`),B=j.let("j");C.setParams({i:x,j:B}),j.assign(H,!0),j.if((0,_._)`${x} > 1`,()=>(v()?y:m)(x,B))}function v(){return q.length>0&&!q.some(x=>x==="object"||x==="array")}function y(x,B){const A=j.name("item"),M=(0,p.checkDataTypes)(q,A,re.opts.strictNumbers,p.DataType.Wrong),V=j.const("indices",(0,_._)`{}`);j.for((0,_._)`;${x}--;`,()=>{j.let(A,(0,_._)`${T}[${x}]`),j.if(M,(0,_._)`continue`),q.length>1&&j.if((0,_._)`typeof ${A} == "string"`,(0,_._)`${A} += "_"`),j.if((0,_._)`typeof ${V}[${A}] == "number"`,()=>{j.assign(B,(0,_._)`${V}[${A}]`),C.error(),j.assign(H,!1).break()}).code((0,_._)`${V}[${A}] = ${x}`)})}function m(x,B){const A=(0,I.useFunc)(j,S.default),M=j.name("outer");j.label(M).for((0,_._)`;${x}--;`,()=>j.for((0,_._)`${B} = ${x}; ${B}--;`,()=>j.if((0,_._)`${A}(${T}[${x}], ${T}[${B}])`,()=>{C.error(),j.assign(H,!1).break(M)})))}}};return qs.default=E,qs}var Ks={},ud;function i_(){if(ud)return Ks;ud=1,Object.defineProperty(Ks,"__esModule",{value:!0});const p=d(),_=$(),I=dc(),S={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:E})=>(0,p._)`{allowedValue: ${E}}`},code(E){const{gen:C,data:j,$data:T,schemaCode:N,schema:z}=E;T||z&&typeof z=="object"?E.fail$data((0,p._)`!${(0,_.useFunc)(C,I.default)}(${j}, ${N})`):E.fail((0,p._)`${z} !== ${j}`)}};return Ks.default=S,Ks}var Js={},hd;function o_(){if(hd)return Js;hd=1,Object.defineProperty(Js,"__esModule",{value:!0});const p=d(),_=$(),I=dc(),S={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:E})=>(0,p._)`{allowedValues: ${E}}`},code(E){const{gen:C,data:j,$data:T,schema:N,schemaCode:z,it:R}=E;if(!T&&N.length===0)throw new Error("enum must have non-empty array");const K=N.length>=R.opts.loopEnum;let re;const H=()=>re??(re=(0,_.useFunc)(C,I.default));let q;if(K||T)q=C.let("valid"),E.block$data(q,L);else{if(!Array.isArray(N))throw new Error("ajv implementation error");const y=C.const("vSchema",z);q=(0,p.or)(...N.map((m,x)=>v(y,x)))}E.pass(q);function L(){C.assign(q,!1),C.forOf("v",z,y=>C.if((0,p._)`${H()}(${j}, ${y})`,()=>C.assign(q,!0).break()))}function v(y,m){const x=N[m];return typeof x=="object"&&x!==null?(0,p._)`${H()}(${j}, ${y}[${m}])`:(0,p._)`${j} === ${x}`}}};return Js.default=S,Js}var fd;function s_(){if(fd)return Ns;fd=1,Object.defineProperty(Ns,"__esModule",{value:!0});const p=Gx(),_=Yx(),I=Qx(),S=Zx(),E=e_(),C=t_(),j=r_(),T=n_(),N=i_(),z=o_(),R=[p.default,_.default,I.default,S.default,E.default,C.default,j.default,T.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},N.default,z.default];return Ns.default=R,Ns}var Gs={},zi={},dd;function pd(){if(dd)return zi;dd=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.validateAdditionalItems=void 0;const p=d(),_=$(),I={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:E}})=>(0,p.str)`must NOT have more than ${E} items`,params:({params:{len:E}})=>(0,p._)`{limit: ${E}}`},code(E){const{parentSchema:C,it:j}=E,{items:T}=C;if(!Array.isArray(T)){(0,_.checkStrictMode)(j,'"additionalItems" is ignored when "items" is not an array of schemas');return}S(E,T)}};function S(E,C){const{gen:j,schema:T,data:N,keyword:z,it:R}=E;R.items=!0;const K=j.const("len",(0,p._)`${N}.length`);if(T===!1)E.setParams({len:C.length}),E.pass((0,p._)`${K} <= ${C.length}`);else if(typeof T=="object"&&!(0,_.alwaysValidSchema)(R,T)){const H=j.var("valid",(0,p._)`${K} <= ${C.length}`);j.if((0,p.not)(H),()=>re(H)),E.ok(H)}function re(H){j.forRange("i",C.length,K,q=>{E.subschema({keyword:z,dataProp:q,dataPropType:_.Type.Num},H),R.allErrors||j.if((0,p.not)(H),()=>j.break())})}}return zi.validateAdditionalItems=S,zi.default=I,zi}var Ys={},Vi={},md;function gd(){if(md)return Vi;md=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.validateTuple=void 0;const p=d(),_=$(),I=ce(),S={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(C){const{schema:j,it:T}=C;if(Array.isArray(j))return E(C,"additionalItems",j);T.items=!0,!(0,_.alwaysValidSchema)(T,j)&&C.ok((0,I.validateArray)(C))}};function E(C,j,T=C.schema){const{gen:N,parentSchema:z,data:R,keyword:K,it:re}=C;L(z),re.opts.unevaluated&&T.length&&re.items!==!0&&(re.items=_.mergeEvaluated.items(N,T.length,re.items));const H=N.name("valid"),q=N.const("len",(0,p._)`${R}.length`);T.forEach((v,y)=>{(0,_.alwaysValidSchema)(re,v)||(N.if((0,p._)`${q} > ${y}`,()=>C.subschema({keyword:K,schemaProp:y,dataProp:y},H)),C.ok(H))});function L(v){const{opts:y,errSchemaPath:m}=re,x=T.length,B=x===v.minItems&&(x===v.maxItems||v[j]===!1);if(y.strictTuples&&!B){const A=`"${K}" is ${x}-tuple, but minItems or maxItems/${j} are not specified or different at path "${m}"`;(0,_.checkStrictMode)(re,A,y.strictTuples)}}}return Vi.validateTuple=E,Vi.default=S,Vi}var vd;function a_(){if(vd)return Ys;vd=1,Object.defineProperty(Ys,"__esModule",{value:!0});const p=gd(),_={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:I=>(0,p.validateTuple)(I,"items")};return Ys.default=_,Ys}var Xs={},yd;function l_(){if(yd)return Xs;yd=1,Object.defineProperty(Xs,"__esModule",{value:!0});const p=d(),_=$(),I=ce(),S=pd(),E={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:C}})=>(0,p.str)`must NOT have more than ${C} items`,params:({params:{len:C}})=>(0,p._)`{limit: ${C}}`},code(C){const{schema:j,parentSchema:T,it:N}=C,{prefixItems:z}=T;N.items=!0,!(0,_.alwaysValidSchema)(N,j)&&(z?(0,S.validateAdditionalItems)(C,z):C.ok((0,I.validateArray)(C)))}};return Xs.default=E,Xs}var Qs={},bd;function c_(){if(bd)return Qs;bd=1,Object.defineProperty(Qs,"__esModule",{value:!0});const p=d(),_=$(),I={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:S,max:E}})=>E===void 0?(0,p.str)`must contain at least ${S} valid item(s)`:(0,p.str)`must contain at least ${S} and no more than ${E} valid item(s)`,params:({params:{min:S,max:E}})=>E===void 0?(0,p._)`{minContains: ${S}}`:(0,p._)`{minContains: ${S}, maxContains: ${E}}`},code(S){const{gen:E,schema:C,parentSchema:j,data:T,it:N}=S;let z,R;const{minContains:K,maxContains:re}=j;N.opts.next?(z=K===void 0?1:K,R=re):z=1;const H=E.const("len",(0,p._)`${T}.length`);if(S.setParams({min:z,max:R}),R===void 0&&z===0){(0,_.checkStrictMode)(N,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(R!==void 0&&z>R){(0,_.checkStrictMode)(N,'"minContains" > "maxContains" is always invalid'),S.fail();return}if((0,_.alwaysValidSchema)(N,C)){let m=(0,p._)`${H} >= ${z}`;R!==void 0&&(m=(0,p._)`${m} && ${H} <= ${R}`),S.pass(m);return}N.items=!0;const q=E.name("valid");R===void 0&&z===1?v(q,()=>E.if(q,()=>E.break())):z===0?(E.let(q,!0),R!==void 0&&E.if((0,p._)`${T}.length > 0`,L)):(E.let(q,!1),L()),S.result(q,()=>S.reset());function L(){const m=E.name("_valid"),x=E.let("count",0);v(m,()=>E.if(m,()=>y(x)))}function v(m,x){E.forRange("i",0,H,B=>{S.subschema({keyword:"contains",dataProp:B,dataPropType:_.Type.Num,compositeRule:!0},m),x()})}function y(m){E.code((0,p._)`${m}++`),R===void 0?E.if((0,p._)`${m} >= ${z}`,()=>E.assign(q,!0).break()):(E.if((0,p._)`${m} > ${R}`,()=>E.assign(q,!1).break()),z===1?E.assign(q,!0):E.if((0,p._)`${m} >= ${z}`,()=>E.assign(q,!0)))}}};return Qs.default=I,Qs}var wd={},xd;function u_(){return xd||(xd=1,(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.validateSchemaDeps=p.validatePropertyDeps=p.error=void 0;const _=d(),I=$(),S=ce();p.error={message:({params:{property:N,depsCount:z,deps:R}})=>{const K=z===1?"property":"properties";return(0,_.str)`must have ${K} ${R} when property ${N} is present`},params:({params:{property:N,depsCount:z,deps:R,missingProperty:K}})=>(0,_._)`{property: ${N},
    missingProperty: ${K},
    depsCount: ${z},
    deps: ${R}}`};const E={keyword:"dependencies",type:"object",schemaType:"object",error:p.error,code(N){const[z,R]=C(N);j(N,z),T(N,R)}};function C({schema:N}){const z={},R={};for(const K in N){if(K==="__proto__")continue;const re=Array.isArray(N[K])?z:R;re[K]=N[K]}return[z,R]}function j(N,z=N.schema){const{gen:R,data:K,it:re}=N;if(Object.keys(z).length===0)return;const H=R.let("missing");for(const q in z){const L=z[q];if(L.length===0)continue;const v=(0,S.propertyInData)(R,K,q,re.opts.ownProperties);N.setParams({property:q,depsCount:L.length,deps:L.join(", ")}),re.allErrors?R.if(v,()=>{for(const y of L)(0,S.checkReportMissingProp)(N,y)}):(R.if((0,_._)`${v} && (${(0,S.checkMissingProp)(N,L,H)})`),(0,S.reportMissingProp)(N,H),R.else())}}p.validatePropertyDeps=j;function T(N,z=N.schema){const{gen:R,data:K,keyword:re,it:H}=N,q=R.name("valid");for(const L in z)(0,I.alwaysValidSchema)(H,z[L])||(R.if((0,S.propertyInData)(R,K,L,H.opts.ownProperties),()=>{const v=N.subschema({keyword:re,schemaProp:L},q);N.mergeValidEvaluated(v,q)},()=>R.var(q,!0)),N.ok(q))}p.validateSchemaDeps=T,p.default=E})(wd)),wd}var Zs={},_d;function h_(){if(_d)return Zs;_d=1,Object.defineProperty(Zs,"__esModule",{value:!0});const p=d(),_=$(),I={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:S})=>(0,p._)`{propertyName: ${S.propertyName}}`},code(S){const{gen:E,schema:C,data:j,it:T}=S;if((0,_.alwaysValidSchema)(T,C))return;const N=E.name("valid");E.forIn("key",j,z=>{S.setParams({propertyName:z}),S.subschema({keyword:"propertyNames",data:z,dataTypes:["string"],propertyName:z,compositeRule:!0},N),E.if((0,p.not)(N),()=>{S.error(!0),T.allErrors||E.break()})}),S.ok(N)}};return Zs.default=I,Zs}var ea={},$d;function kd(){if($d)return ea;$d=1,Object.defineProperty(ea,"__esModule",{value:!0});const p=ce(),_=d(),I=ne(),S=$(),E={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:C})=>(0,_._)`{additionalProperty: ${C.additionalProperty}}`},code(C){const{gen:j,schema:T,parentSchema:N,data:z,errsCount:R,it:K}=C;if(!R)throw new Error("ajv implementation error");const{allErrors:re,opts:H}=K;if(K.props=!0,H.removeAdditional!=="all"&&(0,S.alwaysValidSchema)(K,T))return;const q=(0,p.allSchemaProperties)(N.properties),L=(0,p.allSchemaProperties)(N.patternProperties);v(),C.ok((0,_._)`${R} === ${I.default.errors}`);function v(){j.forIn("key",z,A=>{!q.length&&!L.length?x(A):j.if(y(A),()=>x(A))})}function y(A){let M;if(q.length>8){const V=(0,S.schemaRefOrVal)(K,N.properties,"properties");M=(0,p.isOwnProperty)(j,V,A)}else q.length?M=(0,_.or)(...q.map(V=>(0,_._)`${A} === ${V}`)):M=_.nil;return L.length&&(M=(0,_.or)(M,...L.map(V=>(0,_._)`${(0,p.usePattern)(C,V)}.test(${A})`))),(0,_.not)(M)}function m(A){j.code((0,_._)`delete ${z}[${A}]`)}function x(A){if(H.removeAdditional==="all"||H.removeAdditional&&T===!1){m(A);return}if(T===!1){C.setParams({additionalProperty:A}),C.error(),re||j.break();return}if(typeof T=="object"&&!(0,S.alwaysValidSchema)(K,T)){const M=j.name("valid");H.removeAdditional==="failing"?(B(A,M,!1),j.if((0,_.not)(M),()=>{C.reset(),m(A)})):(B(A,M),re||j.if((0,_.not)(M),()=>j.break()))}}function B(A,M,V){const ue={keyword:"additionalProperties",dataProp:A,dataPropType:S.Type.Str};V===!1&&Object.assign(ue,{compositeRule:!0,createErrors:!1,allErrors:!1}),C.subschema(ue,M)}}};return ea.default=E,ea}var ta={},Sd;function f_(){if(Sd)return ta;Sd=1,Object.defineProperty(ta,"__esModule",{value:!0});const p=Ue(),_=ce(),I=$(),S=kd(),E={keyword:"properties",type:"object",schemaType:"object",code(C){const{gen:j,schema:T,parentSchema:N,data:z,it:R}=C;R.opts.removeAdditional==="all"&&N.additionalProperties===void 0&&S.default.code(new p.KeywordCxt(R,S.default,"additionalProperties"));const K=(0,_.allSchemaProperties)(T);for(const v of K)R.definedProperties.add(v);R.opts.unevaluated&&K.length&&R.props!==!0&&(R.props=I.mergeEvaluated.props(j,(0,I.toHash)(K),R.props));const re=K.filter(v=>!(0,I.alwaysValidSchema)(R,T[v]));if(re.length===0)return;const H=j.name("valid");for(const v of re)q(v)?L(v):(j.if((0,_.propertyInData)(j,z,v,R.opts.ownProperties)),L(v),R.allErrors||j.else().var(H,!0),j.endIf()),C.it.definedProperties.add(v),C.ok(H);function q(v){return R.opts.useDefaults&&!R.compositeRule&&T[v].default!==void 0}function L(v){C.subschema({keyword:"properties",schemaProp:v,dataProp:v},H)}}};return ta.default=E,ta}var ra={},Ed;function d_(){if(Ed)return ra;Ed=1,Object.defineProperty(ra,"__esModule",{value:!0});const p=ce(),_=d(),I=$(),S=$(),E={keyword:"patternProperties",type:"object",schemaType:"object",code(C){const{gen:j,schema:T,data:N,parentSchema:z,it:R}=C,{opts:K}=R,re=(0,p.allSchemaProperties)(T),H=re.filter(B=>(0,I.alwaysValidSchema)(R,T[B]));if(re.length===0||H.length===re.length&&(!R.opts.unevaluated||R.props===!0))return;const q=K.strictSchema&&!K.allowMatchingProperties&&z.properties,L=j.name("valid");R.props!==!0&&!(R.props instanceof _.Name)&&(R.props=(0,S.evaluatedPropsToName)(j,R.props));const{props:v}=R;y();function y(){for(const B of re)q&&m(B),R.allErrors?x(B):(j.var(L,!0),x(B),j.if(L))}function m(B){for(const A in q)new RegExp(B).test(A)&&(0,I.checkStrictMode)(R,`property ${A} matches pattern ${B} (use allowMatchingProperties)`)}function x(B){j.forIn("key",N,A=>{j.if((0,_._)`${(0,p.usePattern)(C,B)}.test(${A})`,()=>{const M=H.includes(B);M||C.subschema({keyword:"patternProperties",schemaProp:B,dataProp:A,dataPropType:S.Type.Str},L),R.opts.unevaluated&&v!==!0?j.assign((0,_._)`${v}[${A}]`,!0):!M&&!R.allErrors&&j.if((0,_.not)(L),()=>j.break())})})}}};return ra.default=E,ra}var na={},Cd;function p_(){if(Cd)return na;Cd=1,Object.defineProperty(na,"__esModule",{value:!0});const p=$(),_={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(I){const{gen:S,schema:E,it:C}=I;if((0,p.alwaysValidSchema)(C,E)){I.fail();return}const j=S.name("valid");I.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},j),I.failResult(j,()=>I.reset(),()=>I.error())},error:{message:"must NOT be valid"}};return na.default=_,na}var ia={},Od;function m_(){if(Od)return ia;Od=1,Object.defineProperty(ia,"__esModule",{value:!0});const p={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ce().validateUnion,error:{message:"must match a schema in anyOf"}};return ia.default=p,ia}var oa={},Ad;function g_(){if(Ad)return oa;Ad=1,Object.defineProperty(oa,"__esModule",{value:!0});const p=d(),_=$(),I={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:S})=>(0,p._)`{passingSchemas: ${S.passing}}`},code(S){const{gen:E,schema:C,parentSchema:j,it:T}=S;if(!Array.isArray(C))throw new Error("ajv implementation error");if(T.opts.discriminator&&j.discriminator)return;const N=C,z=E.let("valid",!1),R=E.let("passing",null),K=E.name("_valid");S.setParams({passing:R}),E.block(re),S.result(z,()=>S.reset(),()=>S.error(!0));function re(){N.forEach((H,q)=>{let L;(0,_.alwaysValidSchema)(T,H)?E.var(K,!0):L=S.subschema({keyword:"oneOf",schemaProp:q,compositeRule:!0},K),q>0&&E.if((0,p._)`${K} && ${z}`).assign(z,!1).assign(R,(0,p._)`[${R}, ${q}]`).else(),E.if(K,()=>{E.assign(z,!0),E.assign(R,q),L&&S.mergeEvaluated(L,p.Name)})})}}};return oa.default=I,oa}var sa={},Md;function v_(){if(Md)return sa;Md=1,Object.defineProperty(sa,"__esModule",{value:!0});const p=$(),_={keyword:"allOf",schemaType:"array",code(I){const{gen:S,schema:E,it:C}=I;if(!Array.isArray(E))throw new Error("ajv implementation error");const j=S.name("valid");E.forEach((T,N)=>{if((0,p.alwaysValidSchema)(C,T))return;const z=I.subschema({keyword:"allOf",schemaProp:N},j);I.ok(j),I.mergeEvaluated(z)})}};return sa.default=_,sa}var aa={},jd;function y_(){if(jd)return aa;jd=1,Object.defineProperty(aa,"__esModule",{value:!0});const p=d(),_=$(),I={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:E})=>(0,p.str)`must match "${E.ifClause}" schema`,params:({params:E})=>(0,p._)`{failingKeyword: ${E.ifClause}}`},code(E){const{gen:C,parentSchema:j,it:T}=E;j.then===void 0&&j.else===void 0&&(0,_.checkStrictMode)(T,'"if" without "then" and "else" is ignored');const N=S(T,"then"),z=S(T,"else");if(!N&&!z)return;const R=C.let("valid",!0),K=C.name("_valid");if(re(),E.reset(),N&&z){const q=C.let("ifClause");E.setParams({ifClause:q}),C.if(K,H("then",q),H("else",q))}else N?C.if(K,H("then")):C.if((0,p.not)(K),H("else"));E.pass(R,()=>E.error(!0));function re(){const q=E.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},K);E.mergeEvaluated(q)}function H(q,L){return()=>{const v=E.subschema({keyword:q},K);C.assign(R,K),E.mergeValidEvaluated(v,R),L?C.assign(L,(0,p._)`${q}`):E.setParams({ifClause:q})}}}};function S(E,C){const j=E.schema[C];return j!==void 0&&!(0,_.alwaysValidSchema)(E,j)}return aa.default=I,aa}var la={},Td;function b_(){if(Td)return la;Td=1,Object.defineProperty(la,"__esModule",{value:!0});const p=$(),_={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:I,parentSchema:S,it:E}){S.if===void 0&&(0,p.checkStrictMode)(E,`"${I}" without "if" is ignored`)}};return la.default=_,la}var Pd;function w_(){if(Pd)return Gs;Pd=1,Object.defineProperty(Gs,"__esModule",{value:!0});const p=pd(),_=a_(),I=gd(),S=l_(),E=c_(),C=u_(),j=h_(),T=kd(),N=f_(),z=d_(),R=p_(),K=m_(),re=g_(),H=v_(),q=y_(),L=b_();function v(y=!1){const m=[R.default,K.default,re.default,H.default,q.default,L.default,j.default,T.default,C.default,N.default,z.default];return y?m.push(_.default,S.default):m.push(p.default,I.default),m.push(E.default),m}return Gs.default=v,Gs}var ca={},ua={},Rd;function x_(){if(Rd)return ua;Rd=1,Object.defineProperty(ua,"__esModule",{value:!0});const p=d(),_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:I})=>(0,p.str)`must match format "${I}"`,params:({schemaCode:I})=>(0,p._)`{format: ${I}}`},code(I,S){const{gen:E,data:C,$data:j,schema:T,schemaCode:N,it:z}=I,{opts:R,errSchemaPath:K,schemaEnv:re,self:H}=z;if(!R.validateFormats)return;j?q():L();function q(){const v=E.scopeValue("formats",{ref:H.formats,code:R.code.formats}),y=E.const("fDef",(0,p._)`${v}[${N}]`),m=E.let("fType"),x=E.let("format");E.if((0,p._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>E.assign(m,(0,p._)`${y}.type || "string"`).assign(x,(0,p._)`${y}.validate`),()=>E.assign(m,(0,p._)`"string"`).assign(x,y)),I.fail$data((0,p.or)(B(),A()));function B(){return R.strictSchema===!1?p.nil:(0,p._)`${N} && !${x}`}function A(){const M=re.$async?(0,p._)`(${y}.async ? await ${x}(${C}) : ${x}(${C}))`:(0,p._)`${x}(${C})`,V=(0,p._)`(typeof ${x} == "function" ? ${M} : ${x}.test(${C}))`;return(0,p._)`${x} && ${x} !== true && ${m} === ${S} && !${V}`}}function L(){const v=H.formats[T];if(!v){B();return}if(v===!0)return;const[y,m,x]=A(v);y===S&&I.pass(M());function B(){if(R.strictSchema===!1){H.logger.warn(V());return}throw new Error(V());function V(){return`unknown format "${T}" ignored in schema at path "${K}"`}}function A(V){const ue=V instanceof RegExp?(0,p.regexpCode)(V):R.code.formats?(0,p._)`${R.code.formats}${(0,p.getProperty)(T)}`:void 0,ve=E.scopeValue("formats",{key:T,ref:V,code:ue});return typeof V=="object"&&!(V instanceof RegExp)?[V.type||"string",V.validate,(0,p._)`${ve}.validate`]:["string",V,ve]}function M(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!re.$async)throw new Error("async format in sync schema");return(0,p._)`await ${x}(${C})`}return typeof m=="function"?(0,p._)`${x}(${C})`:(0,p._)`${x}.test(${C})`}}}};return ua.default=_,ua}var Dd;function __(){if(Dd)return ca;Dd=1,Object.defineProperty(ca,"__esModule",{value:!0});const p=[x_().default];return ca.default=p,ca}var Fi={},Nd;function $_(){return Nd||(Nd=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.contentVocabulary=Fi.metadataVocabulary=void 0,Fi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Fi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Fi}var Id;function k_(){if(Id)return hi;Id=1,Object.defineProperty(hi,"__esModule",{value:!0});const p=Jx(),_=s_(),I=w_(),S=__(),E=$_(),C=[p.default,_.default,(0,I.default)(),S.default,E.metadataVocabulary,E.contentVocabulary];return hi.default=C,hi}var ha={},Co={},Ld;function S_(){if(Ld)return Co;Ld=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.DiscrError=void 0;var p;return(function(_){_.Tag="tag",_.Mapping="mapping"})(p||(Co.DiscrError=p={})),Co}var Bd;function E_(){if(Bd)return ha;Bd=1,Object.defineProperty(ha,"__esModule",{value:!0});const p=d(),_=S_(),I=W(),S=Di(),E=$(),C={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:j,tagName:T}})=>j===_.DiscrError.Tag?`tag "${T}" must be string`:`value of tag "${T}" must be in oneOf`,params:({params:{discrError:j,tag:T,tagName:N}})=>(0,p._)`{error: ${j}, tag: ${N}, tagValue: ${T}}`},code(j){const{gen:T,data:N,schema:z,parentSchema:R,it:K}=j,{oneOf:re}=R;if(!K.opts.discriminator)throw new Error("discriminator: requires discriminator option");const H=z.propertyName;if(typeof H!="string")throw new Error("discriminator: requires propertyName");if(z.mapping)throw new Error("discriminator: mapping is not supported");if(!re)throw new Error("discriminator: requires oneOf keyword");const q=T.let("valid",!1),L=T.const("tag",(0,p._)`${N}${(0,p.getProperty)(H)}`);T.if((0,p._)`typeof ${L} == "string"`,()=>v(),()=>j.error(!1,{discrError:_.DiscrError.Tag,tag:L,tagName:H})),j.ok(q);function v(){const x=m();T.if(!1);for(const B in x)T.elseIf((0,p._)`${L} === ${B}`),T.assign(q,y(x[B]));T.else(),j.error(!1,{discrError:_.DiscrError.Mapping,tag:L,tagName:H}),T.endIf()}function y(x){const B=T.name("valid"),A=j.subschema({keyword:"oneOf",schemaProp:x},B);return j.mergeEvaluated(A,p.Name),B}function m(){var x;const B={},A=V(R);let M=!0;for(let Se=0;Se<re.length;Se++){let Re=re[Se];if(Re!=null&&Re.$ref&&!(0,E.schemaHasRulesButRef)(Re,K.self.RULES)){const rt=Re.$ref;if(Re=I.resolveRef.call(K.self,K.schemaEnv.root,K.baseId,rt),Re instanceof I.SchemaEnv&&(Re=Re.schema),Re===void 0)throw new S.default(K.opts.uriResolver,K.baseId,rt)}const tt=(x=Re?.properties)===null||x===void 0?void 0:x[H];if(typeof tt!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${H}"`);M=M&&(A||V(Re)),ue(tt,Se)}if(!M)throw new Error(`discriminator: "${H}" must be required`);return B;function V({required:Se}){return Array.isArray(Se)&&Se.includes(H)}function ue(Se,Re){if(Se.const)ve(Se.const,Re);else if(Se.enum)for(const tt of Se.enum)ve(tt,Re);else throw new Error(`discriminator: "properties/${H}" must have "const" or "enum"`)}function ve(Se,Re){if(typeof Se!="string"||Se in B)throw new Error(`discriminator: "${H}" values must be unique strings`);B[Se]=Re}}}};return ha.default=C,ha}const C_="http://json-schema.org/draft-07/schema#",O_="http://json-schema.org/draft-07/schema#",A_="Core schema meta-schema",M_={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},j_=["object","boolean"],T_={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},P_={$schema:C_,$id:O_,title:A_,definitions:M_,type:j_,properties:T_,default:!0};var zd;function R_(){return zd||(zd=1,(function(p,_){Object.defineProperty(_,"__esModule",{value:!0}),_.MissingRefError=_.ValidationError=_.CodeGen=_.Name=_.nil=_.stringify=_.str=_._=_.KeywordCxt=_.Ajv=void 0;const I=Ps(),S=k_(),E=E_(),C=P_,j=["/properties"],T="http://json-schema.org/draft-07/schema";class N extends I.default{_addVocabularies(){super._addVocabularies(),S.default.forEach(q=>this.addVocabulary(q)),this.opts.discriminator&&this.addKeyword(E.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const q=this.opts.$data?this.$dataMetaSchema(C,j):C;this.addMetaSchema(q,T,!1),this.refs["http://json-schema.org/schema"]=T}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(T)?T:void 0)}}_.Ajv=N,p.exports=_=N,p.exports.Ajv=N,Object.defineProperty(_,"__esModule",{value:!0}),_.default=N;var z=Ue();Object.defineProperty(_,"KeywordCxt",{enumerable:!0,get:function(){return z.KeywordCxt}});var R=d();Object.defineProperty(_,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(_,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(_,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(_,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(_,"Name",{enumerable:!0,get:function(){return R.Name}}),Object.defineProperty(_,"CodeGen",{enumerable:!0,get:function(){return R.CodeGen}});var K=Pi();Object.defineProperty(_,"ValidationError",{enumerable:!0,get:function(){return K.default}});var re=Di();Object.defineProperty(_,"MissingRefError",{enumerable:!0,get:function(){return re.default}})})(t,t.exports)),t.exports}return R_(),Up}j6();var Jp={},Gp;function T6(){return Gp||(Gp=1,(function(t){(function(e){function r(b){return b!==null?Object.prototype.toString.call(b)==="[object Array]":!1}function n(b){return b!==null?Object.prototype.toString.call(b)==="[object Object]":!1}function i(b,D){if(b===D)return!0;var W=Object.prototype.toString.call(b);if(W!==Object.prototype.toString.call(D))return!1;if(r(b)===!0){if(b.length!==D.length)return!1;for(var oe=0;oe<b.length;oe++)if(i(b[oe],D[oe])===!1)return!1;return!0}if(n(b)===!0){var he={};for(var Ae in b)if(hasOwnProperty.call(b,Ae)){if(i(b[Ae],D[Ae])===!1)return!1;he[Ae]=!0}for(var Xe in D)if(hasOwnProperty.call(D,Xe)&&he[Xe]!==!0)return!1;return!0}return!1}function o(b){if(b===""||b===!1||b===null||r(b)&&b.length===0)return!0;if(n(b)){for(var D in b)if(b.hasOwnProperty(D))return!1;return!0}else return!1}function s(b){for(var D=Object.keys(b),W=[],oe=0;oe<D.length;oe++)W.push(b[D[oe]]);return W}var a;typeof String.prototype.trimLeft=="function"?a=function(b){return b.trimLeft()}:a=function(b){return b.match(/^\s*(.*)/)[1]};var l=0,c=1,u=2,h=3,f=4,d=5,g=6,O=7,$=8,P=9,Y={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},ne="EOF",G="UnquotedIdentifier",X="QuotedIdentifier",se="Rbracket",Z="Rparen",le="Comma",$e="Colon",Ke="Rbrace",De="Number",be="Current",je="Expref",ze="Pipe",Te="Or",ge="And",Ce="EQ",Fe="GT",J="LT",de="GTE",me="LTE",ye="NE",ce="Flatten",xe="Star",Ie="Filter",qe="Dot",vt="Not",Nt="Lbrace",ft="Lbracket",Zt="Lparen",bn="Literal",Ln={".":qe,"*":xe,",":le,":":$e,"{":Nt,"}":Ke,"]":se,"(":Zt,")":Z,"@":be},wn={"<":!0,">":!0,"=":!0,"!":!0},Ms={" ":!0,"	":!0,"\n":!0};function fc(b){return b>="a"&&b<="z"||b>="A"&&b<="Z"||b==="_"}function yo(b){return b>="0"&&b<="9"||b==="-"}function ji(b){return b>="a"&&b<="z"||b>="A"&&b<="Z"||b>="0"&&b<="9"||b==="_"}function Ti(){}Ti.prototype={tokenize:function(b){var D=[];this._current=0;for(var W,oe,he;this._current<b.length;)if(fc(b[this._current]))W=this._current,oe=this._consumeUnquotedIdentifier(b),D.push({type:G,value:oe,start:W});else if(Ln[b[this._current]]!==void 0)D.push({type:Ln[b[this._current]],value:b[this._current],start:this._current}),this._current++;else if(yo(b[this._current]))he=this._consumeNumber(b),D.push(he);else if(b[this._current]==="[")he=this._consumeLBracket(b),D.push(he);else if(b[this._current]==='"')W=this._current,oe=this._consumeQuotedIdentifier(b),D.push({type:X,value:oe,start:W});else if(b[this._current]==="'")W=this._current,oe=this._consumeRawStringLiteral(b),D.push({type:bn,value:oe,start:W});else if(b[this._current]==="`"){W=this._current;var Ae=this._consumeLiteral(b);D.push({type:bn,value:Ae,start:W})}else if(wn[b[this._current]]!==void 0)D.push(this._consumeOperator(b));else if(Ms[b[this._current]]!==void 0)this._current++;else if(b[this._current]==="&")W=this._current,this._current++,b[this._current]==="&"?(this._current++,D.push({type:ge,value:"&&",start:W})):D.push({type:je,value:"&",start:W});else if(b[this._current]==="|")W=this._current,this._current++,b[this._current]==="|"?(this._current++,D.push({type:Te,value:"||",start:W})):D.push({type:ze,value:"|",start:W});else{var Xe=new Error("Unknown character:"+b[this._current]);throw Xe.name="LexerError",Xe}return D},_consumeUnquotedIdentifier:function(b){var D=this._current;for(this._current++;this._current<b.length&&ji(b[this._current]);)this._current++;return b.slice(D,this._current)},_consumeQuotedIdentifier:function(b){var D=this._current;this._current++;for(var W=b.length;b[this._current]!=='"'&&this._current<W;){var oe=this._current;b[oe]==="\\"&&(b[oe+1]==="\\"||b[oe+1]==='"')?oe+=2:oe++,this._current=oe}return this._current++,JSON.parse(b.slice(D,this._current))},_consumeRawStringLiteral:function(b){var D=this._current;this._current++;for(var W=b.length;b[this._current]!=="'"&&this._current<W;){var oe=this._current;b[oe]==="\\"&&(b[oe+1]==="\\"||b[oe+1]==="'")?oe+=2:oe++,this._current=oe}this._current++;var he=b.slice(D+1,this._current-1);return he.replace("\\'","'")},_consumeNumber:function(b){var D=this._current;this._current++;for(var W=b.length;yo(b[this._current])&&this._current<W;)this._current++;var oe=parseInt(b.slice(D,this._current));return{type:De,value:oe,start:D}},_consumeLBracket:function(b){var D=this._current;return this._current++,b[this._current]==="?"?(this._current++,{type:Ie,value:"[?",start:D}):b[this._current]==="]"?(this._current++,{type:ce,value:"[]",start:D}):{type:ft,value:"[",start:D}},_consumeOperator:function(b){var D=this._current,W=b[D];if(this._current++,W==="!")return b[this._current]==="="?(this._current++,{type:ye,value:"!=",start:D}):{type:vt,value:"!",start:D};if(W==="<")return b[this._current]==="="?(this._current++,{type:me,value:"<=",start:D}):{type:J,value:"<",start:D};if(W===">")return b[this._current]==="="?(this._current++,{type:de,value:">=",start:D}):{type:Fe,value:">",start:D};if(W==="="&&b[this._current]==="=")return this._current++,{type:Ce,value:"==",start:D}},_consumeLiteral:function(b){this._current++;for(var D=this._current,W=b.length,oe;b[this._current]!=="`"&&this._current<W;){var he=this._current;b[he]==="\\"&&(b[he+1]==="\\"||b[he+1]==="`")?he+=2:he++,this._current=he}var Ae=a(b.slice(D,this._current));return Ae=Ae.replace("\\`","`"),this._looksLikeJSON(Ae)?oe=JSON.parse(Ae):oe=JSON.parse('"'+Ae+'"'),this._current++,oe},_looksLikeJSON:function(b){var D='[{"',W=["true","false","null"],oe="-0123456789";if(b==="")return!1;if(D.indexOf(b[0])>=0||W.indexOf(b)>=0)return!0;if(oe.indexOf(b[0])>=0)try{return JSON.parse(b),!0}catch{return!1}else return!1}};var Ue={};Ue[ne]=0,Ue[G]=0,Ue[X]=0,Ue[se]=0,Ue[Z]=0,Ue[le]=0,Ue[Ke]=0,Ue[De]=0,Ue[be]=0,Ue[je]=0,Ue[ze]=1,Ue[Te]=2,Ue[ge]=3,Ue[Ce]=5,Ue[Fe]=5,Ue[J]=5,Ue[de]=5,Ue[me]=5,Ue[ye]=5,Ue[ce]=9,Ue[xe]=20,Ue[Ie]=21,Ue[qe]=40,Ue[vt]=45,Ue[Nt]=50,Ue[ft]=55,Ue[Zt]=60;function Bn(){}Bn.prototype={parse:function(b){this._loadTokens(b),this.index=0;var D=this.expression(0);if(this._lookahead(0)!==ne){var W=this._lookaheadToken(0),oe=new Error("Unexpected token type: "+W.type+", value: "+W.value);throw oe.name="ParserError",oe}return D},_loadTokens:function(b){var D=new Ti,W=D.tokenize(b);W.push({type:ne,value:"",start:b.length}),this.tokens=W},expression:function(b){var D=this._lookaheadToken(0);this._advance();for(var W=this.nud(D),oe=this._lookahead(0);b<Ue[oe];)this._advance(),W=this.led(oe,W),oe=this._lookahead(0);return W},_lookahead:function(b){return this.tokens[this.index+b].type},_lookaheadToken:function(b){return this.tokens[this.index+b]},_advance:function(){this.index++},nud:function(b){var D,W,oe;switch(b.type){case bn:return{type:"Literal",value:b.value};case G:return{type:"Field",name:b.value};case X:var he={type:"Field",name:b.value};if(this._lookahead(0)===Zt)throw new Error("Quoted identifier not allowed for function names.");return he;case vt:return W=this.expression(Ue.Not),{type:"NotExpression",children:[W]};case xe:return D={type:"Identity"},W=null,this._lookahead(0)===se?W={type:"Identity"}:W=this._parseProjectionRHS(Ue.Star),{type:"ValueProjection",children:[D,W]};case Ie:return this.led(b.type,{type:"Identity"});case Nt:return this._parseMultiselectHash();case ce:return D={type:ce,children:[{type:"Identity"}]},W=this._parseProjectionRHS(Ue.Flatten),{type:"Projection",children:[D,W]};case ft:return this._lookahead(0)===De||this._lookahead(0)===$e?(W=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},W)):this._lookahead(0)===xe&&this._lookahead(1)===se?(this._advance(),this._advance(),W=this._parseProjectionRHS(Ue.Star),{type:"Projection",children:[{type:"Identity"},W]}):this._parseMultiselectList();case be:return{type:be};case je:return oe=this.expression(Ue.Expref),{type:"ExpressionReference",children:[oe]};case Zt:for(var Ae=[];this._lookahead(0)!==Z;)this._lookahead(0)===be?(oe={type:be},this._advance()):oe=this.expression(0),Ae.push(oe);return this._match(Z),Ae[0];default:this._errorToken(b)}},led:function(b,D){var W;switch(b){case qe:var oe=Ue.Dot;return this._lookahead(0)!==xe?(W=this._parseDotRHS(oe),{type:"Subexpression",children:[D,W]}):(this._advance(),W=this._parseProjectionRHS(oe),{type:"ValueProjection",children:[D,W]});case ze:return W=this.expression(Ue.Pipe),{type:ze,children:[D,W]};case Te:return W=this.expression(Ue.Or),{type:"OrExpression",children:[D,W]};case ge:return W=this.expression(Ue.And),{type:"AndExpression",children:[D,W]};case Zt:for(var he=D.name,Ae=[],Xe,ot;this._lookahead(0)!==Z;)this._lookahead(0)===be?(Xe={type:be},this._advance()):Xe=this.expression(0),this._lookahead(0)===le&&this._match(le),Ae.push(Xe);return this._match(Z),ot={type:"Function",name:he,children:Ae},ot;case Ie:var Vt=this.expression(0);return this._match(se),this._lookahead(0)===ce?W={type:"Identity"}:W=this._parseProjectionRHS(Ue.Filter),{type:"FilterProjection",children:[D,W,Vt]};case ce:var Lr={type:ce,children:[D]},St=this._parseProjectionRHS(Ue.Flatten);return{type:"Projection",children:[Lr,St]};case Ce:case ye:case Fe:case de:case J:case me:return this._parseComparator(D,b);case ft:var Ve=this._lookaheadToken(0);return Ve.type===De||Ve.type===$e?(W=this._parseIndexExpression(),this._projectIfSlice(D,W)):(this._match(xe),this._match(se),W=this._parseProjectionRHS(Ue.Star),{type:"Projection",children:[D,W]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(b){if(this._lookahead(0)===b)this._advance();else{var D=this._lookaheadToken(0),W=new Error("Expected "+b+", got: "+D.type);throw W.name="ParserError",W}},_errorToken:function(b){var D=new Error("Invalid token ("+b.type+'): "'+b.value+'"');throw D.name="ParserError",D},_parseIndexExpression:function(){if(this._lookahead(0)===$e||this._lookahead(1)===$e)return this._parseSliceExpression();var b={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(se),b},_projectIfSlice:function(b,D){var W={type:"IndexExpression",children:[b,D]};return D.type==="Slice"?{type:"Projection",children:[W,this._parseProjectionRHS(Ue.Star)]}:W},_parseSliceExpression:function(){for(var b=[null,null,null],D=0,W=this._lookahead(0);W!==se&&D<3;){if(W===$e)D++,this._advance();else if(W===De)b[D]=this._lookaheadToken(0).value,this._advance();else{var oe=this._lookahead(0),he=new Error("Syntax error, unexpected token: "+oe.value+"("+oe.type+")");throw he.name="Parsererror",he}W=this._lookahead(0)}return this._match(se),{type:"Slice",children:b}},_parseComparator:function(b,D){var W=this.expression(Ue[D]);return{type:"Comparator",name:D,children:[b,W]}},_parseDotRHS:function(b){var D=this._lookahead(0),W=[G,X,xe];if(W.indexOf(D)>=0)return this.expression(b);if(D===ft)return this._match(ft),this._parseMultiselectList();if(D===Nt)return this._match(Nt),this._parseMultiselectHash()},_parseProjectionRHS:function(b){var D;if(Ue[this._lookahead(0)]<10)D={type:"Identity"};else if(this._lookahead(0)===ft)D=this.expression(b);else if(this._lookahead(0)===Ie)D=this.expression(b);else if(this._lookahead(0)===qe)this._match(qe),D=this._parseDotRHS(b);else{var W=this._lookaheadToken(0),oe=new Error("Sytanx error, unexpected token: "+W.value+"("+W.type+")");throw oe.name="ParserError",oe}return D},_parseMultiselectList:function(){for(var b=[];this._lookahead(0)!==se;){var D=this.expression(0);if(b.push(D),this._lookahead(0)===le&&(this._match(le),this._lookahead(0)===se))throw new Error("Unexpected token Rbracket")}return this._match(se),{type:"MultiSelectList",children:b}},_parseMultiselectHash:function(){for(var b=[],D=[G,X],W,oe,he,Ae;;){if(W=this._lookaheadToken(0),D.indexOf(W.type)<0)throw new Error("Expecting an identifier token, got: "+W.type);if(oe=W.value,this._advance(),this._match($e),he=this.expression(0),Ae={type:"KeyValuePair",name:oe,value:he},b.push(Ae),this._lookahead(0)===le)this._match(le);else if(this._lookahead(0)===Ke){this._match(Ke);break}}return{type:"MultiSelectHash",children:b}}};function bo(b){this.runtime=b}bo.prototype={search:function(b,D){return this.visit(b,D)},visit:function(b,D){var W,oe,he,Ae,Xe,ot,Vt,Lr,St,Ve;switch(b.type){case"Field":return D!==null&&n(D)?(ot=D[b.name],ot===void 0?null:ot):null;case"Subexpression":for(he=this.visit(b.children[0],D),Ve=1;Ve<b.children.length;Ve++)if(he=this.visit(b.children[1],he),he===null)return null;return he;case"IndexExpression":return Vt=this.visit(b.children[0],D),Lr=this.visit(b.children[1],Vt),Lr;case"Index":if(!r(D))return null;var Er=b.value;return Er<0&&(Er=D.length+Er),he=D[Er],he===void 0&&(he=null),he;case"Slice":if(!r(D))return null;var Ts=b.children.slice(0),wo=this.computeSliceParams(D.length,Ts),Ni=wo[0],xo=wo[1],_o=wo[2];if(he=[],_o>0)for(Ve=Ni;Ve<xo;Ve+=_o)he.push(D[Ve]);else for(Ve=Ni;Ve>xo;Ve+=_o)he.push(D[Ve]);return he;case"Projection":var er=this.visit(b.children[0],D);if(!r(er))return null;for(St=[],Ve=0;Ve<er.length;Ve++)oe=this.visit(b.children[1],er[Ve]),oe!==null&&St.push(oe);return St;case"ValueProjection":if(er=this.visit(b.children[0],D),!n(er))return null;St=[];var $o=s(er);for(Ve=0;Ve<$o.length;Ve++)oe=this.visit(b.children[1],$o[Ve]),oe!==null&&St.push(oe);return St;case"FilterProjection":if(er=this.visit(b.children[0],D),!r(er))return null;var ko=[],So=[];for(Ve=0;Ve<er.length;Ve++)W=this.visit(b.children[2],er[Ve]),o(W)||ko.push(er[Ve]);for(var Eo=0;Eo<ko.length;Eo++)oe=this.visit(b.children[1],ko[Eo]),oe!==null&&So.push(oe);return So;case"Comparator":switch(Ae=this.visit(b.children[0],D),Xe=this.visit(b.children[1],D),b.name){case Ce:he=i(Ae,Xe);break;case ye:he=!i(Ae,Xe);break;case Fe:he=Ae>Xe;break;case de:he=Ae>=Xe;break;case J:he=Ae<Xe;break;case me:he=Ae<=Xe;break;default:throw new Error("Unknown comparator: "+b.name)}return he;case ce:var Ii=this.visit(b.children[0],D);if(!r(Ii))return null;var Li=[];for(Ve=0;Ve<Ii.length;Ve++)oe=Ii[Ve],r(oe)?Li.push.apply(Li,oe):Li.push(oe);return Li;case"Identity":return D;case"MultiSelectList":if(D===null)return null;for(St=[],Ve=0;Ve<b.children.length;Ve++)St.push(this.visit(b.children[Ve],D));return St;case"MultiSelectHash":if(D===null)return null;St={};var Bi;for(Ve=0;Ve<b.children.length;Ve++)Bi=b.children[Ve],St[Bi.name]=this.visit(Bi.value,D);return St;case"OrExpression":return W=this.visit(b.children[0],D),o(W)&&(W=this.visit(b.children[1],D)),W;case"AndExpression":return Ae=this.visit(b.children[0],D),o(Ae)===!0?Ae:this.visit(b.children[1],D);case"NotExpression":return Ae=this.visit(b.children[0],D),o(Ae);case"Literal":return b.value;case ze:return Vt=this.visit(b.children[0],D),this.visit(b.children[1],Vt);case be:return D;case"Function":var Ps=[];for(Ve=0;Ve<b.children.length;Ve++)Ps.push(this.visit(b.children[Ve],D));return this.runtime.callFunction(b.name,Ps);case"ExpressionReference":var hi=b.children[0];return hi.jmespathType=je,hi;default:throw new Error("Unknown node type: "+b.type)}},computeSliceParams:function(b,D){var W=D[0],oe=D[1],he=D[2],Ae=[null,null,null];if(he===null)he=1;else if(he===0){var Xe=new Error("Invalid slice, step cannot be 0");throw Xe.name="RuntimeError",Xe}var ot=he<0;return W===null?W=ot?b-1:0:W=this.capSliceRange(b,W,he),oe===null?oe=ot?-1:b:oe=this.capSliceRange(b,oe,he),Ae[0]=W,Ae[1]=oe,Ae[2]=he,Ae},capSliceRange:function(b,D,W){return D<0?(D+=b,D<0&&(D=W<0?-1:0)):D>=b&&(D=W<0?b-1:b),D}};function Pi(b){this._interpreter=b,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[l]}]},avg:{_func:this._functionAvg,_signature:[{types:[$]}]},ceil:{_func:this._functionCeil,_signature:[{types:[l]}]},contains:{_func:this._functionContains,_signature:[{types:[u,h]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[u]},{types:[u]}]},floor:{_func:this._functionFloor,_signature:[{types:[l]}]},length:{_func:this._functionLength,_signature:[{types:[u,h,f]}]},map:{_func:this._functionMap,_signature:[{types:[g]},{types:[h]}]},max:{_func:this._functionMax,_signature:[{types:[$,P]}]},merge:{_func:this._functionMerge,_signature:[{types:[f],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[h]},{types:[g]}]},sum:{_func:this._functionSum,_signature:[{types:[$]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[u]},{types:[u]}]},min:{_func:this._functionMin,_signature:[{types:[$,P]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[h]},{types:[g]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[f]}]},values:{_func:this._functionValues,_signature:[{types:[f]}]},sort:{_func:this._functionSort,_signature:[{types:[P,$]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[h]},{types:[g]}]},join:{_func:this._functionJoin,_signature:[{types:[u]},{types:[P]}]},reverse:{_func:this._functionReverse,_signature:[{types:[u,h]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}Pi.prototype={callFunction:function(b,D){var W=this.functionTable[b];if(W===void 0)throw new Error("Unknown function: "+b+"()");return this._validateArgs(b,D,W._signature),W._func.call(this,D)},_validateArgs:function(b,D,W){var oe;if(W[W.length-1].variadic){if(D.length<W.length)throw oe=W.length===1?" argument":" arguments",new Error("ArgumentError: "+b+"() takes at least"+W.length+oe+" but received "+D.length)}else if(D.length!==W.length)throw oe=W.length===1?" argument":" arguments",new Error("ArgumentError: "+b+"() takes "+W.length+oe+" but received "+D.length);for(var he,Ae,Xe,ot=0;ot<W.length;ot++){Xe=!1,he=W[ot].types,Ae=this._getTypeName(D[ot]);for(var Vt=0;Vt<he.length;Vt++)if(this._typeMatches(Ae,he[Vt],D[ot])){Xe=!0;break}if(!Xe){var Lr=he.map(function(St){return Y[St]}).join(",");throw new Error("TypeError: "+b+"() expected argument "+(ot+1)+" to be type "+Lr+" but received type "+Y[Ae]+" instead.")}}},_typeMatches:function(b,D,W){if(D===c)return!0;if(D===P||D===$||D===h){if(D===h)return b===h;if(b===h){var oe;D===$?oe=l:D===P&&(oe=u);for(var he=0;he<W.length;he++)if(!this._typeMatches(this._getTypeName(W[he]),oe,W[he]))return!1;return!0}}else return b===D},_getTypeName:function(b){switch(Object.prototype.toString.call(b)){case"[object String]":return u;case"[object Number]":return l;case"[object Array]":return h;case"[object Boolean]":return d;case"[object Null]":return O;case"[object Object]":return b.jmespathType===je?g:f}},_functionStartsWith:function(b){return b[0].lastIndexOf(b[1])===0},_functionEndsWith:function(b){var D=b[0],W=b[1];return D.indexOf(W,D.length-W.length)!==-1},_functionReverse:function(b){var D=this._getTypeName(b[0]);if(D===u){for(var W=b[0],oe="",he=W.length-1;he>=0;he--)oe+=W[he];return oe}else{var Ae=b[0].slice(0);return Ae.reverse(),Ae}},_functionAbs:function(b){return Math.abs(b[0])},_functionCeil:function(b){return Math.ceil(b[0])},_functionAvg:function(b){for(var D=0,W=b[0],oe=0;oe<W.length;oe++)D+=W[oe];return D/W.length},_functionContains:function(b){return b[0].indexOf(b[1])>=0},_functionFloor:function(b){return Math.floor(b[0])},_functionLength:function(b){return n(b[0])?Object.keys(b[0]).length:b[0].length},_functionMap:function(b){for(var D=[],W=this._interpreter,oe=b[0],he=b[1],Ae=0;Ae<he.length;Ae++)D.push(W.visit(oe,he[Ae]));return D},_functionMerge:function(b){for(var D={},W=0;W<b.length;W++){var oe=b[W];for(var he in oe)D[he]=oe[he]}return D},_functionMax:function(b){if(b[0].length>0){var D=this._getTypeName(b[0][0]);if(D===l)return Math.max.apply(Math,b[0]);for(var W=b[0],oe=W[0],he=1;he<W.length;he++)oe.localeCompare(W[he])<0&&(oe=W[he]);return oe}else return null},_functionMin:function(b){if(b[0].length>0){var D=this._getTypeName(b[0][0]);if(D===l)return Math.min.apply(Math,b[0]);for(var W=b[0],oe=W[0],he=1;he<W.length;he++)W[he].localeCompare(oe)<0&&(oe=W[he]);return oe}else return null},_functionSum:function(b){for(var D=0,W=b[0],oe=0;oe<W.length;oe++)D+=W[oe];return D},_functionType:function(b){switch(this._getTypeName(b[0])){case l:return"number";case u:return"string";case h:return"array";case f:return"object";case d:return"boolean";case g:return"expref";case O:return"null"}},_functionKeys:function(b){return Object.keys(b[0])},_functionValues:function(b){for(var D=b[0],W=Object.keys(D),oe=[],he=0;he<W.length;he++)oe.push(D[W[he]]);return oe},_functionJoin:function(b){var D=b[0],W=b[1];return W.join(D)},_functionToArray:function(b){return this._getTypeName(b[0])===h?b[0]:[b[0]]},_functionToString:function(b){return this._getTypeName(b[0])===u?b[0]:JSON.stringify(b[0])},_functionToNumber:function(b){var D=this._getTypeName(b[0]),W;return D===l?b[0]:D===u&&(W=+b[0],!isNaN(W))?W:null},_functionNotNull:function(b){for(var D=0;D<b.length;D++)if(this._getTypeName(b[D])!==O)return b[D];return null},_functionSort:function(b){var D=b[0].slice(0);return D.sort(),D},_functionSortBy:function(b){var D=b[0].slice(0);if(D.length===0)return D;var W=this._interpreter,oe=b[1],he=this._getTypeName(W.visit(oe,D[0]));if([l,u].indexOf(he)<0)throw new Error("TypeError");for(var Ae=this,Xe=[],ot=0;ot<D.length;ot++)Xe.push([ot,D[ot]]);Xe.sort(function(Lr,St){var Ve=W.visit(oe,Lr[1]),Er=W.visit(oe,St[1]);if(Ae._getTypeName(Ve)!==he)throw new Error("TypeError: expected "+he+", received "+Ae._getTypeName(Ve));if(Ae._getTypeName(Er)!==he)throw new Error("TypeError: expected "+he+", received "+Ae._getTypeName(Er));return Ve>Er?1:Ve<Er?-1:Lr[0]-St[0]});for(var Vt=0;Vt<Xe.length;Vt++)D[Vt]=Xe[Vt][1];return D},_functionMaxBy:function(b){for(var D=b[1],W=b[0],oe=this.createKeyFunction(D,[l,u]),he=-1/0,Ae,Xe,ot=0;ot<W.length;ot++)Xe=oe(W[ot]),Xe>he&&(he=Xe,Ae=W[ot]);return Ae},_functionMinBy:function(b){for(var D=b[1],W=b[0],oe=this.createKeyFunction(D,[l,u]),he=1/0,Ae,Xe,ot=0;ot<W.length;ot++)Xe=oe(W[ot]),Xe<he&&(he=Xe,Ae=W[ot]);return Ae},createKeyFunction:function(b,D){var W=this,oe=this._interpreter,he=function(Ae){var Xe=oe.visit(b,Ae);if(D.indexOf(W._getTypeName(Xe))<0){var ot="TypeError: expected one of "+D+", received "+W._getTypeName(Xe);throw new Error(ot)}return Xe};return he}};function Ri(b){var D=new Bn,W=D.parse(b);return W}function js(b){var D=new Ti;return D.tokenize(b)}function Di(b,D){var W=new Bn,oe=new Pi,he=new bo(oe);oe._interpreter=he;var Ae=W.parse(D);return he.search(Ae,b)}e.tokenize=js,e.compile=Ri,e.search=Di,e.strictDeepEqual=i})(t)})(Jp)),Jp}var P6=T6();const oR=kg(P6);let R6=class{add(e,r,n){if(typeof arguments[0]!="string")for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],r&&this[i][n?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}},D6=class{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(i=>{if(typeof i!="object"||!i.name||!i.init)throw new Error("Invalid JSEP plugin format");this.registered[i.name]||(i.init(this.jsep),this.registered[i.name]=i)})}};class ie{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+ie.version}static addUnaryOp(e){return ie.max_unop_len=Math.max(e.length,ie.max_unop_len),ie.unary_ops[e]=1,ie}static addBinaryOp(e,r,n){return ie.max_binop_len=Math.max(e.length,ie.max_binop_len),ie.binary_ops[e]=r,n?ie.right_associative.add(e):ie.right_associative.delete(e),ie}static addIdentifierChar(e){return ie.additional_identifier_chars.add(e),ie}static addLiteral(e,r){return ie.literals[e]=r,ie}static removeUnaryOp(e){return delete ie.unary_ops[e],e.length===ie.max_unop_len&&(ie.max_unop_len=ie.getMaxKeyLen(ie.unary_ops)),ie}static removeAllUnaryOps(){return ie.unary_ops={},ie.max_unop_len=0,ie}static removeIdentifierChar(e){return ie.additional_identifier_chars.delete(e),ie}static removeBinaryOp(e){return delete ie.binary_ops[e],e.length===ie.max_binop_len&&(ie.max_binop_len=ie.getMaxKeyLen(ie.binary_ops)),ie.right_associative.delete(e),ie}static removeAllBinaryOps(){return ie.binary_ops={},ie.max_binop_len=0,ie}static removeLiteral(e){return delete ie.literals[e],ie}static removeAllLiterals(){return ie.literals={},ie}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new ie(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(r=>r.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return ie.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!ie.binary_ops[String.fromCharCode(e)]||ie.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return ie.isIdentifierStart(e)||ie.isDecimalDigit(e)}throwError(e){const r=new Error(e+" at character "+this.index);throw r.index=this.index,r.description=e,r}runHook(e,r){if(ie.hooks[e]){const n={context:this,node:r};return ie.hooks.run(e,n),n.node}return r}searchHook(e){if(ie.hooks[e]){const r={context:this};return ie.hooks[e].find(function(n){return n.call(r.context,r),r.node}),r.node}}gobbleSpaces(){let e=this.code;for(;e===ie.SPACE_CODE||e===ie.TAB_CODE||e===ie.LF_CODE||e===ie.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),r=e.length===1?e[0]:{type:ie.COMPOUND,body:e};return this.runHook("after-all",r)}gobbleExpressions(e){let r=[],n,i;for(;this.index<this.expr.length;)if(n=this.code,n===ie.SEMCOL_CODE||n===ie.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())r.push(i);else if(this.index<this.expr.length){if(n===e)break;this.throwError('Unexpected "'+this.char+'"')}return r}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,ie.max_binop_len),r=e.length;for(;r>0;){if(ie.binary_ops.hasOwnProperty(e)&&(!ie.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!ie.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=r,e;e=e.substr(0,--r)}return!1}gobbleBinaryExpression(){let e,r,n,i,o,s,a,l,c;if(s=this.gobbleToken(),!s||(r=this.gobbleBinaryOp(),!r))return s;for(o={value:r,prec:ie.binaryPrecedence(r),right_a:ie.right_associative.has(r)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+r),i=[s,o,a];r=this.gobbleBinaryOp();){if(n=ie.binaryPrecedence(r),n===0){this.index-=r.length;break}o={value:r,prec:n,right_a:ie.right_associative.has(r)},c=r;const u=h=>o.right_a&&h.right_a?n>h.prec:n<=h.prec;for(;i.length>2&&u(i[i.length-2]);)a=i.pop(),r=i.pop().value,s=i.pop(),e={type:ie.BINARY_EXP,operator:r,left:s,right:a},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+c),i.push(o,e)}for(l=i.length-1,e=i[l];l>1;)e={type:ie.BINARY_EXP,operator:i[l-1].value,left:i[l-2],right:e},l-=2;return e}gobbleToken(){let e,r,n,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,ie.isDecimalDigit(e)||e===ie.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===ie.SQUOTE_CODE||e===ie.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===ie.OBRACK_CODE)i=this.gobbleArray();else{for(r=this.expr.substr(this.index,ie.max_unop_len),n=r.length;n>0;){if(ie.unary_ops.hasOwnProperty(r)&&(!ie.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!ie.isIdentifierPart(this.expr.charCodeAt(this.index+r.length)))){this.index+=n;const o=this.gobbleToken();return o||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:ie.UNARY_EXP,operator:r,argument:o,prefix:!0})}r=r.substr(0,--n)}ie.isIdentifierStart(e)?(i=this.gobbleIdentifier(),ie.literals.hasOwnProperty(i.name)?i={type:ie.LITERAL,value:ie.literals[i.name],raw:i.name}:i.name===ie.this_str&&(i={type:ie.THIS_EXP})):e===ie.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let r=this.code;for(;r===ie.PERIOD_CODE||r===ie.OBRACK_CODE||r===ie.OPAREN_CODE||r===ie.QUMARK_CODE;){let n;if(r===ie.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==ie.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),r=this.code}this.index++,r===ie.OBRACK_CODE?(e={type:ie.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},e.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),r=this.code,r!==ie.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):r===ie.OPAREN_CODE?e={type:ie.CALL_EXP,arguments:this.gobbleArguments(ie.CPAREN_CODE),callee:e}:(r===ie.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),e={type:ie.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),n&&(e.optional=!0),this.gobbleSpaces(),r=this.code}return e}gobbleNumericLiteral(){let e="",r,n;for(;ie.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===ie.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);ie.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(r=this.char,r==="e"||r==="E"){for(e+=this.expr.charAt(this.index++),r=this.char,(r==="+"||r==="-")&&(e+=this.expr.charAt(this.index++));ie.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);ie.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return n=this.code,ie.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(n===ie.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===ie.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:ie.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="";const r=this.index,n=this.expr.charAt(this.index++);let i=!1;for(;this.index<this.expr.length;){let o=this.expr.charAt(this.index++);if(o===n){i=!0;break}else if(o==="\\")switch(o=this.expr.charAt(this.index++),o){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=o}else e+=o}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:ie.LITERAL,value:e,raw:this.expr.substring(r,this.index)}}gobbleIdentifier(){let e=this.code,r=this.index;for(ie.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,ie.isIdentifierPart(e));)this.index++;return{type:ie.IDENTIFIER,name:this.expr.slice(r,this.index)}}gobbleArguments(e){const r=[];let n=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let o=this.code;if(o===e){n=!0,this.index++,e===ie.CPAREN_CODE&&i&&i>=r.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(o===ie.COMMA_CODE){if(this.index++,i++,i!==r.length){if(e===ie.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===ie.CBRACK_CODE)for(let s=r.length;s<i;s++)r.push(null)}}else if(r.length!==i&&i!==0)this.throwError("Expected comma");else{const s=this.gobbleExpression();(!s||s.type===ie.COMPOUND)&&this.throwError("Expected comma"),r.push(s)}}return n||this.throwError("Expected "+String.fromCharCode(e)),r}gobbleGroup(){this.index++;let e=this.gobbleExpressions(ie.CPAREN_CODE);if(this.code===ie.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:ie.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:ie.ARRAY_EXP,elements:this.gobbleArguments(ie.CBRACK_CODE)}}}const N6=new R6;Object.assign(ie,{hooks:N6,plugins:new D6(ie),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});ie.max_unop_len=ie.getMaxKeyLen(ie.unary_ops);ie.max_binop_len=ie.getMaxKeyLen(ie.binary_ops);const An=t=>new ie(t).parse(),I6=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(ie).filter(t=>!I6.includes(t)&&An[t]===void 0).forEach(t=>{An[t]=ie[t]});An.Jsep=ie;const L6="ConditionalExpression";var B6={name:"ternary",init(t){t.hooks.add("after-expression",function(e){if(e.node&&this.code===t.QUMARK_CODE){this.index++;const r=e.node,n=this.gobbleExpression();if(n||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===t.COLON_CODE){this.index++;const i=this.gobbleExpression();if(i||this.throwError("Expected expression"),e.node={type:L6,test:r,consequent:n,alternate:i},r.operator&&t.binary_ops[r.operator]<=.9){let o=r;for(;o.right.operator&&t.binary_ops[o.right.operator]<=.9;)o=o.right;e.node.test=o.right,o.right=e.node,e.node=r}}else this.throwError("Expected :")}})}};An.plugins.register(B6);const Yp=47,z6=92;var V6={name:"regex",init(t){t.hooks.add("gobble-token",function(e){if(this.code===Yp){const r=++this.index;let n=!1;for(;this.index<this.expr.length;){if(this.code===Yp&&!n){const i=this.expr.slice(r,this.index);let o="";for(;++this.index<this.expr.length;){const a=this.code;if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57)o+=this.char;else break}let s;try{s=new RegExp(i,o)}catch(a){this.throwError(a.message)}return e.node={type:t.LITERAL,value:s,raw:this.expr.slice(r-1,this.index)},e.node=this.gobbleTokenProperty(e.node),e.node}this.code===t.OBRACK_CODE?n=!0:n&&this.code===t.CBRACK_CODE&&(n=!1),this.index+=this.code===z6?2:1}this.throwError("Unclosed Regex")}})}};const _c=43,F6=45,Ji={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[_c,F6],assignmentPrecedence:.9,init(t){const e=[t.IDENTIFIER,t.MEMBER_EXP];Ji.assignmentOperators.forEach(n=>t.addBinaryOp(n,Ji.assignmentPrecedence,!0)),t.hooks.add("gobble-token",function(n){const i=this.code;Ji.updateOperators.some(o=>o===i&&o===this.expr.charCodeAt(this.index+1))&&(this.index+=2,n.node={type:"UpdateExpression",operator:i===_c?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!n.node.argument||!e.includes(n.node.argument.type))&&this.throwError(`Unexpected ${n.node.operator}`))}),t.hooks.add("after-token",function(n){if(n.node){const i=this.code;Ji.updateOperators.some(o=>o===i&&o===this.expr.charCodeAt(this.index+1))&&(e.includes(n.node.type)||this.throwError(`Unexpected ${n.node.operator}`),this.index+=2,n.node={type:"UpdateExpression",operator:i===_c?"++":"--",argument:n.node,prefix:!1})}}),t.hooks.add("after-expression",function(n){n.node&&r(n.node)});function r(n){Ji.assignmentOperators.has(n.operator)?(n.type="AssignmentExpression",r(n.left),r(n.right)):n.operator||Object.values(n).forEach(i=>{i&&typeof i=="object"&&r(i)})}}};An.plugins.register(V6,Ji);An.addUnaryOp("typeof");An.addLiteral("null",null);An.addLiteral("undefined",void 0);const W6=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),yt={evalAst(t,e){switch(t.type){case"BinaryExpression":case"LogicalExpression":return yt.evalBinaryExpression(t,e);case"Compound":return yt.evalCompound(t,e);case"ConditionalExpression":return yt.evalConditionalExpression(t,e);case"Identifier":return yt.evalIdentifier(t,e);case"Literal":return yt.evalLiteral(t,e);case"MemberExpression":return yt.evalMemberExpression(t,e);case"UnaryExpression":return yt.evalUnaryExpression(t,e);case"ArrayExpression":return yt.evalArrayExpression(t,e);case"CallExpression":return yt.evalCallExpression(t,e);case"AssignmentExpression":return yt.evalAssignmentExpression(t,e);default:throw SyntaxError("Unexpected expression",t)}},evalBinaryExpression(t,e){return{"||":(r,n)=>r||n(),"&&":(r,n)=>r&&n(),"|":(r,n)=>r|n(),"^":(r,n)=>r^n(),"&":(r,n)=>r&n(),"==":(r,n)=>r==n(),"!=":(r,n)=>r!=n(),"===":(r,n)=>r===n(),"!==":(r,n)=>r!==n(),"<":(r,n)=>r<n(),">":(r,n)=>r>n(),"<=":(r,n)=>r<=n(),">=":(r,n)=>r>=n(),"<<":(r,n)=>r<<n(),">>":(r,n)=>r>>n(),">>>":(r,n)=>r>>>n(),"+":(r,n)=>r+n(),"-":(r,n)=>r-n(),"*":(r,n)=>r*n(),"/":(r,n)=>r/n(),"%":(r,n)=>r%n()}[t.operator](yt.evalAst(t.left,e),()=>yt.evalAst(t.right,e))},evalCompound(t,e){let r;for(let n=0;n<t.body.length;n++){t.body[n].type==="Identifier"&&["var","let","const"].includes(t.body[n].name)&&t.body[n+1]&&t.body[n+1].type==="AssignmentExpression"&&(n+=1);const i=t.body[n];r=yt.evalAst(i,e)}return r},evalConditionalExpression(t,e){return yt.evalAst(t.test,e)?yt.evalAst(t.consequent,e):yt.evalAst(t.alternate,e)},evalIdentifier(t,e){if(Object.hasOwn(e,t.name))return e[t.name];throw ReferenceError(`${t.name} is not defined`)},evalLiteral(t){return t.value},evalMemberExpression(t,e){const r=String(t.computed?yt.evalAst(t.property):t.property.name),n=yt.evalAst(t.object,e);if(n==null)throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);if(!Object.hasOwn(n,r)&&W6.has(r))throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);const i=n[r];return typeof i=="function"?i.bind(n):i},evalUnaryExpression(t,e){return{"-":r=>-yt.evalAst(r,e),"!":r=>!yt.evalAst(r,e),"~":r=>~yt.evalAst(r,e),"+":r=>+yt.evalAst(r,e),typeof:r=>typeof yt.evalAst(r,e)}[t.operator](t.argument)},evalArrayExpression(t,e){return t.elements.map(r=>yt.evalAst(r,e))},evalCallExpression(t,e){const r=t.arguments.map(n=>yt.evalAst(n,e));return yt.evalAst(t.callee,e)(...r)},evalAssignmentExpression(t,e){if(t.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");const r=t.left.name,n=yt.evalAst(t.right,e);return e[r]=n,e[r]}};let H6=class{constructor(e){this.code=e,this.ast=An(this.code)}runInNewContext(e){const r=Object.assign(Object.create(null),e);return yt.evalAst(this.ast,r)}};function Fn(t,e){return t=t.slice(),t.push(e),t}function gu(t,e){return e=e.slice(),e.unshift(t),e}let q6=class extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}};function ct(t,e,r,n,i){if(!(this instanceof ct))try{return new ct(t,e,r,n,i)}catch(s){if(!s.avoidNew)throw s;return s.value}typeof t=="string"&&(i=n,n=r,r=e,e=t,t=null);const o=t&&typeof t=="object";if(t=t||{},this.json=t.json||r,this.path=t.path||e,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=Object.hasOwn(t,"wrap")?t.wrap:!0,this.sandbox=t.sandbox||{},this.eval=t.eval===void 0?"safe":t.eval,this.ignoreEvalErrors=typeof t.ignoreEvalErrors>"u"?!1:t.ignoreEvalErrors,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||n||null,this.otherTypeCallback=t.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},t.autostart!==!1){const s={path:o?t.path:e};o?"json"in t&&(s.json=t.json):s.json=r;const a=this.evaluate(s);if(!a||typeof a!="object")throw new q6(a);return a}}ct.prototype.evaluate=function(t,e,r,n){let i=this.parent,o=this.parentProperty,{flatten:s,wrap:a}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,t=t||this.path,t&&typeof t=="object"&&!Array.isArray(t)){if(!t.path&&t.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:e}=t),s=Object.hasOwn(t,"flatten")?t.flatten:s,this.currResultType=Object.hasOwn(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=Object.hasOwn(t,"sandbox")?t.sandbox:this.currSandbox,a=Object.hasOwn(t,"wrap")?t.wrap:a,this.currEval=Object.hasOwn(t,"eval")?t.eval:this.currEval,r=Object.hasOwn(t,"callback")?t.callback:r,this.currOtherTypeCallback=Object.hasOwn(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,i=Object.hasOwn(t,"parent")?t.parent:i,o=Object.hasOwn(t,"parentProperty")?t.parentProperty:o,t=t.path}if(i=i||null,o=o||null,Array.isArray(t)&&(t=ct.toPathString(t)),!t&&t!==""||!e)return;const l=ct.toPathArray(t);l[0]==="$"&&l.length>1&&l.shift(),this._hasParentSelector=null;const c=this._trace(l,e,["$"],i,o,r).filter(function(u){return u&&!u.isParentSelector});return c.length?!a&&c.length===1&&!c[0].hasArrExpr?this._getPreferredOutput(c[0]):c.reduce((u,h)=>{const f=this._getPreferredOutput(h);return s&&Array.isArray(f)?u=u.concat(f):u.push(f),u},[]):a?[]:void 0};ct.prototype._getPreferredOutput=function(t){const e=this.currResultType;switch(e){case"all":{const r=Array.isArray(t.path)?t.path:ct.toPathArray(t.path);return t.pointer=ct.toPointer(r),t.path=typeof t.path=="string"?t.path:ct.toPathString(t.path),t}case"value":case"parent":case"parentProperty":return t[e];case"path":return ct.toPathString(t[e]);case"pointer":return ct.toPointer(t.path);default:throw new TypeError("Unknown result type")}};ct.prototype._handleCallback=function(t,e,r){if(e){const n=this._getPreferredOutput(t);t.path=typeof t.path=="string"?t.path:ct.toPathString(t.path),e(n,r,t)}};ct.prototype._trace=function(t,e,r,n,i,o,s,a){let l;if(!t.length)return l={path:r,value:e,parent:n,parentProperty:i,hasArrExpr:s},this._handleCallback(l,o,"value"),l;const c=t[0],u=t.slice(1),h=[];function f(d){Array.isArray(d)?d.forEach(g=>{h.push(g)}):h.push(d)}if((typeof c!="string"||a)&&e&&Object.hasOwn(e,c))f(this._trace(u,e[c],Fn(r,c),e,c,o,s));else if(c==="*")this._walk(e,d=>{f(this._trace(u,e[d],Fn(r,d),e,d,o,!0,!0))});else if(c==="..")f(this._trace(u,e,r,n,i,o,s)),this._walk(e,d=>{typeof e[d]=="object"&&f(this._trace(t.slice(),e[d],Fn(r,d),e,d,o,!0))});else{if(c==="^")return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:u,isParentSelector:!0};if(c==="~")return l={path:Fn(r,c),value:i,parent:n,parentProperty:null},this._handleCallback(l,o,"property"),l;if(c==="$")f(this._trace(u,e,r,null,null,o,s));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(c))f(this._slice(c,u,e,r,n,i,o));else if(c.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const d=c.replace(/^\?\((.*?)\)$/u,"$1"),g=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(d);g?this._walk(e,O=>{const $=[g[2]],P=g[1]?e[O][g[1]]:e[O];this._trace($,P,r,n,i,o,!0).length>0&&f(this._trace(u,e[O],Fn(r,O),e,O,o,!0))}):this._walk(e,O=>{this._eval(d,e[O],O,r,n,i)&&f(this._trace(u,e[O],Fn(r,O),e,O,o,!0))})}else if(c[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");f(this._trace(gu(this._eval(c,e,r.at(-1),r.slice(0,-1),n,i),u),e,r,n,i,o,s))}else if(c[0]==="@"){let d=!1;const g=c.slice(1,-2);switch(g){case"scalar":(!e||!["object","function"].includes(typeof e))&&(d=!0);break;case"boolean":case"string":case"undefined":case"function":typeof e===g&&(d=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(d=!0);break;case"number":Number.isFinite(e)&&(d=!0);break;case"nonFinite":typeof e=="number"&&!Number.isFinite(e)&&(d=!0);break;case"object":e&&typeof e===g&&(d=!0);break;case"array":Array.isArray(e)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(e,r,n,i);break;case"null":e===null&&(d=!0);break;default:throw new TypeError("Unknown value type "+g)}if(d)return l={path:r,value:e,parent:n,parentProperty:i},this._handleCallback(l,o,"value"),l}else if(c[0]==="`"&&e&&Object.hasOwn(e,c.slice(1))){const d=c.slice(1);f(this._trace(u,e[d],Fn(r,d),e,d,o,s,!0))}else if(c.includes(",")){const d=c.split(",");for(const g of d)f(this._trace(gu(g,u),e,r,n,i,o,!0))}else!a&&e&&Object.hasOwn(e,c)&&f(this._trace(u,e[c],Fn(r,c),e,c,o,s,!0))}if(this._hasParentSelector)for(let d=0;d<h.length;d++){const g=h[d];if(g&&g.isParentSelector){const O=this._trace(g.expr,e,g.path,n,i,o,s);if(Array.isArray(O)){h[d]=O[0];const $=O.length;for(let P=1;P<$;P++)d++,h.splice(d,0,O[P])}else h[d]=O}}return h};ct.prototype._walk=function(t,e){if(Array.isArray(t)){const r=t.length;for(let n=0;n<r;n++)e(n)}else t&&typeof t=="object"&&Object.keys(t).forEach(r=>{e(r)})};ct.prototype._slice=function(t,e,r,n,i,o,s){if(!Array.isArray(r))return;const a=r.length,l=t.split(":"),c=l[2]&&Number.parseInt(l[2])||1;let u=l[0]&&Number.parseInt(l[0])||0,h=l[1]&&Number.parseInt(l[1])||a;u=u<0?Math.max(0,u+a):Math.min(a,u),h=h<0?Math.max(0,h+a):Math.min(a,h);const f=[];for(let d=u;d<h;d+=c)this._trace(gu(d,e),r,n,i,o,s,!0).forEach(g=>{f.push(g)});return f};ct.prototype._eval=function(t,e,r,n,i,o){this.currSandbox._$_parentProperty=o,this.currSandbox._$_parent=i,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;const s=t.includes("@path");s&&(this.currSandbox._$_path=ct.toPathString(n.concat([r])));const a=this.currEval+"Script:"+t;if(!ct.cache[a]){let l=t.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(s&&(l=l.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)ct.cache[a]=new this.safeVm.Script(l);else if(this.currEval==="native")ct.cache[a]=new this.vm.Script(l);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const c=this.currEval;ct.cache[a]=new c(l)}else if(typeof this.currEval=="function")ct.cache[a]={runInNewContext:c=>this.currEval(l,c)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return ct.cache[a].runInNewContext(this.currSandbox)}catch(l){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+l.message+": "+t)}};ct.cache={};ct.toPathString=function(t){const e=t,r=e.length;let n="$";for(let i=1;i<r;i++)/^(~|\^|@.*?\(\))$/u.test(e[i])||(n+=/^[0-9*]+$/u.test(e[i])?"["+e[i]+"]":"['"+e[i]+"']");return n};ct.toPointer=function(t){const e=t,r=e.length;let n="";for(let i=1;i<r;i++)/^(~|\^|@.*?\(\))$/u.test(e[i])||(n+="/"+e[i].toString().replaceAll("~","~0").replaceAll("/","~1"));return n};ct.toPathArray=function(t){const{cache:e}=ct;if(e[t])return e[t].concat();const r=[],n=t.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(i,o){return"[#"+(r.push(o)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(i,o){return"['"+o.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(i,o){return";"+o.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(i){const o=i.match(/#(\d+)/u);return!o||!o[1]?i:r[o[1]]});return e[t]=n,e[t].concat()};ct.prototype.safeVm={Script:H6};const U6=function(t,e,r){const n=t.length;for(let i=0;i<n;i++){const o=t[i];r(o)&&e.push(t.splice(i--,1)[0])}};let K6=class{constructor(e){this.code=e}runInNewContext(e){let r=this.code;const n=Object.keys(e),i=[];U6(n,i,l=>typeof e[l]=="function");const o=n.map(l=>e[l]);r=i.reduce((l,c)=>{let u=e[c].toString();return/function/u.test(u)||(u="function "+u),"var "+c+"="+u+";"+l},"")+r,!/(['"])use strict\1/u.test(r)&&!n.includes("arguments")&&(r="var arguments = undefined;"+r),r=r.replace(/;\s*$/u,"");const s=r.lastIndexOf(";"),a=s!==-1?r.slice(0,s+1)+" return "+r.slice(s+1):" return "+r;return new Function(...n,a)(...o)}};ct.prototype.vm={Script:K6};let vu=[],jw=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?jw:vu).push(r=r+t[e])})();function J6(t){if(t<768)return!1;for(let e=0,r=vu.length;;){let n=e+r>>1;if(t<vu[n])r=n;else if(t>=jw[n])e=n+1;else return!0;if(e==r)return!1}}function Xp(t){return t>=127462&&t<=127487}const Qp=8205;function G6(t,e,r=!0,n=!0){return(r?Tw:Y6)(t,e,n)}function Tw(t,e,r){if(e==t.length)return e;e&&Pw(t.charCodeAt(e))&&Rw(t.charCodeAt(e-1))&&e--;let n=$c(t,e);for(e+=Zp(n);e<t.length;){let i=$c(t,e);if(n==Qp||i==Qp||r&&J6(i))e+=Zp(i),n=i;else if(Xp(i)){let o=0,s=e-2;for(;s>=0&&Xp($c(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function Y6(t,e,r){for(;e>0;){let n=Tw(t,e-2,r);if(n<e)return n;e--}return 0}function $c(t,e){let r=t.charCodeAt(e);if(!Rw(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return Pw(n)?(r-55296<<10)+(n-56320)+65536:r}function Pw(t){return t>=56320&&t<57344}function Rw(t){return t>=55296&&t<56320}function Zp(t){return t<65536?1:2}let mt=class Dw{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=ro(this,e,r);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(r,this.length,i,1),sn.from(i,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=ro(this,e,r);let n=[];return this.decompose(e,r,n,0),sn.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new Uo(this),o=new Uo(e);for(let s=r,a=r;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=n)return!0}}iter(e=1){return new Uo(this,e)}iterRange(e,r=this.length){return new Nw(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new Iw(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Dw.empty:e.length<=32?new Hr(e):sn.from(Hr.split(e,[]))}},Hr=class nn extends mt{constructor(e,r=X6(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((r?n:a)>=e)return new Q6(i,a,n,s);i=a+1,n++}}decompose(e,r,n,i){let o=e<=0&&r>=this.length?this:new nn(em(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let s=n.pop(),a=Ha(o.text,s.text.slice(),0,o.length);if(a.length<=32)n.push(new nn(a,s.length+o.length));else{let l=a.length>>1;n.push(new nn(a.slice(0,l)),new nn(a.slice(l)))}}else n.push(o)}replace(e,r,n){if(!(n instanceof nn))return super.replace(e,r,n);[e,r]=ro(this,e,r);let i=Ha(this.text,Ha(n.text,em(this.text,0,e)),r),o=this.length+n.length-(r-e);return i.length<=32?new nn(i,o):sn.from(nn.split(i,[]),o)}sliceString(e,r=this.length,n=`
`){[e,r]=ro(this,e,r);let i="";for(let o=0,s=0;o<=r&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=n),e<l&&r>o&&(i+=a.slice(Math.max(0,e-o),r-o)),o=l+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],i=-1;for(let o of e)n.push(o),i+=o.length+1,n.length==32&&(r.push(new nn(n,i)),n=[],i=-1);return i>-1&&r.push(new nn(n,i)),r}};class sn extends mt{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=n+s.lines-1;if((r?l:a)>=e)return s.lineInner(e,r,n,i);i=a+1,n=l+1}}decompose(e,r,n,i){for(let o=0,s=0;s<=r&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&r>=s){let c=i&((s<=e?1:0)|(l>=r?2:0));s>=e&&l<=r&&!c?n.push(a):a.decompose(e-s,r-s,n,c)}s=l+1}}replace(e,r,n){if([e,r]=ro(this,e,r),n.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&r<=a){let l=s.replace(e-o,r-o,n),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new sn(u,this.length-(r-e)+n.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=ro(this,e,r);let i="";for(let o=0,s=0;o<this.children.length&&s<=r;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=n),e<l&&r>s&&(i+=a.sliceString(e-s,r-s,n)),s=l+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof sn))return 0;let n=0,[i,o,s,a]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,o+=r){if(i==s||o==a)return n;let l=this.children[i],c=e.children[o];if(l!=c)return n+l.scanIdentical(c,r);n+=l.length+1}}static from(e,r=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let d of e)n+=d.lines;if(n<32){let d=[];for(let g of e)g.flatten(d);return new Hr(d,r)}let i=Math.max(32,n>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function h(d){let g;if(d.lines>o&&d instanceof sn)for(let O of d.children)h(O);else d.lines>s&&(l>s||!l)?(f(),a.push(d)):d instanceof Hr&&l&&(g=u[u.length-1])instanceof Hr&&d.lines+g.lines<=32?(l+=d.lines,c+=d.length+1,u[u.length-1]=new Hr(g.text.concat(d.text),g.length+1+d.length)):(l+d.lines>i&&f(),l+=d.lines,c+=d.length+1,u.push(d))}function f(){l!=0&&(a.push(u.length==1?u[0]:sn.from(u,c)),c=-1,l=u.length=0)}for(let d of e)h(d);return f(),a.length==1?a[0]:new sn(a,r)}}mt.empty=new Hr([""],0);function X6(t){let e=-1;for(let r of t)e+=r.length+1;return e}function Ha(t,e,r=0,n=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=n;o++){let a=t[o],l=i+a.length;l>=r&&(l>n&&(a=a.slice(0,n-i)),i<r&&(a=a.slice(r-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function em(t,e,r){return Ha(t,[""],e,r)}class Uo{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Hr?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],o=this.offsets[n],s=o>>1,a=i instanceof Hr?i.text.length:i.children.length;if(s==(r>0?a:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Hr){let l=i.text[s+(r<0?-1:0)];if(this.offsets[n]+=r,l.length>Math.max(0,e))return this.value=e==0?l:r>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(r<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(r>0?1:(l instanceof Hr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Nw{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new Uo(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=n?i:r<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Iw{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(mt.prototype[Symbol.iterator]=function(){return this.iter()},Uo.prototype[Symbol.iterator]=Nw.prototype[Symbol.iterator]=Iw.prototype[Symbol.iterator]=function(){return this});class Q6{constructor(e,r,n,i){this.from=e,this.to=r,this.number=n,this.text=i}get length(){return this.to-this.from}}function ro(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}function ln(t,e,r=!0,n=!0){return G6(t,e,r,n)}function Z6(t){return t>=56320&&t<57344}function e8(t){return t>=55296&&t<56320}function Lw(t,e){let r=t.charCodeAt(e);if(!e8(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return Z6(n)?(r-55296<<10)+(n-56320)+65536:r}function hR(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function t8(t){return t<65536?1:2}const yu=/\r\n?|\n/;var mr=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(mr||(mr={}));class Sn{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,i=0;r<this.sections.length;){let o=this.sections[r++],s=this.sections[r++];s<0?(e(n,i,o),i+=o):i+=s,n+=o}}iterChangedRanges(e,r=!1){bu(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];i<0?e.push(n,i):e.push(i,n)}return new Sn(e)}composeDesc(e){return this.empty?e:e.empty?this:Bw(this,e)}mapDesc(e,r=!1){return e.empty?this:wu(this,e,r)}mapPos(e,r=-1,n=mr.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>e)return o+(e-i);o+=a}else{if(n!=mr.Simple&&c>=e&&(n==mr.TrackDel&&i<e&&c>e||n==mr.TrackBefore&&i<e||n==mr.TrackAfter&&c>e))return null;if(c>e||c==e&&r<0&&!a)return e==i||r<0?o:o+l;o+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,r=e){for(let n=0,i=0;n<this.sections.length&&i<=r;){let o=this.sections[n++],s=this.sections[n++],a=i+o;if(s>=0&&i<=r&&a>=e)return i<e&&a>r?"cover":!0;i=a}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Sn(e)}static create(e){return new Sn(e)}}let un=class Wn extends Sn{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return bu(this,(r,n,i,o,s)=>e=e.replace(i,i+(n-r),s),!1),e}mapDesc(e,r=!1){return wu(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let i=0,o=0;i<r.length;i+=2){let s=r[i],a=r[i+1];if(a>=0){r[i]=a,r[i+1]=s;let l=i>>1;for(;n.length<l;)n.push(mt.empty);n.push(s?e.slice(o,o+s):mt.empty)}o+=s}return new Wn(r,n)}compose(e){return this.empty?e:e.empty?this:Bw(this,e,!0)}map(e,r=!1){return e.empty?this:wu(this,e,r,!0)}iterChanges(e,r=!1){bu(this,e,r)}get desc(){return Sn.create(this.sections)}filter(e){let r=[],n=[],i=[],o=new rs(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);Kt(i,u,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;Kt(r,u,h),h>0&&Kn(n,r,o.text),o.forward(u),a+=u}let c=e[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);Kt(r,u,-1),Kt(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new Wn(r,n),filtered:Sn.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],i=this.sections[r+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<r&&Kt(i,r-s,-1);let h=new Wn(i,o);a=a?a.compose(h.map(a)):h,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof Wn){if(u.length!=r)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${r})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:f=h,insert:d}=u;if(h>f||h<0||f>r)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${r})`);let g=d?typeof d=="string"?mt.of(d.split(n||yu)):d:mt.empty,O=g.length;if(h==f&&O==0)return;h<s&&l(),h>s&&Kt(i,h-s,-1),Kt(i,f-h,O),Kn(o,i,g),s=f}}return c(e),l(!a),a}static empty(e){return new Wn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")r.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)r.push(o[0],0);else{for(;n.length<i;)n.push(mt.empty);n[i]=mt.of(o.slice(1)),r.push(o[0],n[i].length)}}}return new Wn(r,n)}static createSet(e,r){return new Wn(e,r)}};function Kt(t,e,r,n=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function Kn(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(mt.empty);t.push(r)}}function bu(t,e,r){let n=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,h=mt.empty;for(;c+=a,u+=l,l&&n&&(h=h.append(n[s-2>>1])),!(r||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,c,o,u,h),i=c,o=u}}}function wu(t,e,r,n=!1){let i=[],o=n?[]:null,s=new rs(t),a=new rs(e);for(let l=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);Kt(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!r))){let c=a.len;for(Kt(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(Kt(i,0,s.ins),o&&Kn(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Kt(i,c,l<s.i?s.ins:0),o&&l<s.i&&Kn(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?un.createSet(i,o):Sn.create(i);throw new Error("Mismatched change set lengths")}}}function Bw(t,e,r=!1){let n=[],i=r?[]:null,o=new rs(t),s=new rs(e);for(let a=!1;;){if(o.done&&s.done)return i?un.createSet(n,i):Sn.create(n);if(o.ins==0)Kt(n,o.len,0,a),o.next();else if(s.len==0&&!s.done)Kt(n,0,s.ins,a),i&&Kn(i,n,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=n.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;Kt(n,l,u,a),i&&u&&Kn(i,n,s.text)}else s.ins==-1?(Kt(n,o.off?0:o.len,l,a),i&&Kn(i,n,o.textBit(l))):(Kt(n,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Kn(i,n,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||n.length>c),o.forward2(l),s.forward(l)}}}}class rs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?mt.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?mt.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let ga=class xu{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new xu(n,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return He.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return He.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return He.range(e.anchor,e.head)}static create(e,r,n){return new xu(e,r,n)}},He=class yr{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:yr.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new yr([this.main],0)}addRange(e,r=!0){return yr.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,yr.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new yr(e.ranges.map(r=>ga.fromJSON(r)),e.main)}static single(e,r=e){return new yr([yr.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=n:o.from<n)return yr.normalized(e.slice(),r);n=o.to}return new yr(e,r)}static cursor(e,r=0,n,i){return ga.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,r,n,i){let o=(n??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?ga.create(r,e,48|o):ga.create(e,r,(r>e?8:0)|o)}static normalized(e,r=0){let n=e[r];e.sort((i,o)=>i.from-o.from),r=e.indexOf(n);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=r&&r--,e.splice(--i,2,o.anchor>o.head?yr.range(l,a):yr.range(a,l))}}return new yr(e,r)}};function zw(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let Sf=0,Pe=class Vw{constructor(e,r,n,i,o){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=i,this.id=Sf++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Vw(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:Ef),!!e.static,e.enables)}of(e){return new qa([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new qa(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new qa(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}};function Ef(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class qa{constructor(e,r,n,i){this.dependencies=e,this.facet=r,this.type=n,this.value=i,this.id=Sf++}dynamicSlot(e){var r;let n=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:(((r=e[h.id])!==null&&r!==void 0?r:1)&1)==0&&u.push(e[h.id]);return{create(h){return h.values[s]=n(h),1},update(h,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||_u(h,u)){let d=n(h);if(a?!tm(d,h.values[s],i):!i(d,h.values[s]))return h.values[s]=d,1}return 0},reconfigure:(h,f)=>{let d,g=f.config.address[o];if(g!=null){let O=cl(f,g);if(this.dependencies.every($=>$ instanceof Pe?f.facet($)===h.facet($):$ instanceof Xr?f.field($,!1)==h.field($,!1):!0)||(a?tm(d=n(h),O,i):i(d=n(h),O)))return h.values[s]=O,0}else d=n(h);return h.values[s]=d,1}}}}function tm(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function _u(t,e){let r=!1;for(let n of e)Ko(t,n)&1&&(r=!0);return r}function r8(t,e,r){let n=r.map(l=>t[l.id]),i=r.map(l=>l.type),o=n.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<n.length;u++){let h=cl(l,n[u]);if(i[u]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(l){for(let c of n)Ko(l,c);return l.values[s]=a(l),1},update(l,c){if(!_u(l,o))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=_u(l,n),h=c.config.facets[e.id],f=c.facet(e);if(h&&!u&&Ef(r,h))return l.values[s]=f,0;let d=a(l);return e.compare(d,f)?(l.values[s]=f,0):(l.values[s]=d,1)}}}const va=Pe.define({static:!0});class Xr{constructor(e,r,n,i,o){this.id=e,this.createF=r,this.updateF=n,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let r=new Xr(Sf++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(va).find(n=>n.field==this);return(r?.create||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,i)=>{let o=n.values[r],s=this.updateF(o,i);return this.compareF(o,s)?0:(n.values[r]=s,1)},reconfigure:(n,i)=>{let o=n.facet(va),s=i.facet(va),a;return(a=o.find(l=>l.field==this))&&a!=s.find(l=>l.field==this)?(n.values[r]=a.create(n),1):i.config.address[this.id]!=null?(n.values[r]=i.field(this),0):(n.values[r]=this.create(n),1)}}}init(e){return[this,va.of({field:this,create:e})]}get extension(){return this}}const gi={lowest:4,low:3,default:2,high:1,highest:0};function jo(t){return e=>new Fw(e,t)}const tc={highest:jo(gi.highest),high:jo(gi.high),default:jo(gi.default),low:jo(gi.low),lowest:jo(gi.lowest)};class Fw{constructor(e,r){this.inner=e,this.prec=r}}class rc{of(e){return new $u(this,e)}reconfigure(e){return rc.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class $u{constructor(e,r){this.compartment=e,this.inner=r}}class ll{constructor(e,r,n,i,o,s){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let i=[],o=Object.create(null),s=new Map;for(let f of n8(e,r,s))f instanceof Xr?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(d=>f.slot(d));let u=n?.config.facets;for(let f in o){let d=o[f],g=d[0].facet,O=u&&u[f]||[];if(d.every($=>$.type==0))if(a[g.id]=l.length<<1|1,Ef(O,d))l.push(n.facet(g));else{let $=g.combine(d.map(P=>P.value));l.push(n&&g.compare($,n.facet(g))?n.facet(g):$)}else{for(let $ of d)$.type==0?(a[$.id]=l.length<<1|1,l.push($.value)):(a[$.id]=c.length<<1,c.push(P=>$.dynamicSlot(P)));a[g.id]=c.length<<1,c.push($=>r8($,g,d))}}let h=c.map(f=>f(a));return new ll(e,s,h,a,l,o)}}function n8(t,e,r){let n=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=n[l].indexOf(s);c>-1&&n[l].splice(c,1),s instanceof $u&&r.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof $u){if(r.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;r.set(s.compartment,c),o(c,a)}else if(s instanceof Fw)o(s.inner,s.prec);else if(s instanceof Xr)n[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof qa)n[a].push(s),s.facet.extensions&&o(s.facet.extensions,gi.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(t,gi.default),n.reduce((s,a)=>s.concat(a))}function Ko(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function cl(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Ww=Pe.define(),ku=Pe.define({combine:t=>t.some(e=>e),static:!0}),Hw=Pe.define({combine:t=>t.length?t[0]:void 0,static:!0}),qw=Pe.define(),Uw=Pe.define(),Kw=Pe.define(),Jw=Pe.define({combine:t=>t.length?t[0]:!1});let go=class{constructor(e,r){this.type=e,this.value=r}static define(){return new i8}};class i8{of(e){return new go(this,e)}}class o8{constructor(e){this.map=e}of(e){return new At(this,e)}}let At=class Gw{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new Gw(this.type,r)}is(e){return this.type==e}static define(e={}){return new o8(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let i of e){let o=i.map(r);o&&n.push(o)}return n}};At.reconfigure=At.define();At.appendConfig=At.define();class Yt{constructor(e,r,n,i,o,s){this.startState=e,this.changes=r,this.selection=n,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,n&&zw(n,r.newLength),o.some(a=>a.type==Yt.time)||(this.annotations=o.concat(Yt.time.of(Date.now())))}static create(e,r,n,i,o,s){return new Yt(e,r,n,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Yt.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Yt.time=go.define();Yt.userEvent=go.define();Yt.addToHistory=go.define();Yt.remote=go.define();function s8(t,e){let r=[];for(let n=0,i=0;;){let o,s;if(n<t.length&&(i==e.length||e[i]>=t[n]))o=t[n++],s=t[n++];else if(i<e.length)o=e[i++],s=e[i++];else return r;!r.length||r[r.length-1]<o?r.push(o,s):r[r.length-1]<s&&(r[r.length-1]=s)}}function Yw(t,e,r){var n;let i,o,s;return r?(i=e.changes,o=un.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(n=t.selection)===null||n===void 0?void 0:n.map(i),effects:At.mapEffects(t.effects,i).concat(At.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Su(t,e,r){let n=e.selection,i=Zi(e.annotations);return e.userEvent&&(i=i.concat(Yt.userEvent.of(e.userEvent))),{changes:e.changes instanceof un?e.changes:un.of(e.changes||[],r,t.facet(Hw)),selection:n&&(n instanceof He?n:He.single(n.anchor,n.head)),effects:Zi(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Xw(t,e,r){let n=Su(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(r=!1);let s=!!e[o].sequential;n=Yw(n,Su(t,e[o],s?n.changes.newLength:t.doc.length),s)}let i=Yt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return l8(r?a8(i):i)}function a8(t){let e=t.startState,r=!0;for(let i of e.facet(qw)){let o=i(t);if(o===!1){r=!1;break}Array.isArray(o)&&(r=r===!0?o:s8(r,o))}if(r!==!0){let i,o;if(r===!1)o=t.changes.invertedDesc,i=un.empty(e.doc.length);else{let s=t.changes.filter(r);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Yt.create(e,i,t.selection&&t.selection.map(o),At.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let n=e.facet(Uw);for(let i=n.length-1;i>=0;i--){let o=n[i](t);o instanceof Yt?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Yt?t=o[0]:t=Xw(e,Zi(o),!1)}return t}function l8(t){let e=t.startState,r=e.facet(Kw),n=t;for(let i=r.length-1;i>=0;i--){let o=r[i](t);o&&Object.keys(o).length&&(n=Yw(n,Su(e,o,t.changes.newLength),!0))}return n==t?t:Yt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const c8=[];function Zi(t){return t==null?c8:Array.isArray(t)?t:[t]}var kn=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(kn||(kn={}));const u8=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Eu;try{Eu=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function h8(t){if(Eu)return Eu.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||u8.test(r)))return!0}return!1}function f8(t){return e=>{if(!/\S/.test(e))return kn.Space;if(h8(e))return kn.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return kn.Word;return kn.Other}}let Lt=class Vr{constructor(e,r,n,i,o,s){this.config=e,this.doc=r,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Ko(this,a<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return Ko(this,n),cl(this,n)}update(...e){return Xw(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:i}=r;for(let a of e.effects)a.is(rc.reconfigure)?(r&&(i=new Map,r.compartments.forEach((l,c)=>i.set(c,l)),r=null),i.set(a.value.compartment,a.value.extension)):a.is(At.reconfigure)?(r=null,n=a.value):a.is(At.appendConfig)&&(r=null,n=Zi(n).concat(a.value));let o;r?o=e.startState.values.slice():(r=ll.resolve(n,i,this),o=new Vr(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values);let s=e.startState.facet(ku)?e.newSelection:e.newSelection.asSingle();new Vr(r,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:He.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),i=this.changes(n.changes),o=[n.range],s=Zi(n.effects);for(let a=1;a<r.ranges.length;a++){let l=e(r.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)o[f]=o[f].map(u);let h=i.mapDesc(c,!0);o.push(l.range.map(h)),i=i.compose(u),s=At.mapEffects(s,u).concat(At.mapEffects(Zi(l.effects),h))}return{changes:i,selection:He.create(o,r.mainIndex),effects:s}}changes(e=[]){return e instanceof un?e:un.of(e,this.doc.length,this.facet(Vr.lineSeparator))}toText(e){return mt.of(e.split(this.facet(Vr.lineSeparator)||yu))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(Ko(this,r),cl(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Xr&&this.config.address[i.id]!=null&&(r[n]=i.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(e,o)){let s=n[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return Vr.create({doc:e.doc,selection:He.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=ll.resolve(e.extensions||[],new Map),n=e.doc instanceof mt?e.doc:mt.of((e.doc||"").split(r.staticFacet(Vr.lineSeparator)||yu)),i=e.selection?e.selection instanceof He?e.selection:He.single(e.selection.anchor,e.selection.head):He.single(0);return zw(i,n.length),r.staticFacet(ku)||(i=i.asSingle()),new Vr(r,n,i,r.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Vr.tabSize)}get lineBreak(){return this.facet(Vr.lineSeparator)||`
`}get readOnly(){return this.facet(Jw)}phrase(e,...r){for(let n of this.facet(Vr.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>r.length?n:r[o-1]})),e}languageDataAt(e,r,n=-1){let i=[];for(let o of this.facet(Ww))for(let s of o(this,r,n))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return f8(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-n,a=e-n;for(;s>0;){let l=ln(r,s,!1);if(o(r.slice(l,s))!=kn.Word)break;s=l}for(;a<i;){let l=ln(r,a);if(o(r.slice(a,l))!=kn.Word)break;a=l}return s==a?null:He.range(s+n,a+n)}};Lt.allowMultipleSelections=ku;Lt.tabSize=Pe.define({combine:t=>t.length?t[0]:4});Lt.lineSeparator=Hw;Lt.readOnly=Jw;Lt.phrases=Pe.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(i=>t[i]==e[i])}});Lt.languageData=Ww;Lt.changeFilter=qw;Lt.transactionFilter=Uw;Lt.transactionExtender=Kw;rc.reconfigure=At.define();function vo(t,e,r={}){let n={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],a=n[o];if(a===void 0)n[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(r,o))n[o]=r[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class no{eq(e){return this==e}range(e,r=e){return Cu.create(e,r,this)}}no.prototype.startSide=no.prototype.endSide=0;no.prototype.point=!1;no.prototype.mapMode=mr.TrackDel;let Cu=class Qw{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new Qw(e,r,n)}};function Ou(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Cf{constructor(e,r,n,i){this.from=e,this.to=r,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,i=0){let o=n?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-r;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,r,n,i){for(let o=this.findIndex(r,-1e9,!0),s=this.findIndex(n,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,r){let n=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,f,d;if(u==h){let g=r.mapPos(u,c.startSide,c.mapMode);if(g==null||(f=d=g,c.startSide!=c.endSide&&(d=r.mapPos(u,c.endSide),d<f)))continue}else if(f=r.mapPos(u,c.startSide),d=r.mapPos(h,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(a=Math.max(a,d-f)),n.push(c),i.push(f-s),o.push(d-s))}return{mapped:n.length?new Cf(i,o,n,a):null,pos:s}}}let Tt=class _n{constructor(e,r,n,i){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=i}static create(e,r,n,i){return new _n(e,r,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(r.length==0&&!s)return this;if(n&&(r=r.slice().sort(Ou)),this.isEmpty)return r.length?_n.of(r):this;let a=new Zw(this,null,-1).goto(0),l=0,c=[],u=new ei;for(;a.value||l<r.length;)if(l<r.length&&(a.from-r[l].from||a.startSide-r[l].value.startSide)>=0){let h=r[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==r.length||this.chunkEnd(a.chunkIndex)<r[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(Cu.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?_n.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),r.push(l),n.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),r.push(u),n.push(h))}}let o=this.nextLayer.map(e);return r.length==0?o:new _n(n,r,o||_n.empty,i)}between(e,r,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(r>=o&&e<=o+s.length&&s.between(o,e-o,r-o,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return ns.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return ns.from(e).goto(r)}static compare(e,r,n,i,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=r.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=rm(s,a,n),c=new To(s,l,o),u=new To(a,l,o);n.iterGaps((h,f,d)=>nm(c,h,u,f,d,i)),n.empty&&n.length==0&&nm(c,0,u,0,0,i)}static eq(e,r,n=0,i){i==null&&(i=999999999);let o=e.filter(u=>!u.isEmpty&&r.indexOf(u)<0),s=r.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=rm(o,s),l=new To(o,a,0).goto(n),c=new To(s,a,0).goto(n);for(;;){if(l.to!=c.to||!Au(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,r,n,i,o=-1){let s=new To(e,null,o).goto(r),a=r,l=s.openStart;for(;;){let c=Math.min(s.to,n);if(s.point){let u=s.activeForPoint(s.to),h=s.pointFrom<r?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,s.point,u,h,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>n)return l+(s.point&&s.to>n?1:0);a=s.to,s.next()}}static of(e,r=!1){let n=new ei;for(let i of e instanceof Cu?[e]:r?d8(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return _n.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=_n.empty;i=i.nextLayer)r=new _n(i.chunkPos,i.chunk,r,Math.max(i.maxPoint,r.maxPoint));return r}};Tt.empty=new Tt([],[],null,-1);function d8(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(Ou(e,n)>0)return t.slice().sort(Ou);e=n}return t}Tt.empty.nextLayer=Tt.empty;class ei{finishChunk(e){this.chunks.push(new Cf(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new ei)).add(e,r,n)}addInner(e,r,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(Tt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=Tt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function rm(t,e,r){let n=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&n.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=n.get(o.chunk[s]);a!=null&&(r?r.mapPos(a):a)==o.chunkPos[s]&&!(r!=null&&r.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class Zw{constructor(e,r,n,i=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ns{constructor(e){this.heap=e}static from(e,r=null,n=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new Zw(s,r,n,o));return i.length==1?i[0]:new ns(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)kc(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)kc(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),kc(this.heap,0)}}}function kc(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),r.compare(i)<0)break;t[n]=r,t[e]=i,e=n}}class To{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ns.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){ya(this.active,e),ya(this.activeTo,e),ya(this.activeRank,e),this.minActive=im(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:i,rank:o}=this.cursor;for(;r<this.activeRank.length&&(o-this.activeRank[r]||i-this.activeTo[r])>0;)r++;ba(this.active,r,n),ba(this.activeTo,r,i),ba(this.activeRank,r,o),e&&ba(e,r,this.cursor.from),this.minActive=im(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&ya(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function nm(t,e,r,n,i,o){t.goto(e),r.goto(n);let s=n+i,a=n,l=n-e;for(;;){let c=t.to+l-r.to,u=c||t.endSide-r.endSide,h=u<0?t.to+l:r.to,f=Math.min(h,s);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&Au(t.activeForPoint(t.to),r.activeForPoint(r.to))||o.comparePoint(a,f,t.point,r.point):f>a&&!Au(t.active,r.active)&&o.compareRange(a,f,t.active,r.active),h>s)break;(c||t.openEnd!=r.openEnd)&&o.boundChange&&o.boundChange(h),a=h,u<=0&&t.next(),u>=0&&r.next()}}function Au(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function ya(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function ba(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function im(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||t[i].endSide-t[r].endSide)<0&&(r=i,n=e[i]);return r}function Of(t,e,r=t.length){let n=0;for(let i=0;i<r&&i<t.length;)t.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=ln(t,i));return n}function Mu(t,e,r,n){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?r-o%r:1,i=ln(t,i)}return n===!0?-1:t.length}const ju="ͼ",om=typeof Symbol>"u"?"__"+ju:Symbol.for(ju),Tu=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ti{constructor(e,r){this.rules=[];let{finish:n}=r||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],h=/^@(\w+)\b/.exec(s[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(s[0]+";");for(let d in a){let g=a[d];if(/&/.test(d))o(d.split(/,\s*/).map(O=>s.map($=>O.replace(/&/,$))).reduce((O,$)=>O.concat($)),g,l);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),g,u,f)}else g!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+g+";")}(u.length||f)&&l.push((n&&!h&&!c?s.map(n):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=sm[om]||1;return sm[om]=e+1,ju+e.toString(36)}static mount(e,r,n){let i=e[Tu],o=n&&n.nonce;i?o&&i.setNonce(o):i=new p8(e,o),i.mount(Array.isArray(r)?r:[r],e)}}let am=new Map;class p8{constructor(e,r){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=am.get(n);if(o)return e[Tu]=o;this.sheet=new i.CSSStyleSheet,am.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[Tu]=this}mount(e,r){let n=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),n)for(let c=0;c<a.rules.length;c++)n.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=r.head||r;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ri={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},is={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},m8=typeof navigator<"u"&&/Mac/.test(navigator.platform),g8=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ht=0;Ht<10;Ht++)ri[48+Ht]=ri[96+Ht]=String(Ht);for(var Ht=1;Ht<=24;Ht++)ri[Ht+111]="F"+Ht;for(var Ht=65;Ht<=90;Ht++)ri[Ht]=String.fromCharCode(Ht+32),is[Ht]=String.fromCharCode(Ht);for(var Sc in ri)is.hasOwnProperty(Sc)||(is[Sc]=ri[Sc]);function v8(t){var e=m8&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||g8&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?is:ri)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function os(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Pu(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Ua(t,e){if(!e.anchorNode)return!1;try{return Pu(t,e.anchorNode)}catch{return!1}}function ss(t){return t.nodeType==3?xi(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Jo(t,e,r,n){return r?lm(t,e,r,n,-1)||lm(t,e,r,n,1):!1}function wi(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function ul(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function lm(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:hn(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=wi(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?hn(t):0}else return!1}}function hn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nc(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function y8(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function e2(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-t.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}function b8(t,e,r,n,i,o,s,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,h=!1;u&&!h;)if(u.nodeType==1){let f,d=u==l.body,g=1,O=1;if(d)f=y8(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let Y=u.getBoundingClientRect();({scaleX:g,scaleY:O}=e2(u,Y)),f={left:Y.left,right:Y.left+u.clientWidth*g,top:Y.top,bottom:Y.top+u.clientHeight*O}}let $=0,P=0;if(i=="nearest")e.top<f.top?(P=e.top-(f.top+s),r>0&&e.bottom>f.bottom+P&&(P=e.bottom-f.bottom+s)):e.bottom>f.bottom&&(P=e.bottom-f.bottom+s,r<0&&e.top-P<f.top&&(P=e.top-(f.top+s)));else{let Y=e.bottom-e.top,ne=f.bottom-f.top;P=(i=="center"&&Y<=ne?e.top+Y/2-ne/2:i=="start"||i=="center"&&r<0?e.top-s:e.bottom-ne+s)-f.top}if(n=="nearest"?e.left<f.left?($=e.left-(f.left+o),r>0&&e.right>f.right+$&&($=e.right-f.right+o)):e.right>f.right&&($=e.right-f.right+o,r<0&&e.left<f.left+$&&($=e.left-(f.left+o))):$=(n=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:n=="start"==a?e.left-o:e.right-(f.right-f.left)+o)-f.left,$||P)if(d)c.scrollBy($,P);else{let Y=0,ne=0;if(P){let G=u.scrollTop;u.scrollTop+=P/O,ne=(u.scrollTop-G)*O}if($){let G=u.scrollLeft;u.scrollLeft+=$/g,Y=(u.scrollLeft-G)*g}e={left:e.left-Y,top:e.top-ne,right:e.right-Y,bottom:e.bottom-ne},Y&&Math.abs(Y-$)<1&&(n="nearest"),ne&&Math.abs(ne-P)<1&&(i="nearest")}if(d)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function w8(t){let e=t.ownerDocument,r,n;for(let i=t.parentNode;i&&!(i==e.body||r&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!r&&i.scrollWidth>i.clientWidth&&(r=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:r,y:n}}class x8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?hn(r):0),n,Math.min(e.focusOffset,n?hn(n):0))}set(e,r,n,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=i}}let Hi=null;function t2(t){if(t.setActive)return t.setActive();if(Hi)return t.focus(Hi);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(Hi==null?{get preventScroll(){return Hi={preventScroll:!0},!0}}:void 0),!Hi){Hi=!1;for(let r=0;r<e.length;){let n=e[r++],i=e[r++],o=e[r++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=o&&(n.scrollLeft=o)}}}let cm;function xi(t,e,r=e){let n=cm||(cm=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function eo(t,e,r,n){let i={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function _8(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function r2(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function $8(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,hn(r));;)if(n){if(r.nodeType!=1)return!1;let i=r.childNodes[n-1];i.contentEditable=="false"?n--:(r=i,n=hn(r))}else{if(r==t)return!0;n=wi(r),r=r.parentNode}}function n2(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function i2(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n>0)return{node:r,offset:n};if(r.nodeType==1&&n>0){if(r.contentEditable=="false")return null;r=r.childNodes[n-1],n=hn(r)}else if(r.parentNode&&!ul(r))n=wi(r),r=r.parentNode;else return null}}function o2(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n<r.nodeValue.length)return{node:r,offset:n};if(r.nodeType==1&&n<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[n],n=0}else if(r.parentNode&&!ul(r))n=wi(r)+1,r=r.parentNode;else return null}}class Gt{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new Gt(e.parentNode,wi(e),r)}static after(e,r){return new Gt(e.parentNode,wi(e)+1,r)}}const Af=[];let Et=class Ru{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let n of this.children){if(n==e)return r;r+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let n=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:n.firstChild)){let a=Ru.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,r),s.flags&=-8}if(o=i?i.nextSibling:n.firstChild,r&&!r.written&&r.node==n&&o!=s.dom&&(r.written=!0),s.dom.parentNode==n)for(;o&&o!=s.dom;)o=um(o);else n.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:n.firstChild,o&&r&&r.node==n&&(r.written=!0);o;)o=um(o)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,r),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let n;if(e==this.dom)n=this.dom.childNodes[r];else{let i=hn(e)==0?0:r==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ru.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==n)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,r,n=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=n,u=n;l<this.children.length;l++){let h=this.children[l],f=c+h.length;if(c<e&&f>r)return h.domBoundsAround(e,r,c);if(f>=e&&i==-1&&(i=l,o=c),c>r&&h.dom.parentNode==this.dom){s=l,a=u;break}u=f,c=f+h.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,n=Af){this.markDirty();for(let i=e;i<r;i++){let o=this.children[i];o.parent==this&&n.indexOf(o)<0&&o.destroy()}n.length<250?this.children.splice(e,r-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(r));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new s2(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,n,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}};Et.prototype.breakAfter=0;function um(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class s2{constructor(e,r,n){this.children=e,this.pos=r,this.i=n,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function a2(t,e,r,n,i,o,s,a,l){let{children:c}=t,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:s;if(!(e==n&&u&&!s&&!f&&o.length<2&&u.merge(r,i,o.length?h:null,r==0,a,l))){if(n<c.length){let d=c[n];d&&(i<d.length||d.breakAfter&&h!=null&&h.breakAfter)?(e==n&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,l)?o[o.length-1]=d:((i||d.children.length&&!d.children[0].length)&&d.merge(0,i,null,!1,0,l),o.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:s=1),n++}for(u&&(u.breakAfter=s,r>0&&(!s&&o.length&&u.merge(r,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(r<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(r,u.length,null,!1,a,0),e++));e<n&&o.length;)if(c[n-1].become(o[o.length-1]))n--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,a,l)&&e--,(e<n||o.length)&&t.replaceChildren(e,n,o)}}function l2(t,e,r,n,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(r,1),{i:c,off:u}=s.findPos(e,-1),h=e-r;for(let f of n)h+=f.length;t.length+=h,a2(t,c,u,a,l,n,0,i,o)}let pr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Du=typeof document<"u"?document:{documentElement:{style:{}}};const Nu=/Edge\/(\d+)/.exec(pr.userAgent),c2=/MSIE \d/.test(pr.userAgent),Iu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pr.userAgent),ic=!!(c2||Iu||Nu),hm=!ic&&/gecko\/(\d+)/i.test(pr.userAgent),Ec=!ic&&/Chrome\/(\d+)/.exec(pr.userAgent),k8="webkitFontSmoothing"in Du.documentElement.style,u2=!ic&&/Apple Computer/.test(pr.vendor),fm=u2&&(/Mobile\/\w+/.test(pr.userAgent)||pr.maxTouchPoints>2);var Oe={mac:fm||/Mac/.test(pr.platform),windows:/Win/.test(pr.platform),linux:/Linux|X11/.test(pr.platform),ie:ic,ie_version:c2?Du.documentMode||6:Iu?+Iu[1]:Nu?+Nu[1]:0,gecko:hm,gecko_version:hm?+(/Firefox\/(\d+)/.exec(pr.userAgent)||[0,0])[1]:0,chrome:!!Ec,chrome_version:Ec?+Ec[1]:0,ios:fm,android:/Android\b/.test(pr.userAgent),safari:u2,webkit_version:k8?+(/\bAppleWebKit\/(\d+)/.exec(pr.userAgent)||[0,0])[1]:0,tabSize:Du.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const S8=256;class Gr extends Et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,n){return this.flags&8||n&&(!(n instanceof Gr)||this.length-(r-e)+n.length>S8||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new Gr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new Gt(this.dom,e)}domBoundsAround(e,r,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return E8(this.dom,e,r)}}class Mn extends Et{constructor(e,r=[],n=0){super(),this.mark=e,this.children=r,this.length=n;for(let i of r)i.setParent(this)}setAttrs(e){if(r2(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,n,i,o,s){return n&&(!(n instanceof Mn&&n.mark.eq(this.mark))||e&&o<=0||r<this.length&&s<=0)?!1:(l2(this,e,r,n?n.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let r=[],n=0,i=-1,o=0;for(let a of this.children){let l=n+a.length;l>e&&r.push(n<e?a.split(e-n):a),i<0&&n>=e&&(i=o),n=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Mn(this.mark,r,s)}domAtPos(e){return h2(this,e)}coordsAt(e,r){return d2(this,e,r)}}function E8(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let i=e,o=e,s=0;e==0&&r<0||e==n&&r>=0?Oe.chrome||Oe.gecko||(e?(i--,s=1):o<n&&(o++,s=-1)):r<0?i--:o<n&&o++;let a=xi(t,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:r>=0)?0:a.length-1];return Oe.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?nc(l,s<0):l||null}class Jn extends Et{static create(e,r,n){return new Jn(e,r,n)}constructor(e,r,n){super(),this.widget=e,this.length=r,this.side=n,this.prevWidget=null}split(e){let r=Jn.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,n,i,o,s){return n&&(!(n instanceof Jn)||!this.widget.compare(n.widget)||e>0&&o<=0||r<this.length&&s<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}become(e){return e instanceof Jn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return mt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,n=r&&r.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):mt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);if(n)return n;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return nc(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}let Lu=class Bu extends Et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Bu&&e.side==this.side}split(){return new Bu(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Gt.before(this.dom):Gt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return mt.empty}get isHidden(){return!0}};Gr.prototype.children=Jn.prototype.children=Lu.prototype.children=Af;function h2(t,e){let r=t.dom,{children:n}=t,i=0;for(let o=0;i<n.length;i++){let s=n[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==r)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=n[o-1];if(s.dom.parentNode==r)return s.domAtPos(s.length)}for(let o=i;o<n.length;o++){let s=n[o];if(s.dom.parentNode==r)return s.domAtPos(0)}return new Gt(r,0)}function f2(t,e,r){let n,{children:i}=t;r>0&&e instanceof Mn&&i.length&&(n=i[i.length-1])instanceof Mn&&n.mark.eq(e.mark)?f2(n,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function d2(t,e,r){let n=null,i=-1,o=null,s=-1;function a(c,u){for(let h=0,f=0;h<c.children.length&&f<=u;h++){let d=c.children[h],g=f+d.length;g>=u&&(d.children.length?a(d,u-f):(!o||o.isHidden&&(r>0||O8(o,d)))&&(g>u||f==g&&d.getSide()>0)?(o=d,s=u-f):(f<u||f==g&&d.getSide()<0&&!d.isHidden)&&(n=d,i=u-f)),f=g}}a(t,e);let l=(r<0?n:o)||n||o;return l?l.coordsAt(Math.max(0,l==n?i:s),r):C8(t)}function C8(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=ss(e);return r[r.length-1]||null}function O8(t,e){let r=t.coordsAt(0,1),n=e.coordsAt(0,1);return r&&n&&n.top<r.bottom}function zu(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const dm=Object.create(null);function hl(t,e,r){if(t==e)return!0;t||(t=dm),e||(e=dm);let n=Object.keys(t),i=Object.keys(e);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let o of n)if(o!=r&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function Vu(t,e,r){let n=!1;if(e)for(let i in e)r&&i in r||(n=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(n=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n}function A8(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}let Mi=class{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var rr=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(rr||(rr={}));let gt=class extends no{constructor(e,r,n,i){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new ks(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new ni(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:o,end:s}=p2(e,r);n=(o?r?-3e8:-1:5e8)-1,i=(s?r?2e8:1:-6e8)+1}return new ni(e,n,i,r,e.widget||null,!0)}static line(e){return new Ss(e)}static set(e,r=!1){return Tt.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};gt.none=Tt.empty;class ks extends gt{constructor(e){let{start:r,end:n}=p2(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,n;return this==e||e instanceof ks&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&hl(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}ks.prototype.point=!1;class Ss extends gt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ss&&this.spec.class==e.spec.class&&hl(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}Ss.prototype.mapMode=mr.TrackBefore;Ss.prototype.point=!0;class ni extends gt{constructor(e,r,n,i,o,s){super(r,n,o,e),this.block=i,this.isReplace=s,this.mapMode=i?r<=0?mr.TrackBefore:mr.TrackAfter:mr.TrackDel}get type(){return this.startSide!=this.endSide?rr.WidgetRange:this.startSide<=0?rr.WidgetBefore:rr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ni&&M8(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}ni.prototype.point=!0;function p2(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function M8(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ka(t,e,r,n=0){let i=r.length-1;i>=0&&r[i]+n>=t?r[i]=Math.max(r[i],e):r.push(t,e)}let tr=class Lo extends Et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,n,i,o,s){if(n){if(!(n instanceof Lo))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),l2(this,e,r,n?n.children.slice():[],o,s),!0}split(e){let r=new Lo;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:n,off:i}=this.childPos(e);i&&(r.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)r.append(this.children[o],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){hl(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){f2(this,e,r)}addLineDeco(e){let r=e.spec.attributes,n=e.spec.class;r&&(this.attrs=zu(r,this.attrs||{})),n&&(this.attrs=zu({class:n},this.attrs||{}))}domAtPos(e){return h2(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var n;this.dom?this.flags&4&&(r2(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Vu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&Et.get(i)instanceof Mn;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=Et.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!Oe.ios||!this.children.some(o=>o instanceof Gr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let n of this.children){if(!(n instanceof Gr)||/[^ -~]/.test(n.text))return null;let i=ss(n.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let n=d2(this,e,r);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:n.top+s,bottom:n.bottom-s,left:n.left,right:n.left}}}return n}become(e){return e instanceof Lo&&this.children.length==0&&e.children.length==0&&hl(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let n=0,i=0;n<e.children.length;n++){let o=e.children[n],s=i+o.length;if(s>=r){if(o instanceof Lo)return o;if(s>r)break}i=s+o.breakAfter}return null}};class En extends Et{constructor(e,r,n){super(),this.widget=e,this.length=r,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,r,n,i,o,s){return n&&(!(n instanceof En)||!this.widget.compare(n.widget)||e>0&&o<=0||r<this.length&&s<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let n=new En(this.widget,r,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Af}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):mt.empty}domBoundsAround(){return null}become(e){return e instanceof En&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){return this.widget.coordsAt(this.dom,e,r)||(this.widget instanceof Fu?null:nc(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:n}=this.deco;return r==n?!1:e<0?r<0:n>0}}class Fu extends Mi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}let Cc=class m2{constructor(e,r,n,i){this.doc=e,this.pos=r,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof En&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new tr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wa(new Lu(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof En)&&this.getLine()}buildText(e,r,n){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-n)),this.getLine().append(wa(new Gr(this.text.slice(this.textOff,this.textOff+i)),r),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,r,n,i){this.buildText(r-e,n,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,n,i,o,s){if(this.disallowBlockEffectsFor[s]&&n instanceof ni){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=r-e;if(n instanceof ni)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new En(n.widget||io.block,a,n));else{let l=Jn.create(n.widget||io.inline,a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<r||n.startSide>0),u=!l.isEditable&&(e<r||o>i.length||n.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(wa(new Lu(1),i),o),o=i.length+Math.max(0,o-i.length)),h.append(wa(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<r||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=o)}static build(e,r,n,i,o){let s=new m2(e,r,n,o);return s.openEnd=Tt.spans(i,r,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function wa(t,e){for(let r of e)t=new Mn(r,[t],t.length);return t}let io=class extends Mi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};io.inline=new io("span");io.block=new io("div");var Mt=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(Mt||(Mt={}));const _i=Mt.LTR,Mf=Mt.RTL;function g2(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const j8=g2("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),T8=g2("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Wu=Object.create(null),Zr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);Wu[e]=r,Wu[r]=-e}function v2(t){return t<=247?j8[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?T8[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const P8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Gn{get dir(){return this.level%2?Mf:_i}constructor(e,r,n){this.from=e,this.to=r,this.level=n}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,n,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=r&&a.to>=r){if(a.level==n)return s;(o<0||(i!=0?i<0?a.from<r:a.to>r:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function y2(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!y2(n.inner,i.inner))return!1}return!0}const wt=[];function R8(t,e,r,n,i){for(let o=0;o<=n.length;o++){let s=o?n[o-1].to:e,a=o<n.length?n[o].from:r,l=o?256:i;for(let c=s,u=l,h=l;c<a;c++){let f=v2(t.charCodeAt(c));f==512?f=u:f==8&&h==4&&(f=16),wt[c]=f==4?2:f,f&7&&(h=f),u=f}for(let c=s,u=l,h=l;c<a;c++){let f=wt[c];if(f==128)c<a-1&&u==wt[c+1]&&u&24?f=wt[c]=u:wt[c]=256;else if(f==64){let d=c+1;for(;d<a&&wt[d]==64;)d++;let g=c&&u==8||d<r&&wt[d]==8?h==1?1:8:256;for(let O=c;O<d;O++)wt[O]=g;c=d-1}else f==8&&h==1&&(wt[c]=1);u=f,f&7&&(h=f)}}}function D8(t,e,r,n,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=n.length;s++){let c=s?n[s-1].to:e,u=s<n.length?n[s].from:r;for(let h=c,f,d,g;h<u;h++)if(d=Wu[f=t.charCodeAt(h)])if(d<0){for(let O=a-3;O>=0;O-=3)if(Zr[O+1]==-d){let $=Zr[O+2],P=$&2?i:$&4?$&1?o:i:0;P&&(wt[h]=wt[Zr[O]]=P),a=O;break}}else{if(Zr.length==189)break;Zr[a++]=h,Zr[a++]=f,Zr[a++]=l}else if((g=wt[h])==2||g==1){let O=g==i;l=O?0:1;for(let $=a-3;$>=0;$-=3){let P=Zr[$+2];if(P&2)break;if(O)Zr[$+2]|=2;else{if(P&4)break;Zr[$+2]|=4}}}}}function N8(t,e,r,n){for(let i=0,o=n;i<=r.length;i++){let s=i?r[i-1].to:t,a=i<r.length?r[i].from:e;for(let l=s;l<a;){let c=wt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==r.length)break;u=r[i++].to,a=i<r.length?r[i].from:e}else if(wt[u]==256)u++;else break;let h=o==1,f=(u<e?wt[u]:n)==1,d=h==f?h?1:2:n;for(let g=u,O=i,$=O?r[O-1].to:t;g>l;)g==$&&(g=r[--O].from,$=O?r[O-1].to:t),wt[--g]=d;l=u}else o=c,l++}}}function Hu(t,e,r,n,i,o,s){let a=n%2?2:1;if(n%2==i%2)for(let l=e,c=0;l<r;){let u=!0,h=!1;if(c==o.length||l<o[c].from){let O=wt[l];O!=a&&(u=!1,h=O==16)}let f=!u&&a==1?[]:null,d=u?n:n+1,g=l;e:for(;;)if(c<o.length&&g==o[c].from){if(h)break e;let O=o[c];if(!u)for(let $=O.to,P=c+1;;){if($==r)break e;if(P<o.length&&o[P].from==$)$=o[P++].to;else{if(wt[$]==a)break e;break}}if(c++,f)f.push(O);else{O.from>l&&s.push(new Gn(l,O.from,d));let $=O.direction==_i!=!(d%2);qu(t,$?n+1:n,i,O.inner,O.from,O.to,s),l=O.to}g=O.to}else{if(g==r||(u?wt[g]!=a:wt[g]==a))break;g++}f?Hu(t,l,g,n+1,i,f,s):l<g&&s.push(new Gn(l,g,d)),l=g}else for(let l=r,c=o.length;l>e;){let u=!0,h=!1;if(!c||l>o[c-1].to){let O=wt[l-1];O!=a&&(u=!1,h=O==16)}let f=!u&&a==1?[]:null,d=u?n:n+1,g=l;e:for(;;)if(c&&g==o[c-1].to){if(h)break e;let O=o[--c];if(!u)for(let $=O.from,P=c;;){if($==e)break e;if(P&&o[P-1].to==$)$=o[--P].from;else{if(wt[$-1]==a)break e;break}}if(f)f.push(O);else{O.to<l&&s.push(new Gn(O.to,l,d));let $=O.direction==_i!=!(d%2);qu(t,$?n+1:n,i,O.inner,O.from,O.to,s),l=O.from}g=O.from}else{if(g==e||(u?wt[g-1]!=a:wt[g-1]==a))break;g--}f?Hu(t,g,l,n+1,i,f,s):g<l&&s.push(new Gn(g,l,d)),l=g}}function qu(t,e,r,n,i,o,s){let a=e%2?2:1;R8(t,i,o,n,a),D8(t,i,o,n,a),N8(i,o,n,a),Hu(t,i,o,e,r,n,s)}function I8(t,e,r){if(!t)return[new Gn(0,0,e==Mf?1:0)];if(e==_i&&!r.length&&!P8.test(t))return b2(t.length);if(r.length)for(;t.length>wt.length;)wt[wt.length]=256;let n=[],i=e==_i?0:1;return qu(t,i,i,r,0,t.length,n),n}function b2(t){return[new Gn(0,t,0)]}let w2="";function L8(t,e,r,n,i){var o;let s=n.head-t.from,a=Gn.find(e,s,(o=n.bidiLevel)!==null&&o!==void 0?o:-1,n.assoc),l=e[a],c=l.side(i,r);if(s==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],s=l.side(!i,r),c=l.side(i,r)}let u=ln(t.text,s,l.forward(i,r));(u<l.from||u>l.to)&&(u=c),w2=t.text.slice(Math.min(s,u),Math.max(s,u));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<l.level?He.cursor(h.side(!i,r)+t.from,h.forward(i,r)?1:-1,h.level):He.cursor(u+t.from,l.forward(i,r)?-1:1,l.level)}function B8(t,e,r){for(let n=e;n<r;n++){let i=v2(t.charCodeAt(n));if(i==1)return _i;if(i==2||i==4)return Mf}return _i}const x2=Pe.define(),_2=Pe.define(),$2=Pe.define(),k2=Pe.define(),Uu=Pe.define(),S2=Pe.define(),E2=Pe.define(),jf=Pe.define(),Tf=Pe.define(),C2=Pe.define({combine:t=>t.some(e=>e)}),O2=Pe.define({combine:t=>t.some(e=>e)}),A2=Pe.define();let Oc=class Ku{constructor(e,r="nearest",n="nearest",i=5,o=5,s=!1){this.range=e,this.y=r,this.x=n,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new Ku(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ku(He.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}};const xa=At.define({map:(t,e)=>t.map(e)}),M2=At.define();function qr(t,e,r){let n=t.facet(k2);n.length?n[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const $n=Pe.define({combine:t=>t.length?t[0]:!0});let z8=0;const Bo=Pe.define();let or=class Ju{constructor(e,r,n,i,o){this.id=e,this.create=r,this.domEventHandlers=n,this.domEventObservers=i,this.extension=o(this)}static define(e,r){const{eventHandlers:n,eventObservers:i,provide:o,decorations:s}=r||{};return new Ju(z8++,e,n,i,a=>{let l=[Bo.of(a)];return s&&l.push(as.of(c=>{let u=c.plugin(a);return u?s(u):gt.none})),o&&l.push(o(a)),l})}static fromClass(e,r){return Ju.define(n=>new e(n),r)}};class Ac{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(qr(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){qr(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){qr(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const j2=Pe.define(),Pf=Pe.define(),as=Pe.define(),T2=Pe.define(),Rf=Pe.define(),P2=Pe.define();function pm(t,e){let r=t.state.facet(P2);if(!r.length)return r;let n=r.map(o=>o instanceof Function?o(t):o),i=[];return Tt.spans(n,e.from,e.to,{point(){},span(o,s,a,l){let c=o-e.from,u=s-e.from,h=i;for(let f=a.length-1;f>=0;f--,l--){let d=a[f].spec.bidiIsolate,g;if(d==null&&(d=B8(e.text,c,u)),l>0&&h.length&&(g=h[h.length-1]).to==c&&g.direction==d)g.to=u,h=g.inner;else{let O={from:c,to:u,direction:d,inner:[]};h.push(O),h=O.inner}}}}),i}const R2=Pe.define();function Df(t){let e=0,r=0,n=0,i=0;for(let o of t.state.facet(R2)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(r=Math.max(r,s.right)),s.top!=null&&(n=Math.max(n,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:r,top:n,bottom:i}}const zo=Pe.define();class Mr{constructor(e,r,n,i){this.fromA=e,this.toA=r,this.fromB=n,this.toB=i}join(e){return new Mr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],c=s-a,u=l?l.fromB:1e9;for(;o<r.length&&r[o]<u;){let h=r[o],f=r[o+1],d=Math.max(a,h),g=Math.min(u,f);if(d<=g&&new Mr(d+c,g+c,d,g).addToSet(n),f>u)break;o+=2}if(!l)return n;new Mr(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,a=l.toB}}}class fl{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=un.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new Mr(o,s,a,l))),this.changedRanges=i}static create(e,r,n){return new fl(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class mm extends Et{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=gt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new tr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Mr(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!K8(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?F8(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;n=new Mr(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Oe.ie||Oe.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=q8(s,a,e.changes);return n=Mr.extendWithRanges(n,l),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Oe.chrome||Oe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof En&&s.widget instanceof Fu&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,r,n){let i=n?n.range.addToSet(e.slice()):e,o=this.childCursor(r);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,f,d,g,O;if(n&&n.range.fromB<h&&n.range.toB>u){let G=Cc.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),X=Cc.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);d=G.breakAtStart,g=G.openStart,O=X.openEnd;let se=this.compositionView(n);X.breakAtStart?se.breakAfter=1:X.content.length&&se.merge(se.length,se.length,X.content[0],!1,X.openStart,0)&&(se.breakAfter=X.content[0].breakAfter,X.content.shift()),G.content.length&&se.merge(0,0,G.content[G.content.length-1],!0,0,G.openEnd)&&G.content.pop(),f=G.content.concat(se).concat(X.content)}else({content:f,breakAtStart:d,openStart:g,openEnd:O}=Cc.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:$,off:P}=o.findPos(c,1),{i:Y,off:ne}=o.findPos(l,-1);a2(this,Y,ne,$,P,f,d,g,O)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let n of r.effects)n.is(M2)&&(this.editContextFormatting=n.value)}compositionView(e){let r=new Gr(e.text.nodeValue);r.flags|=8;for(let{deco:i}of e.marks)r=new Mn(i,[r],r.length);let n=new tr;return n.append(r,0),n}fixCompositionDOM(e){let r=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=Et.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];r(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)n=i.childPos(n.off,1),i=i.children[n.i],r(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,o=!i&&!(this.view.state.facet($n)||this.dom.tabIndex>-1)&&Ua(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||r||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Oe.gecko&&a.empty&&!this.hasComposition&&V8(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new Gt(h,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!Jo(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Jo(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Oe.android&&Oe.chrome&&this.dom.contains(u.focusNode)&&U8(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=os(this.view.root);if(h)if(a.empty){if(Oe.gecko){let f=W8(l.node,l.offset);if(f&&f!=3){let d=(f==1?i2:o2)(l.node,l.offset);d&&(l=new Gt(d.node,d.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Gt(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Gt(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&Jo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,n=os(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let s=tr.find(this,r.head);if(!s)return;let a=s.posAtStart;if(r.head==a||r.head==a+s.length)return;let l=this.coordsAt(r.head,-1),c=this.coordsAt(r.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(r.head+r.assoc);n.collapse(u.node,u.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=r.from&&n.collapse(i,o)}moveToLine(e){let r=this.dom,n;if(e.node!=r)return e;for(let i=e.offset;!n&&i<r.childNodes.length;i++){let o=Et.get(r.childNodes[i]);o instanceof tr&&(n=o.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let o=Et.get(r.childNodes[i]);o instanceof tr&&(n=o.domAtPos(o.length))}return n?new Gt(n.node,n.offset,!0):e}nearest(e){for(let r=e;r;){let n=Et.get(r);if(n&&n.rootView==this)return n;r=r.parentNode}return null}posFromDOM(e,r){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,r)+n.posAtStart}domAtPos(e){let{i:r,off:n}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(n<i.length||i instanceof tr)break;r++,n=0}return this.children[r].domAtPos(n)}coordsAt(e,r){let n=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!n||a instanceof tr&&!(n instanceof tr&&r>=0)))n=a,i=c;else if(n&&c==e&&l==e&&a instanceof En&&Math.abs(r)<2){if(a.deco.startSide<0)break;s&&(n=null)}o=c}return n?n.coordsAt(e-i,r):null}coordsForChar(e){let{i:r,off:n}=this.childPos(e,1),i=this.children[r];if(!(i instanceof tr))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(n,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}n=l}if(!(i instanceof Gr))return null;let o=ln(i.text,n);if(o==n)return null;let s=xi(i.dom,n,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let r=[],{from:n,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Mt.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],f=c+h.length;if(f>i)break;if(c>=n){let d=h.dom.getBoundingClientRect();if(r.push(d.height),s){let g=h.dom.lastChild,O=g?ss(g):[];if(O.length){let $=O[O.length-1],P=l?$.right-d.left:d.right-$.left;P>a&&(a=P,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Mt.RTL:Mt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof tr){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),r,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=ss(e.firstChild)[0];r=e.getBoundingClientRect().height,n=o?o.width/27:7,i=o?o.height:r,e.remove()}),{lineHeight:r,charWidth:n,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new s2(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,i=0;;i++){let o=i==r.viewports.length?null:r.viewports[i],s=o?o.from-1:this.length;if(s>n){let a=(r.lineBlockAt(s).bottom-r.lineBlockAt(n).top)/this.view.scaleY;e.push(gt.replace({widget:new Fu(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!o)break;n=o.to+1}return gt.set(e)}updateDeco(){let e=1,r=this.view.state.facet(as).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),n=!1,i=this.view.state.facet(T2).map((o,s)=>{let a=typeof o=="function";return a&&(n=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=n,r.push(Tt.join(i))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(A2))try{if(c(this.view,e.range,e))return!0}catch(u){qr(this.view.state,u,"scroll handler")}let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!n)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let o=Df(this.view),s={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;b8(this.view.scrollDOM,s,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Mt.LTR)}}function V8(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function D2(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=i2(r.focusNode,r.focusOffset),i=o2(r.focusNode,r.focusOffset),o=n||i;if(i&&n&&i.node!=n.node){let a=Et.get(i.node);if(!a||a instanceof Gr&&a.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=Et.get(n.node);!l||l instanceof Gr&&l.text!=n.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=n,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function F8(t,e,r){let n=D2(t,r);if(!n)return null;let{node:i,from:o,to:s}=n,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(n.from,n.to)!=a)return null;let l=e.invertedDesc,c=new Mr(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let h=i.parentNode;;h=h.parentNode){let f=Et.get(h);if(f instanceof Mn)u.push({node:h,deco:f.mark});else{if(f instanceof tr||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=t.contentDOM)u.push({node:h,deco:new ks({inclusive:!0,attributes:A8(h),tagName:h.tagName.toLowerCase()})});else return null}}}function W8(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let H8=class{constructor(){this.changes=[]}compareRange(t,e){Ka(t,e,this.changes)}comparePoint(t,e){Ka(t,e,this.changes)}boundChange(t){Ka(t,t,this.changes)}};function q8(t,e,r){let n=new H8;return Tt.compare(t,e,r,n),n.changes}function U8(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function K8(t,e){let r=!1;return e&&t.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(r=!0)}),r}function J8(t,e,r=1){let n=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return He.cursor(e);o==0?r=1:o==i.length&&(r=-1);let s=o,a=o;r<0?s=ln(i.text,o,!1):a=ln(i.text,o);let l=n(i.text.slice(s,a));for(;s>0;){let c=ln(i.text,s,!1);if(n(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=ln(i.text,a);if(n(i.text.slice(a,c))!=l)break;a=c}return He.range(s+i.from,a+i.from)}function G8(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Y8(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Mc(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function gm(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function vm(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Gu(t,e,r){let n,i,o,s,a=!1,l,c,u,h;for(let g=t.firstChild;g;g=g.nextSibling){let O=ss(g);for(let $=0;$<O.length;$++){let P=O[$];i&&Mc(i,P)&&(P=gm(vm(P,i.bottom),i.top));let Y=G8(e,P),ne=Y8(r,P);if(Y==0&&ne==0)return g.nodeType==3?ym(g,e,r):Gu(g,e,r);if(!n||s>ne||s==ne&&o>Y){n=g,i=P,o=Y,s=ne;let G=ne?r<P.top?-1:1:Y?e<P.left?-1:1:0;a=!G||(G>0?$<O.length-1:$>0)}Y==0?r>P.bottom&&(!u||u.bottom<P.bottom)?(l=g,u=P):r<P.top&&(!h||h.top>P.top)&&(c=g,h=P):u&&Mc(u,P)?u=vm(u,P.bottom):h&&Mc(h,P)&&(h=gm(h,P.top))}}if(u&&u.bottom>=r?(n=l,i=u):h&&h.top<=r&&(n=c,i=h),!n)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return ym(n,f,r);if(a&&n.contentEditable!="false")return Gu(n,f,r);let d=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function ym(t,e,r){let n=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<n;a++){let l=xi(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>r?u.top-r:r-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let f=e>=(u.left+u.right)/2,d=f;if((Oe.chrome||Oe.gecko)&&xi(t,a).getBoundingClientRect().left==u.right&&(d=!f),h<=0)return{node:t,offset:a+(d?1:0)};i=a+(d?1:0),o=h}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function N2(t,e,r,n=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:h}=e,f=h-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let G=t.viewState.heightOracle.textHeight/2,X=!1;l=t.elementAtHeight(f),l.type!=rr.Text;)for(;f=n>0?l.bottom+G:l.top-G,!(f>=0&&f<=c);){if(X)return r?null:0;X=!0,n=-n}h=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:r?null:bm(t,s,l,u,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:bm(t,s,l,u,h);let g=t.dom.ownerDocument,O=t.root.elementFromPoint?t.root:g,$=O.elementFromPoint(u,h);$&&!t.contentDOM.contains($)&&($=null),$||(u=Math.max(s.left+1,Math.min(s.right-1,u)),$=O.elementFromPoint(u,h),$&&!t.contentDOM.contains($)&&($=null));let P,Y=-1;if($&&((i=t.docView.nearest($))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let G=g.caretPositionFromPoint(u,h);G&&({offsetNode:P,offset:Y}=G)}else if(g.caretRangeFromPoint){let G=g.caretRangeFromPoint(u,h);G&&({startContainer:P,startOffset:Y}=G,(!t.contentDOM.contains(P)||Oe.safari&&X8(P,Y,u)||Oe.chrome&&Q8(P,Y,u))&&(P=void 0))}P&&(Y=Math.min(hn(P),Y))}if(!P||!t.docView.dom.contains(P)){let G=tr.find(t.docView,d);if(!G)return f>l.top+l.height/2?l.to:l.from;({node:P,offset:Y}=Gu(G.dom,u,h))}let ne=t.docView.nearest(P);if(!ne)return null;if(ne.isWidget&&((o=ne.dom)===null||o===void 0?void 0:o.nodeType)==1){let G=ne.dom.getBoundingClientRect();return e.y<G.top||e.y<=G.bottom&&e.x<=(G.left+G.right)/2?ne.posAtStart:ne.posAtEnd}else return ne.localPosFromDOM(P,Y)+ne.posAtStart}function bm(t,e,r,n,i){let o=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-r.top-(t.defaultLineHeight-a)*.5)/a);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(r.from,r.to);return r.from+Mu(s,o,t.state.tabSize)}function X8(t,e,r){let n;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return xi(t,n-1,n).getBoundingClientRect().left>r}function Q8(t,e,r){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let n=t.nodeType==1?t.getBoundingClientRect():xi(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}function Yu(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let n of r.type)if(n.to>e||n.to==e&&(n.to==r.to||n.type==rr.Text))return n}return r}function Z8(t,e,r,n){let i=Yu(t,e.head),o=!n||i.type!=rr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:r==(a==Mt.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return He.cursor(l,r?-1:1)}return He.cursor(r?i.to:i.from,r?-1:1)}function wm(t,e,r,n){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=L8(i,o,s,a,r),u=w2;if(!c){if(i.number==(r?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(r?1:-1)),o=t.bidiSpans(i),c=t.visualLineSide(i,!r)}if(l){if(!l(u))return a}else{if(!n)return c;l=n(u)}a=c}}function eM(t,e,r){let n=t.state.charCategorizer(e),i=n(r);return o=>{let s=n(o);return i==kn.Space&&(i=s),i==s}}function tM(t,e,r,n){let i=e.head,o=r?1:-1;if(i==(r?t.state.doc.length:0))return He.cursor(i,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),a=(o<0?d.top:d.bottom)+u}let h=l.left+s,f=n??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let g=a+(f+d)*o,O=N2(t,{x:h,y:g},!1,o);if(g<l.top||g>l.bottom||(o<0?O<i:O>i)){let $=t.docView.coordsForChar(O),P=!$||g<$.top?-1:1;return He.cursor(O,P,void 0,s)}}}function Ja(t,e,r){for(;;){let n=0;for(let i of t)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=n||r||(e-o<s-e?-1:1);e=l<0?o:s,n=l}});if(!n)return e}}function jc(t,e,r){let n=Ja(t.state.facet(Rf).map(i=>i(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:He.cursor(n,n<r.from?1:-1)}const Vo="￿";class rM{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Lt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vo}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==r)break;let a=Et.get(i),l=Et.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:ul(i))||ul(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=r.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(a=i.exec(r))&&(o=a.index,s=a[0].length),this.append(r.slice(n,o<0?r.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);n=o+s}}readNode(e){if(e.cmIgnore)return;let r=Et.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(nM(e,n.node,n.offset)?r:0))}}function nM(t,e,r){for(;;){if(!e||r<hn(e))return!1;if(e==t)return!0;r=wi(e)+1,e=e.parentNode}}class xm{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class iM{constructor(e,r,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,n,0))){let a=o||s?[]:aM(e),l=new rM(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=lM(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!Pu(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!Pu(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Oe.ios||Oe.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(l,c),f=Math.max(l,c),d=u.from-h,g=u.to-f;(d==0||d==1||h==0)&&(g==0||g==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=He.single(c,l)}}}function I2(t,e){let r,{newSel:n}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,c=null;(o===8||Oe.android&&e.text.length<a-s)&&(l=i.to,c="end");let u=sM(t.state.doc.sliceString(s,a,Vo),e.text,l-s,c);u&&(Oe.chrome&&o==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Vo+Vo&&u.toB--,r={from:s+u.from,to:s+u.toA,insert:mt.of(e.text.slice(u.from,u.toB).split(Vo))})}else n&&(!t.hasFocus&&t.state.facet($n)||n.main.eq(i))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!i.empty&&n&&n.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Oe.mac||Oe.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=He.single(n.main.anchor-1,n.main.head-1)),r={from:r.from,to:r.to,insert:mt.of([r.insert.toString().replace("."," ")])}):r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:Oe.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=He.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:mt.of([" "])}),r)return Nf(t,r,n,o);if(n&&!n.main.eq(i)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:s,userEvent:a}),!0}else return!1}function Nf(t,e,r,n=-1){if(Oe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Oe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&eo(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&eo(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&eo(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=oM(t,e,r));return t.state.facet(S2).some(l=>l(t,e.from,e.to,o,a))||t.dispatch(a()),!0}function oM(t,e,r){let n,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";n=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=r&&r.main.to<=a.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=t.state.sliceDoc(e.from,e.to),u,h=r&&D2(t,r.main.head);if(h){let g=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-g}}else u=t.state.doc.lineAt(o.head);let f=o.to-e.to,d=o.to-o.from;n=i.changeByRange(g=>{if(g.from==o.from&&g.to==o.to)return{changes:a,range:l||g.map(a)};let O=g.to-f,$=O-c.length;if(g.to-g.from!=d||t.state.sliceDoc($,O)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let P=i.changes({from:$,to:O,insert:e.insert}),Y=g.to-o.to;return{changes:P,range:l?He.range(Math.max(0,l.anchor+Y),Math.max(0,l.head+Y)):g.map(P)}})}else n={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:s,scrollIntoView:!0})}function sM(t,e,r,n){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(n=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.length<e.length){let l=r<=o&&r>=s?o-r:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function aM(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}=t.observer.selectionRange;return r&&(e.push(new xm(r,n)),(i!=r||o!=n)&&e.push(new xm(i,o))),e}function lM(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?He.single(r+e,n+e):null}class cM{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Oe.safari&&e.contentDOM.addEventListener("input",()=>null),Oe.gecko&&SM(e.contentDOM.ownerDocument)}handleEvent(e){!vM(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,r);for(let i of n.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=uM(e),n=this.handlers,i=this.view.contentDOM;for(let o in r)if(o!="scroll"){let s=!r[o].handlers.length,a=n[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in n)o!="scroll"&&!r[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&B2.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Oe.android&&Oe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return Oe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=L2.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||hM.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,eo(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Oe.safari&&!Oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function _m(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(i){qr(r.state,i)}}}function uM(t){let e=Object.create(null);function r(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of t){let i=n.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&r(o).handlers.push(_m(n.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&r(o).observers.push(_m(n.value,s))}}for(let n in Yr)r(n).handlers.push(Yr[n]);for(let n in Dr)r(n).observers.push(Dr[n]);return e}const L2=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],hM="dthko",B2=[16,17,18,20,91,92,224,225],_a=6;function $a(t){return Math.max(0,t)*.7+8}function fM(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class dM{constructor(e,r,n,i){this.view=e,this.startEvent=r,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=w8(e.contentDOM),this.atoms=e.state.facet(Rf).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Lt.allowMultipleSelections)&&pM(e,r),this.dragging=gM(e,r)&&F2(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&fM(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,n=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Df(this.view);e.clientX-l.left<=i+_a?r=-$a(i-e.clientX):e.clientX+l.right>=s-_a&&(r=$a(e.clientX-s)),e.clientY-l.top<=o+_a?n=-$a(o-e.clientY):e.clientY+l.bottom>=a-_a&&(n=$a(e.clientY-a)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],o=null;if(i.empty){let s=Ja(this.atoms,i.from,0);s!=i.from&&(o=He.cursor(s,-1))}else{let s=Ja(this.atoms,i.from,-1),a=Ja(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=He.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(r||(r=e.ranges.slice()),r[n]=o)}return r?He.create(r,e.mainIndex):e}select(e){let{view:r}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function pM(t,e){let r=t.state.facet(x2);return r.length?r[0](e):Oe.mac?e.metaKey:e.ctrlKey}function mM(t,e){let r=t.state.facet(_2);return r.length?r[0](e):Oe.mac?!e.altKey:!e.ctrlKey}function gM(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=os(t.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function vM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=Et.get(r))&&n.ignoreEvent(e))return!1;return!0}const Yr=Object.create(null),Dr=Object.create(null),z2=Oe.ie&&Oe.ie_version<15||Oe.ios&&Oe.webkit_version<604;function yM(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),V2(t,r.value)},50)}function oc(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function V2(t,e){e=oc(t.state,jf,e);let{state:r}=t,n,i=1,o=r.toText(e),s=o.lines==r.selection.ranges.length;if(Xu!=null&&r.selection.ranges.every(a=>a.empty)&&Xu==o.toString()){let a=-1;n=r.changeByRange(l=>{let c=r.doc.lineAt(l.from);if(c.from==a)return{range:l};a=c.from;let u=r.toText((s?o.line(i++).text:e)+r.lineBreak);return{changes:{from:c.from,insert:u},range:He.cursor(l.from+u.length)}})}else s?n=r.changeByRange(a=>{let l=o.line(i++);return{changes:{from:a.from,to:a.to,insert:l.text},range:He.cursor(a.from+l.length)}}):n=r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Dr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Yr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Dr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Dr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Yr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of t.state.facet($2))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=xM(t,e)),r){let n=!t.hasFocus;t.inputState.startMouseSelection(new dM(t,e,r,n)),n&&t.observer.ignore(()=>{t2(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function $m(t,e,r,n){if(n==1)return He.cursor(e,r);if(n==2)return J8(t.state,e,r);{let i=tr.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,He.range(s,a)}}let km=(t,e,r)=>e>=r.top&&e<=r.bottom&&t>=r.left&&t<=r.right;function bM(t,e,r,n){let i=tr.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&km(r,n,s))return-1;let a=i.coordsAt(o,1);return a&&km(r,n,a)?1:s&&s.bottom>=n?-1:1}function Sm(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:bM(t,r,e.clientX,e.clientY)}}const wM=Oe.ie&&Oe.ie_version<=11;let Em=null,Cm=0,Om=0;function F2(t){if(!wM)return t.detail;let e=Em,r=Om;return Em=t,Om=Date.now(),Cm=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Cm+1)%3:1}function xM(t,e){let r=Sm(t,e),n=F2(e),i=t.state.selection;return{update(o){o.docChanged&&(r.pos=o.changes.mapPos(r.pos),i=i.map(o.changes))},get(o,s,a){let l=Sm(t,o),c,u=$m(t,l.pos,l.bias,n);if(r.pos!=l.pos&&!s){let h=$m(t,r.pos,r.bias,n),f=Math.min(h.from,u.from),d=Math.max(h.to,u.to);u=f<u.from?He.range(f,d):He.range(d,f)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&n==1&&i.ranges.length>1&&(c=_M(i,l.pos))?c:a?i.addRange(u):He.create([u])}}}function _M(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:i}=t.ranges[r];if(n<=e&&i>=e)return He.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}Yr.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=r.to||s<=r.from)&&(r=He.range(o,s))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",oc(t.state,Tf,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Yr.dragend=t=>(t.inputState.draggedContent=null,!1);function Am(t,e,r,n){if(r=oc(t.state,jf,r),!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=n&&o&&mM(t,e)?{from:o.from,to:o.to}:null,a={from:i,insert:r},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Yr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),i=0,o=()=>{++i==r.length&&Am(t,e,n.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<r.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[s]=a.result),o()},a.readAsText(r[s])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return Am(t,e,n,!0),!0}return!1};Yr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=z2?null:e.clipboardData;return r?(V2(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(yM(t),!1)};function $M(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function kM(t){let e=[],r=[],n=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),r.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}n=!0}return{text:oc(t,Tf,e.join(t.lineBreak)),ranges:r,linewise:n}}let Xu=null;Yr.copy=Yr.cut=(t,e)=>{let{text:r,ranges:n,linewise:i}=kM(t.state);if(!r&&!i)return!1;Xu=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=z2?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",r),!0):($M(t,r),!1)};const W2=go.define();function H2(t,e){let r=[];for(let n of t.facet(E2)){let i=n(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:W2.of(!0)}):null}function q2(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=H2(t.state,e);r?t.dispatch(r):t.update([])}},10)}Dr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),q2(t)};Dr.blur=t=>{t.observer.clearSelectionRange(),q2(t)};Dr.compositionstart=Dr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Dr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Oe.chrome&&Oe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Dr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Yr.beforeinput=(t,e)=>{var r,n;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return Nf(t,{from:l,to:c,insert:t.state.toText(o)},null),!0}}let i;if(Oe.chrome&&Oe.android&&(i=L2.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Oe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Oe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Dr.compositionend(t,e),20),!1};const Mm=new Set;function SM(t){Mm.has(t)||(Mm.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const jm=["pre-wrap","normal","pre-line","break-spaces"];let oo=!1;function Tm(){oo=!1}class EM{constructor(e){this.lineWrapping=e,this.doc=mt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return jm.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,n,i,o,s){let a=jm.indexOf(e)>-1,l=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=r,this.charWidth=n,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class CM{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class an{constructor(e,r,n,i,o){this.from=e,this.length=r,this.top=n,this.height=i,this._content=o}get type(){return typeof this._content=="number"?rr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ni?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new an(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var kt=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(kt||(kt={}));const Ga=.001;class nr{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ga&&(oo=!0),this.height=e)}replace(e,r,n){return nr.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,i){let o=this,s=n.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=i[a],f=o.lineAt(l,kt.ByPosNoHeight,n.setDoc(r),0,0),d=f.to>=c?f:o.lineAt(c,kt.ByPosNoHeight,n,0,0);for(h+=d.to-c,c=d.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=o.lineAt(l,kt.ByPosNoHeight,n,0,0));u+=f.from-l,l=f.from;let g=If.build(n.setDoc(s),e,u,h);o=dl(o,o.replace(l,c,g))}return o.updateHeight(n,0)}static empty(){return new br(0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,i=0,o=0;for(;;)if(r==n)if(i>o*2){let a=e[r-1];a.break?e.splice(--r,1,a.left,null,a.right):e.splice(--r,1,a.left,a.right),n+=1+a.break,i-=a.size}else if(o>i*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[r++];a&&(i+=a.size)}else{let a=e[--n];a&&(o+=a.size)}let s=0;return e[r-1]==null?(s=1,r--):e[r]==null&&(s=1,n++),new OM(nr.of(e.slice(0,r)),s,nr.of(e.slice(n)))}}function dl(t,e){return t==e?t:(t.constructor!=e.constructor&&(oo=!0),e)}nr.prototype.size=1;class U2 extends nr{constructor(e,r,n){super(e,r),this.deco=n}blockAt(e,r,n,i){return new an(i,this.length,n,this.height,this.deco||0)}lineAt(e,r,n,i,o){return this.blockAt(0,n,i,o)}forEachLine(e,r,n,i,o,s){e<=o+this.length&&r>=o&&s(this.blockAt(0,n,i,o))}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class br extends U2{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,n,i){return new an(i,this.length,n,this.height,this.breaks)}replace(e,r,n){let i=n[0];return n.length==1&&(i instanceof br||i instanceof to&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof to?i=new br(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):nr.of(n)}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}let to=class Fr extends nr{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,o=i-n+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:n,lastLine:i,perLine:s,perChar:a}}blockAt(e,r,n,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(r,i);if(r.lineWrapping){let c=i+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),u=r.doc.lineAt(c),h=a+u.length*l,f=Math.max(n,e-h/2);return new an(u.from,u.length,f,h,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-n)/a))),{from:u,length:h}=r.doc.line(o+c);return new an(u,h,n+a*c,a,0)}}lineAt(e,r,n,i,o){if(r==kt.ByHeight)return this.blockAt(e,n,i,o);if(r==kt.ByPosNoHeight){let{from:d,to:g}=n.doc.lineAt(e);return new an(d,g-d,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(n,o),c=n.doc.lineAt(e),u=a+c.length*l,h=c.number-s,f=i+a*h+l*(c.from-o-h);return new an(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,r,n,i,o,s){e=Math.max(e,o),r=Math.min(r,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,o);for(let u=e,h=i;u<=r;){let f=n.doc.lineAt(u);if(u==e){let g=f.number-a;h+=l*g+c*(e-o-g)}let d=l+c*f.length;s(new an(f.from,f.length,h,d,0)),h+=d,u=f.to+1}}replace(e,r,n){let i=this.length-r;if(i>0){let o=n[n.length-1];o instanceof Fr?n[n.length-1]=new Fr(o.length+i):n.push(null,new Fr(i-1))}if(e>0){let o=n[0];o instanceof Fr?n[0]=new Fr(e+o.length):n.unshift(new Fr(e-1),null)}return nr.of(n)}decomposeLeft(e,r){r.push(new Fr(e-1),null)}decomposeRight(e,r){r.push(null,new Fr(this.length-e-1))}updateHeight(e,r=0,n=!1,i){let o=r+this.length;if(i&&i.from<=r+this.length&&i.more){let s=[],a=Math.max(r,i.from),l=-1;for(i.from>r&&s.push(new Fr(i.from-r-1).updateHeight(e,r));a<=o&&i.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=Ga&&(l=-2);let f=new br(u,h);f.outdated=!1,s.push(f),a+=u+1}a<=o&&s.push(null,new Fr(o-a).updateHeight(e,a));let c=nr.of(s);return(l<0||Math.abs(c.height-this.height)>=Ga||Math.abs(l-this.heightMetrics(e,r).perLine)>=Ga)&&(oo=!0),dl(this,c)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}};class OM extends nr{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,i){let o=n+this.left.height;return e<o?this.left.blockAt(e,r,n,i):this.right.blockAt(e,r,o,i+this.left.length+this.break)}lineAt(e,r,n,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=r==kt.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,r,n,i,o):this.right.lineAt(e,r,n,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=r==kt.ByPosNoHeight?kt.ByPosNoHeight:kt.ByPos;return l?c.join(this.right.lineAt(a,u,n,s,a)):this.left.lineAt(a,u,n,i,o).join(c)}forEachLine(e,r,n,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,r,n,i,o,s),r>=l&&this.right.forEachLine(e,r,n,a,l,s);else{let c=this.lineAt(l,kt.ByPos,n,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,n,i,o,s),c.to>=e&&c.from<=r&&s(c),r>c.to&&this.right.forEachLine(c.to+1,r,n,a,l,s)}}replace(e,r,n){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,n));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of n)o.push(a);if(e>0&&Pm(o,s-1),r<this.length){let a=o.length;this.decomposeRight(r,o),Pm(o,a)}return nr.of(o)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?nr.of(this.break?[e,null,r]:[e,r]):(this.left=dl(this.left,e),this.right=dl(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,i){let{left:o,right:s}=this,a=r+o.length+this.break,l=null;return i&&i.from<=r+o.length&&i.more?l=o=o.updateHeight(e,r,n,i):o.updateHeight(e,r,n),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,n,i):s.updateHeight(e,a,n),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Pm(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof to&&(n=t[e+1])instanceof to&&t.splice(e-1,3,new to(r.length+1+n.length))}const AM=5;class If{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof br?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new br(n-this.pos,-1)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=r-e;n.block?this.addBlock(new U2(s,i,n)):(s||o||i>=AM)&&this.addLineDeco(i,o,s)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new br(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let n=new to(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof br)return e;let r=new br(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof br)&&!this.isCovered?this.nodes.push(new br(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof br&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,r,n,i){let o=new If(n,e);return Tt.spans(r,n,i,o,0),o.finish(n)}}function MM(t,e,r){let n=new jM;return Tt.compare(t,e,r,n,0),n.changes}class jM{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,i){(e<r||n&&n.heightRelevant||i&&i.heightRelevant)&&Ka(e,r,this.changes,5)}}function TM(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||window,o=Math.max(0,r.left),s=Math.min(i.innerWidth,r.right),a=Math.max(0,r.top),l=Math.min(i.innerHeight,r.bottom);for(let c=t.parentNode;c&&c!=n.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let f=u.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?i.innerHeight:l,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-r.left,right:Math.max(o,s)-r.left,top:a-(r.top+e),bottom:Math.max(a,l)-(r.top+e)}}function PM(t){let e=t.getBoundingClientRect(),r=t.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function RM(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class Tc{constructor(e,r,n,i){this.from=e,this.to=r,this.size=n,this.displaySize=i}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=r[n];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,r){return gt.replace({widget:new DM(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class DM extends Mi{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Rm{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Dm,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Mt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(Pf).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new EM(r),this.stateDeco=e.facet(as).filter(n=>typeof n!="function"),this.heightMap=nr.empty().applyChanges(this.stateDeco,mt.empty,this.heightOracle.setDoc(e.doc),[new Mr(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=gt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let i=n?r.head:r.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new ka(o,s))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Dm:new Lf(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Fo(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(as).filter(u=>typeof u!="function");let i=e.changedRanges,o=Mr.extendWithRanges(i,MM(n,this.stateDeco,e?e.changes:un.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Tm(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||oo)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<l.from||r.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,r));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(O2)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),i=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Mt.RTL:Mt.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=r.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:G,scaleY:X}=e2(r,a);(G>.005&&Math.abs(this.scaleX-G)>.005||X>.005&&Math.abs(this.scaleY-X)>.005)&&(this.scaleX=G,this.scaleY=X,c|=16,s=l=!0)}let h=(parseInt(n.paddingTop)||0)*this.scaleY,f=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=n2(e.scrollDOM);let g=(this.printing?RM:TM)(r,this.paddingTop),O=g.top-this.pixelViewport.top,$=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let P=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(P!=this.inView&&(this.inView=P,P&&(l=!0)),!this.inView&&!this.scrollTarget&&!PM(e.dom))return 0;let Y=a.width;if((this.contentDOMWidth!=Y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let G=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(G)&&(s=!0),s||i.lineWrapping&&Math.abs(Y-this.contentDOMWidth)>i.charWidth){let{lineHeight:X,charWidth:se,textHeight:Z}=e.docView.measureTextSize();s=X>0&&i.refresh(o,X,se,Z,Y/se,G),s&&(e.docView.minWidth=0,c|=16)}O>0&&$>0?u=Math.max(O,$):O<0&&$<0&&(u=Math.min(O,$)),Tm();for(let X of this.viewports){let se=X.from==this.viewport.from?G:e.docView.measureVisibleLineHeights(X);this.heightMap=(s?nr.empty().applyChanges(this.stateDeco,mt.empty,this.heightOracle,[new Mr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new CM(X.from,se))}oo&&(c|=2)}let ne=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return ne&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||ne)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new ka(i.lineAt(s-n*1e3,kt.ByHeight,o,0,0).from,i.lineAt(a+(1-n)*1e3,kt.ByHeight,o,0,0).to);if(r){let{head:c}=r.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,kt.ByPos,o,0,0),f;r.y=="center"?f=(h.top+h.bottom)/2-u/2:r.y=="start"||r.y=="nearest"&&c<l.from?f=h.top:f=h.bottom-u,l=new ka(i.lineAt(f-1e3/2,kt.ByHeight,o,0,0).from,i.lineAt(f+u+1e3/2,kt.ByHeight,o,0,0).to)}}return l}mapViewport(e,r){let n=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new ka(this.heightMap.lineAt(n,kt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,kt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,kt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(r,kt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let i of e)r.touchesRange(i.from,i.to)||n.push(new Tc(r.mapPos(i.from),r.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=Mt.LTR&&!n)return[];let a=[],l=(u,h,f,d)=>{if(h-u<o)return;let g=this.state.selection.main,O=[g.from];g.empty||O.push(g.to);for(let P of O)if(P>u&&P<h){l(u,P-10,f,d),l(P+10,h,f,d);return}let $=IM(e,P=>P.from>=f.from&&P.to<=f.to&&Math.abs(P.from-u)<o&&Math.abs(P.to-h)<o&&!O.some(Y=>P.from<Y&&P.to>Y));if(!$){if(h<f.to&&r&&n&&r.visibleRanges.some(ne=>ne.from<=h&&ne.to>=h)){let ne=r.moveToLineBoundary(He.cursor(h),!1,!0).head;ne>u&&(h=ne)}let P=this.gapSize(f,u,h,d),Y=n||P<2e6?P:2e6;$=new Tc(u,h,P,Y)}a.push($)},c=u=>{if(u.length<s||u.type!=rr.Text)return;let h=NM(u.from,u.to,this.stateDeco);if(h.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,g;if(n){let O=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,$,P;if(f!=null){let Y=Ea(h,f),ne=((this.visibleBottom-this.visibleTop)/2+O)/u.height;$=Y-ne,P=Y+ne}else $=(this.visibleTop-u.top-O)/u.height,P=(this.visibleBottom-u.top+O)/u.height;d=Sa(h,$),g=Sa(h,P)}else{let O=h.total*this.heightOracle.charWidth,$=i*this.heightOracle.charWidth,P=0;if(O>2e6)for(let se of e)se.from>=u.from&&se.from<u.to&&se.size!=se.displaySize&&se.from*this.heightOracle.charWidth+P<this.pixelViewport.left&&(P=se.size-se.displaySize);let Y=this.pixelViewport.left+P,ne=this.pixelViewport.right+P,G,X;if(f!=null){let se=Ea(h,f),Z=((ne-Y)/2+$)/O;G=se-Z,X=se+Z}else G=(Y-$)/O,X=(ne+$)/O;d=Sa(h,G),g=Sa(h,X)}d>u.from&&l(u.from,d,u,h),g<u.to&&l(g,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,r,n,i){let o=Ea(i,n)-Ea(i,r);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){Tc.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=gt.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let n=[];Tt.spans(r,this.viewport.from,this.viewport.to,{span(o,s){n.push({from:o,to:s})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let o=0;o<n.length&&!(i&8);o++){let s=this.visibleRanges[o],a=n[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||Fo(this.heightMap.lineAt(e,kt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||Fo(this.heightMap.lineAt(this.scaler.fromDOM(e),kt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return Fo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ka{constructor(e,r){this.from=e,this.to=r}}function NM(t,e,r){let n=[],i=t,o=0;return Tt.spans(r,t,e,{span(){},point(s,a){s>i&&(n.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(n.push({from:i,to:e}),o+=e-i),{total:o,ranges:n}}function Sa({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(n<=a)return o+n;n-=a}}function Ea(t,e){let r=0;for(let{from:n,to:i}of t.ranges){if(e<=i){r+=e-n;break}r+=i-n}return r/t.total}function IM(t,e){for(let r of t)if(e(r))return r}const Dm={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Lf{constructor(e,r,n){let i=0,o=0,s=0;this.viewports=n.map(({from:a,to:l})=>{let c=r.lineAt(a,kt.ByPos,e,0,0).top,u=r.lineAt(l,kt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let r=0,n=0,i=0;;r++){let o=r<this.viewports.length?this.viewports[r]:null;if(!o||e<o.top)return i+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,i=o.domBottom}}fromDOM(e){for(let r=0,n=0,i=0;;r++){let o=r<this.viewports.length?this.viewports[r]:null;if(!o||e<o.domTop)return n+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,i=o.domBottom}}eq(e){return e instanceof Lf?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,n)=>r.from==e.viewports[n].from&&r.to==e.viewports[n].to):!1}}function Fo(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new an(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(i=>Fo(i,e)):t._content)}const Ca=Pe.define({combine:t=>t.join(" ")}),Qu=Pe.define({combine:t=>t.indexOf(!0)>-1}),Zu=ti.newName(),K2=ti.newName(),J2=ti.newName(),G2={"&light":"."+K2,"&dark":"."+J2};function eh(t,e,r){return new ti(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+n}})}const LM=eh("."+Zu,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},G2),BM={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Pc=Oe.ie&&Oe.ie_version<=11;class zM{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new x8,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(Oe.ie&&Oe.ie_version<=11||Oe.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Oe.chrome&&Oe.chrome_version<126)&&(this.editContext=new FM(e),e.state.facet($n)&&(e.contentDOM.editContext=this.editContext.editContext)),Pc&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet($n)?n.root.activeElement!=this.dom:!Ua(this.dom,i))return;let o=i.anchorNode&&n.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(Oe.ie&&Oe.ie_version<=11||Oe.android&&Oe.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Jo(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=os(e.root);if(!r)return!1;let n=Oe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&VM(this.view,r)||r;if(!n||this.selectionRange.eq(n))return!1;let i=Ua(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&$8(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,BM),Pc&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Pc&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&eo(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),r==-1?{from:r,to:n}=s:(r=Math.min(s.from,r),n=Math.max(s.to,n)))}return{from:r,to:n,typeOver:i}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),i=this.selectionChanged&&Ua(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new iM(this.view,e,r,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let n=this.view.state,i=I2(this.view,r);return this.view.state==n&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let n=Nm(r,e.previousSibling||e.target.previousSibling,-1),i=Nm(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet($n)!=e.state.facet($n)&&(e.view.contentDOM.editContext=e.state.facet($n)?this.editContext.editContext:null))}destroy(){var e,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Nm(t,e,r){for(;e;){let n=Et.get(e);if(n&&n.parent==t)return n;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function Im(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Jo(s.node,s.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function VM(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Im(t,i)}let r=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?Im(t,r):null}class FM{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(n.updateRangeStart),l=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:mt.of(n.text.split(`
`))};if(c.from==this.from&&o<this.from?c.from=o:c.to==this.to&&o>this.to&&(c.to=o),c.from==c.to&&!c.insert.length){let u=He.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((Oe.mac||Oe.android)&&c.from==s-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:mt.of([n.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);Nf(e,c,He.single(this.toEditorPos(n.selectionStart,u),this.toEditorPos(n.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let i=[],o=null;for(let s=this.toEditorPos(n.rangeStart),a=this.toEditorPos(n.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}r.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let o of n.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=this.toEditorPos(o.rangeStart),c=this.toEditorPos(o.rangeEnd);if(l<c){let u=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(gt.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:M2.of(gt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)r.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=os(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,c)=>{if(n)return;let u=c.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(c)){i=this.pendingContextChange=null,r+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(o+=r,s+=r,s<=this.from)this.from+=u,this.to+=u;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),c.toString()),this.to+=u}r+=u}),i&&!n&&this.revertPending(e.state),!n}update(e){let r=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),i=this.toContextPos(r.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let Qe=class th{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(o=>n(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||_8(e.parent)||document,this.viewState=new Rm(e.state||Lt.create(e)),e.scrollTo&&e.scrollTo.is(xa)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Bo).map(i=>new Ac(i));for(let i of this.plugins)i.update(this);this.observer=new zM(this),this.inputState=new cM(this),this.inputState.ensureHandlers(this.plugins),this.docView=new mm(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Yt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(W2))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=H2(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(Lt.phrases)!=this.state.facet(Lt.phrases))return this.setState(o);i=fl.create(this,o,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new Oc(d.empty?d:He.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(xa)&&(h=d.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=pl.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(zo)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ca)!=i.state.facet(Ca)&&(this.viewState.mustMeasureContent=!0),(r||n||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(Uu))try{f(i)}catch(d){qr(this.state,d,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!I2(this,u)&&c.force&&eo(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Rm(e),this.plugins=e.facet(Bo).map(n=>new Ac(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new mm(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(Bo),n=e.state.facet(Bo);if(r!=n){let i=[];for(let o of n){let s=r.indexOf(o);if(s<0)i.push(new Ac(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(n){qr(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(n2(n))o=-1,s=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);o=d.from,s=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(d=>{try{return d.read(this)}catch(g){return qr(this.state,g),Lm}}),h=fl.create(this,this.state,[]),f=!1;h.flags|=l,r?r.flags|=l:r=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(u[d]!=Lm)try{let g=c[d];g.write&&g.write(u[d],this)}catch(g){qr(this.state,g)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let d=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(d>1||d<-1){i=i+d,n.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let a of this.state.facet(Uu))a(r)}get themeClasses(){return Zu+" "+(this.state.facet(Qu)?J2:K2)+" "+this.state.facet(Ca)}updateAttrs(){let e=Bm(this,j2,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet($n)?"true":"false",class:"cm-content",style:`${Oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),Bm(this,Pf,r);let n=this.observer.ignore(()=>{let i=Vu(this.contentDOM,this.contentAttrs,r),o=Vu(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let i of n.effects)if(i.is(th.announce)){r&&(this.announceDOM.textContent=""),r=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(zo);let e=this.state.facet(th.cspNonce);ti.mount(this.root,this.styleModules.concat(LM).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return jc(this,e,wm(this,e,r,n))}moveByGroup(e,r){return jc(this,e,wm(this,e,r,n=>eM(this,e.head,n)))}visualLineSide(e,r){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=n[r?n.length-1:0];return He.cursor(o.side(r,i)+e.from,o.forward(!r,i)?1:-1)}moveToLineBoundary(e,r,n=!0){return Z8(this,e,r,n)}moveVertically(e,r,n){return jc(this,e,tM(this,e,r,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),N2(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Gn.find(o,e-i.from,-1,r)];return nc(n,s.dir==Mt.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(C2)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>WM)return b2(e.length);let r=this.textDirectionAt(e.from),n;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==r&&(o.fresh||y2(o.isolates,n=pm(this,e))))return o.order;n||(n=pm(this,e));let i=I8(e.text,r,n);return this.bidiCache.push(new pl(e.from,e.to,r,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Oe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{t2(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return xa.of(new Oc(typeof e=="number"?He.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return xa.of(new Oc(He.cursor(n.from),"start","start",n.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return or.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return or.define(()=>({}),{eventObservers:e})}static theme(e,r){let n=ti.newName(),i=[Ca.of(n),zo.of(eh(`.${n}`,e))];return r&&r.dark&&i.push(Qu.of(!0)),i}static baseTheme(e){return tc.lowest(zo.of(eh("."+Zu,e,G2)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),i=n&&Et.get(n)||Et.get(e);return((r=i?.rootView)===null||r===void 0?void 0:r.view)||null}};Qe.styleModule=zo;Qe.inputHandler=S2;Qe.clipboardInputFilter=jf;Qe.clipboardOutputFilter=Tf;Qe.scrollHandler=A2;Qe.focusChangeEffect=E2;Qe.perLineTextDirection=C2;Qe.exceptionSink=k2;Qe.updateListener=Uu;Qe.editable=$n;Qe.mouseSelectionStyle=$2;Qe.dragMovesSelection=_2;Qe.clickAddsSelectionRange=x2;Qe.decorations=as;Qe.outerDecorations=T2;Qe.atomicRanges=Rf;Qe.bidiIsolatedRanges=P2;Qe.scrollMargins=R2;Qe.darkTheme=Qu;Qe.cspNonce=Pe.define({combine:t=>t.length?t[0]:""});Qe.contentAttributes=Pf;Qe.editorAttributes=j2;Qe.lineWrapping=Qe.contentAttributes.of({class:"cm-lineWrapping"});Qe.announce=At.define();const WM=4096,Lm={};class pl{constructor(e,r,n,i,o,s){this.from=e,this.to=r,this.dir=n,this.isolates=i,this.fresh=o,this.order=s}static update(e,r){if(r.empty&&!e.some(o=>o.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:Mt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!r.touchesRange(s.from,s.to)&&n.push(new pl(r.mapPos(s.from,1),r.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function Bm(t,e,r){for(let n=t.state.facet(e),i=n.length-1;i>=0;i--){let o=n[i],s=typeof o=="function"?o(t):o;s&&zu(s,r)}return r}const HM=Oe.mac?"mac":Oe.windows?"win":Oe.linux?"linux":"key";function qM(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let i,o,s,a;for(let l=0;l<r.length-1;++l){const c=r[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Oa(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const UM=tc.default(Qe.domEventHandlers({keydown(t,e){return X2(Y2(e.state),t,e,"editor")}})),KM=Pe.define({enables:UM}),zm=new WeakMap;function Y2(t){let e=t.facet(KM),r=zm.get(e);return r||zm.set(e,r=GM(e.reduce((n,i)=>n.concat(i),[]))),r}function gR(t,e,r){return X2(Y2(t.state),e,t,r)}let Un=null;const JM=4e3;function GM(t,e=HM){let r=Object.create(null),n=Object.create(null),i=(s,a)=>{let l=n[s];if(l==null)n[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var h,f;let d=r[s]||(r[s]=Object.create(null)),g=a.split(/ (?!$)/).map(P=>qM(P,e));for(let P=1;P<g.length;P++){let Y=g.slice(0,P).join(" ");i(Y,!0),d[Y]||(d[Y]={preventDefault:!0,stopPropagation:!1,run:[ne=>{let G=Un={view:ne,prefix:Y,scope:s};return setTimeout(()=>{Un==G&&(Un=null)},JM),!0}]})}let O=g.join(" ");i(O,!1);let $=d[O]||(d[O]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&$.run.push(l),c&&($.preventDefault=!0),u&&($.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=r[c]||(r[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=s;for(let f in u)u[f].run.push(d=>h(d,rh))}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return r}let rh=null;function X2(t,e,r,n){rh=e;let i=v8(e),o=Lw(i,0),s=t8(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;Un&&Un.view==r&&Un.scope==n&&(a=Un.prefix+" ",B2.indexOf(e.keyCode)<0&&(c=!0,Un=null));let h=new Set,f=$=>{if($){for(let P of $.run)if(!h.has(P)&&(h.add(P),P(r)))return $.stopPropagation&&(u=!0),!0;$.preventDefault&&($.stopPropagation&&(u=!0),c=!0)}return!1},d=t[n],g,O;return d&&(f(d[a+Oa(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Oe.windows&&e.ctrlKey&&e.altKey)&&(g=ri[e.keyCode])&&g!=i?(f(d[a+Oa(g,e,!0)])||e.shiftKey&&(O=is[e.keyCode])!=i&&O!=g&&f(d[a+Oa(O,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(d[a+Oa(i,e,!0)])&&(l=!0),!l&&f(d._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),rh=null,l}class Es{constructor(e,r,n,i,o){this.className=e,this.left=r,this.top=n,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let o=Q2(e);return[new Es(r,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return YM(e,r,n)}}function Q2(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Mt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Vm(t,e,r,n){let i=t.coordsAtPos(e,r*2);if(!i)return n;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=t.posAtCoords({x:o.left+1,y:s}),l=t.posAtCoords({x:o.right-1,y:s});return a==null||l==null?n:{from:Math.max(n.from,Math.min(a,l)),to:Math.min(n.to,Math.max(a,l))}}function YM(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),o=t.textDirection==Mt.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=Q2(t),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),d=Yu(t,n),g=Yu(t,i),O=d.type==rr.Text?d:null,$=g.type==rr.Text?g:null;if(O&&(t.lineWrapping||d.widgetLineBreaks)&&(O=Vm(t,n,1,O)),$&&(t.lineWrapping||g.widgetLineBreaks)&&($=Vm(t,i,-1,$)),O&&$&&O.from==$.from&&O.to==$.to)return Y(ne(r.from,r.to,O));{let X=O?ne(r.from,null,O):G(d,!1),se=$?ne(null,r.to,$):G(g,!0),Z=[];return(O||d).to<($||g).from-(O&&$?1:0)||d.widgetLineBreaks>1&&X.bottom+t.defaultLineHeight/2<se.top?Z.push(P(h,X.bottom,f,se.top)):X.bottom<se.top&&t.elementAtHeight((X.bottom+se.top)/2).type==rr.Text&&(X.bottom=se.top=(X.bottom+se.top)/2),Y(X).concat(Z).concat(Y(se))}function P(X,se,Z,le){return new Es(e,X-l.left,se-l.top,Z-X,le-se)}function Y({top:X,bottom:se,horizontal:Z}){let le=[];for(let $e=0;$e<Z.length;$e+=2)le.push(P(Z[$e],X,Z[$e+1],se));return le}function ne(X,se,Z){let le=1e9,$e=-1e9,Ke=[];function De(ze,Te,ge,Ce,Fe){let J=t.coordsAtPos(ze,ze==Z.to?-2:2),de=t.coordsAtPos(ge,ge==Z.from?2:-2);!J||!de||(le=Math.min(J.top,de.top,le),$e=Math.max(J.bottom,de.bottom,$e),Fe==Mt.LTR?Ke.push(o&&Te?h:J.left,o&&Ce?f:de.right):Ke.push(!o&&Ce?h:de.left,!o&&Te?f:J.right))}let be=X??Z.from,je=se??Z.to;for(let ze of t.visibleRanges)if(ze.to>be&&ze.from<je)for(let Te=Math.max(ze.from,be),ge=Math.min(ze.to,je);;){let Ce=t.state.doc.lineAt(Te);for(let Fe of t.bidiSpans(Ce)){let J=Fe.from+Ce.from,de=Fe.to+Ce.from;if(J>=ge)break;de>Te&&De(Math.max(J,Te),X==null&&J<=be,Math.min(de,ge),se==null&&de>=je,Fe.dir)}if(Te=Ce.to+1,Te>=ge)break}return Ke.length==0&&De(be,X==null,je,se==null,t.textDirection),{top:le,bottom:$e,horizontal:Ke}}function G(X,se){let Z=a.top+(se?X.top:X.bottom);return{top:Z,bottom:Z,horizontal:[]}}}function XM(t,e){return t.constructor==e.constructor&&t.eq(e)}class QM{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(Ya)!=e.state.facet(Ya)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet(Ya);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!XM(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[n].constructor&&i.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ya=Pe.define();function Z2(t){return[or.define(e=>new QM(e,t)),Ya.of(t)]}const ls=Pe.define({combine(t){return vo(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function vR(t={}){return[ls.of(t),ZM,e9,t9,O2.of(!0)]}function ex(t){return t.startState.facet(ls)!=t.state.facet(ls)}const ZM=Z2({above:!0,markers(t){let{state:e}=t,r=e.facet(ls),n=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||r.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:He.cursor(i.head,i.head>i.anchor?-1:1);for(let l of Es.forRange(t,s,a))n.push(l)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=ex(t);return r&&Fm(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){Fm(e.state,t)},class:"cm-cursorLayer"});function Fm(t,e){e.style.animationDuration=t.facet(ls).cursorBlinkRate+"ms"}const e9=Z2({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Es.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||ex(t)},class:"cm-selectionLayer"}),t9=tc.highest(Qe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),tx=At.define({map(t,e){return t==null?null:e.mapPos(t)}}),Wo=Xr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,n)=>n.is(tx)?n.value:r,t)}}),r9=or.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(Wo);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Wo)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Wo),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Wo)!=t&&this.view.dispatch({effects:tx.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function yR(){return[Wo,r9]}function Wm(t,e,r,n,i){e.lastIndex=0;for(let o=t.iterRange(r,n),s=r,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function n9(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:i,to:o}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=o:n.push({from:i,to:o});return n}class i9{constructor(e){const{regexp:r,decoration:n,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof n=="function")this.addMatch=(a,l,c,u)=>{let h=n(a,l,c);h&&u(c,c+a[0].length,h)};else if(n)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let r=new ei,n=r.add.bind(r);for(let{from:i,to:o}of n9(e,this.maxLength))Wm(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,n));return r.finish()}updateDeco(e,r){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(n=Math.min(a,n),i=Math.max(l,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),n,i):r}updateRange(e,r,n,i){for(let o of e.visibleRanges){let s=Math.max(o.from,n),a=Math.min(o.to,i);if(a>s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),h=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let f=[],d,g=(O,$,P)=>f.push(P.range(O,$));if(l==c)for(this.regexp.lastIndex=u-l.from;(d=this.regexp.exec(l.text))&&d.index<h-l.from;)this.addMatch(d,e,d.index+l.from,g);else Wm(e.state.doc,this.regexp,u,h,(O,$)=>this.addMatch($,e,O,g));r=r.update({filterFrom:u,filterTo:h,filter:(O,$)=>O<u||$>h,add:f})}}return r}}const nh=/x/.unicode!=null?"gu":"g",o9=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,nh),s9={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Rc=null;function a9(){var t;if(Rc==null&&typeof document<"u"&&document.body){let e=document.body.style;Rc=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Rc||!1}const Xa=Pe.define({combine(t){let e=vo(t,{render:null,specialChars:o9,addSpecialChars:null});return(e.replaceTabs=!a9())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,nh)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,nh)),e}});function bR(t={}){return[Xa.of(t),l9()]}let Hm=null;function l9(){return Hm||(Hm=or.fromClass(class{constructor(t){this.view=t,this.decorations=gt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Xa)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new i9({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:i}=r.state,o=Lw(e[0],0);if(o==9){let s=i.lineAt(n),a=r.state.tabSize,l=Of(s.text,a,n-s.from);return gt.replace({widget:new f9((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=gt.replace({widget:new h9(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Xa);t.startState.facet(Xa)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const c9="•";function u9(t){return t>=32?c9:t==10?"␤":String.fromCharCode(9216+t)}class h9 extends Mi{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=u9(this.code),n=e.state.phrase("Control character")+" "+(s9[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,r);if(i)return i;let o=document.createElement("span");return o.textContent=r,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class f9 extends Mi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function wR(){return p9}const d9=gt.line({class:"cm-activeLine"}),p9=or.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let i=t.lineBlockAt(n.head);i.from>e&&(r.push(d9.range(i.from)),e=i.from)}return gt.set(r)}},{decorations:t=>t.decorations}),ih=2e3;function m9(t,e,r){let n=Math.min(e.line,r.line),i=Math.max(e.line,r.line),o=[];if(e.off>ih||r.off>ih||e.col<0||r.col<0){let s=Math.min(e.off,r.off),a=Math.max(e.off,r.off);for(let l=n;l<=i;l++){let c=t.doc.line(l);c.length<=a&&o.push(He.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,r.col),a=Math.max(e.col,r.col);for(let l=n;l<=i;l++){let c=t.doc.line(l),u=Mu(c.text,s,t.tabSize,!0);if(u<0)o.push(He.cursor(c.to));else{let h=Mu(c.text,a,t.tabSize);o.push(He.range(c.from+u,c.from+h))}}}return o}function g9(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function qm(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(r),i=r-n.from,o=i>ih?-1:i==n.length?g9(t,e.clientX):Of(n.text,t.state.tabSize,r-n.from);return{line:n.number,col:o,off:i}}function v9(t,e){let r=qm(t,e),n=t.state.selection;return r?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(r.line).from),s=i.state.doc.lineAt(o);r={line:s.number,col:r.col,off:Math.min(r.off,s.length)},n=n.map(i.changes)}},get(i,o,s){let a=qm(t,i);if(!a)return n;let l=m9(t.state,r,a);return l.length?s?He.create(l.concat(n.ranges)):He.create(l):n}}:null}function xR(t){let e=r=>r.altKey&&r.button==0;return Qe.mouseSelectionStyle.of((r,n)=>e(n)?v9(r,n):null)}const y9={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},b9={style:"cursor: crosshair"};function _R(t={}){let[e,r]=y9[t.key||"Alt"],n=or.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[n,Qe.contentAttributes.of(i=>{var o;return!((o=i.plugin(n))===null||o===void 0)&&o.isDown?b9:null})]}const Po="-10000px";class rx{constructor(e,r,n,i){this.facet=r,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(r),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=n(s,o))}update(e,r){var n;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=r?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==c.create&&(u=h)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let h=s[l]=this.tooltipViews[u];a&&(a[l]=r[u]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(n=l.destroy)===null||n===void 0||n.call(l));return r&&(a.forEach((l,c)=>r[c]=l),r.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function w9(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Dc=Pe.define({combine:t=>{var e,r,n;return{position:Oe.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||w9}}}),Um=new WeakMap,Bf=or.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Dc);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new rx(t,nx,(r,n)=>this.createTooltip(r,n),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(Dc);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",r.dom.appendChild(i)}return r.dom.style.position=this.position,r.dom.style.top=Po,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(Oe.gecko)r=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Po&&o.style.left=="0px"){let s=o.getBoundingClientRect();r=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(r||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=Df(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(Dc).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:r,space:n,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=t.pos[a],f=t.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(r.top,n.top)||h.top>=Math.min(r.bottom,n.bottom)||h.right<Math.max(r.left,n.left)-.1||h.left>Math.min(r.right,n.right)+.1)){u.style.top=Po;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=d?7:0,O=f.right-f.left,$=(e=Um.get(c))!==null&&e!==void 0?e:f.bottom-f.top,P=c.offset||_9,Y=this.view.textDirection==Mt.LTR,ne=f.width>n.right-n.left?Y?n.left:n.right-f.width:Y?Math.max(n.left,Math.min(h.left-(d?14:0)+P.x,n.right-O)):Math.min(Math.max(n.left,h.left-O+(d?14:0)-P.x),n.right-O),G=this.above[a];!l.strictSide&&(G?h.top-$-g-P.y<n.top:h.bottom+$+g+P.y>n.bottom)&&G==n.bottom-h.bottom>h.top-n.top&&(G=this.above[a]=!G);let X=(G?h.top-n.top:n.bottom-h.bottom)-g;if(X<$&&c.resize!==!1){if(X<this.view.defaultLineHeight){u.style.top=Po;continue}Um.set(c,$),u.style.height=($=X)/o+"px"}else u.style.height&&(u.style.height="");let se=G?h.top-$-g-P.y:h.bottom+g+P.y,Z=ne+O;if(c.overlap!==!0)for(let le of s)le.left<Z&&le.right>ne&&le.top<se+$&&le.bottom>se&&(se=G?le.top-$-2-g:le.bottom+g+2);if(this.position=="absolute"?(u.style.top=(se-t.parent.top)/o+"px",Km(u,(ne-t.parent.left)/i)):(u.style.top=se/o+"px",Km(u,ne/i)),d){let le=h.left+(Y?P.x:-P.x)-(ne+14-7);d.style.left=le/i+"px"}c.overlap!==!0&&s.push({left:ne,top:se,right:Z,bottom:se+$}),u.classList.toggle("cm-tooltip-above",G),u.classList.toggle("cm-tooltip-below",!G),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Po}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Km(t,e){let r=parseInt(t.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(t.style.left=e+"px")}const x9=Qe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),_9={x:0,y:0},nx=Pe.define({enables:[Bf,x9]}),ml=Pe.define({combine:t=>t.reduce((e,r)=>e.concat(r),[])});class sc{static create(e){return new sc(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new rx(e,ml,(r,n)=>this.createHostedView(r,n),r=>r.dom.remove())}createHostedView(e,r){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const $9=nx.compute([ml],t=>{let e=t.facet(ml);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var n;return(n=r.end)!==null&&n!==void 0?n:r.pos})),create:sc.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class k9{constructor(e,r,n,i,o){this.view=e,this.source=r,this.field=n,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,n=e.docView.nearest(r.target);if(!n)return;let i,o=1;if(n instanceof Jn)i=n.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let a=e.coordsAtPos(i);if(!a||r.y<a.top||r.y>a.bottom||r.x<a.left-e.defaultCharacterWidth||r.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Mt.RTL?-1:1;o=r.x<a.left?-c:c}let s=this.source(e,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>qr(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(Bf),r=e?e.manager.tooltips.findIndex(n=>n.create==sc.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!S9(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(n=(r=i[0])===null||r===void 0?void 0:r.end)!==null&&n!==void 0?n:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!E9(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=n=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Aa=4;function S9(t,e){let{left:r,right:n,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=r-Aa&&e.clientX<=n+Aa&&e.clientY>=i-Aa&&e.clientY<=o+Aa}function E9(t,e,r,n,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>n||s.right<n||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=t.posAtCoords({x:n,y:i},!1);return l>=e&&l<=r}function $R(t,e={}){let r=At.define(),n=Xr.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,mr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=o.changes.mapPos(c.end)),s.push(c)}}i=s}for(let s of o.effects)s.is(r)&&(i=s.value),s.is(C9)&&(i=[]);return i},provide:i=>ml.from(i)});return{active:n,extension:[n,or.define(i=>new k9(i,t,n,r,e.hoverTime||300)),$9]}}function kR(t,e){let r=t.plugin(Bf);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const C9=At.define(),Jm=Pe.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function SR(t,e){let r=t.plugin(ix),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const ix=or.fromClass(class{constructor(t){this.input=t.state.facet(Ym),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(Jm);this.top=new Ma(t,!0,e.topContainer),this.bottom=new Ma(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(Jm);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ma(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ma(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(Ym);if(r!=this.input){let n=r.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of n){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?o:s).push(u)}this.specs=n,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Qe.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Ma{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=Gm(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=Gm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Gm(t){let e=t.nextSibling;return t.remove(),e}const Ym=Pe.define({enables:ix});class jn extends no{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}jn.prototype.elementClass="";jn.prototype.toDOM=void 0;jn.prototype.mapMode=mr.TrackBefore;jn.prototype.startSide=jn.prototype.endSide=-1;jn.prototype.point=!0;const Qa=Pe.define(),O9=Pe.define(),A9={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Tt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Go=Pe.define();function M9(t){return[ox(),Go.of(Object.assign(Object.assign({},A9),t))]}const Xm=Pe.define({combine:t=>t.some(e=>e)});function ox(t){return[j9]}const j9=or.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Go).map(e=>new Zm(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Xm),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Xm)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=Tt.iter(this.view.state.facet(Qa),this.view.viewport.from),n=[],i=this.gutters.map(o=>new T9(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==rr.Text&&s){oh(r,n,a.from);for(let l of i)l.line(this.view,a,n);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==rr.Text){oh(r,n,o.from);for(let s of i)s.line(this.view,o,n)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Go),r=t.state.facet(Go),n=t.docChanged||t.heightChanged||t.viewportChanged||!Tt.eq(t.startState.facet(Qa),t.state.facet(Qa),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(n=!0);else{n=!0;let i=[];for(let o of r){let s=e.indexOf(o);s<0?i.push(new Zm(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Qe.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Mt.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function Qm(t){return Array.isArray(t)?t:[t]}function oh(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class T9{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Tt.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:i}=this,o=(r.top-this.height)/e.scaleY,s=r.height/e.scaleY;if(this.i==i.elements.length){let a=new sx(e,s,o,n);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,n);this.height=r.bottom,this.i++}line(e,r,n){let i=[];oh(this.cursor,i,r.from),n.length&&(i=i.concat(n));let o=this.gutter.config.lineMarker(e,r,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r),i=n?[n]:null;for(let o of e.state.facet(O9)){let s=o(e,r.widget,r);s&&(i||(i=[])).push(s)}i&&this.addElement(e,r,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class Zm{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);r.domEventHandlers[n](e,a,i)&&i.preventDefault()});this.markers=Qm(r.markers(e)),r.initialSpacer&&(this.spacer=new sx(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=Qm(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Tt.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class sx{constructor(e,r,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,i)}update(e,r,n,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),P9(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let n="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<r.length?r[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(n+=" "+u);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&s++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function P9(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const R9=Pe.define(),D9=Pe.define(),Gi=Pe.define({combine(t){return vo(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let i in r){let o=n[i],s=r[i];n[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return n}})}});class Nc extends jn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ic(t,e){return t.state.facet(Gi).formatNumber(e,t.state)}const N9=Go.compute([Gi],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(R9)},lineMarker(e,r,n){return n.some(i=>i.toDOM)?null:new Nc(Ic(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,n)=>{for(let i of e.state.facet(D9)){let o=i(e,r,n);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Gi)!=e.state.facet(Gi),initialSpacer(e){return new Nc(Ic(e,eg(e.state.doc.lines)))},updateSpacer(e,r){let n=Ic(r.view,eg(r.view.state.doc.lines));return n==e.number?e:new Nc(n)},domEventHandlers:t.facet(Gi).domEventHandlers}));function ER(t={}){return[Gi.of(t),ox(),N9]}function eg(t){let e=9;for(;e<t;)e=e*10+9;return e}const I9=new class extends jn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},L9=Qa.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.head).from;i>r&&(r=i,e.push(I9.range(i)))}return Tt.of(e)});function CR(){return L9}const B9=1024;let z9=0;class Lc{constructor(e,r){this.from=e,this.to=r}}let at=class{constructor(e={}){this.id=z9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Sr.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}};at.closedBy=new at({deserialize:t=>t.split(" ")});at.openedBy=new at({deserialize:t=>t.split(" ")});at.group=new at({deserialize:t=>t.split(" ")});at.isolate=new at({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});at.contextHash=new at({perNode:!0});at.lookAhead=new at({perNode:!0});at.mounted=new at({perNode:!0});class gl{constructor(e,r,n){this.tree=e,this.overlay=r,this.parser=n}static get(e){return e&&e.props&&e.props[at.mounted.id]}}const V9=Object.create(null);class Sr{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):V9,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Sr(e.name||"",r,e.id,n);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(at.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(at.group),o=-1;o<(i?i.length:0);o++){let s=r[o<0?n.name:i[o]];if(s)return s}}}}Sr.none=new Sr("",Object.create(null),0,8);class ax{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let i=null;for(let o of e){let s=o(n);s&&(i||(i=Object.assign({},n.props)),i[s[0].id]=s[1])}r.push(i?new Sr(n.name,i,n.id,n.flags):n)}return new ax(r)}}const ja=new WeakMap,tg=new WeakMap;var qt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(qt||(qt={}));class Xt{constructor(e,r,n,i,o){if(this.type=e,this.children=r,this.positions=n,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=gl.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new ah(this.topNode,e)}cursorAt(e,r=0,n=0){let i=ja.get(this)||this.topNode,o=new ah(i);return o.moveTo(e,r),ja.set(this,o._tree),o}get topNode(){return new jr(this,0,0,null)}resolve(e,r=0){let n=cs(ja.get(this)||this.topNode,e,r,!1);return ja.set(this,n),n}resolveInner(e,r=0){let n=cs(tg.get(this)||this.topNode,e,r,!0);return tg.set(this,n),n}resolveStack(e,r=0){return H9(this,e,r)}iterate(e){let{enter:r,leave:n,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&qt.IncludeAnonymous)>0;for(let l=this.cursor(s|qt.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||r(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:Ff(Sr.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new Xt(this.type,r,n,i,this.propValues),e.makeTree||((r,n,i)=>new Xt(Sr.none,r,n,i)))}static build(e){return q9(e)}}Xt.empty=new Xt(Sr.none,[],[],0);class zf{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new zf(this.buffer,this.index)}}let so=class lx{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return Sr.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,n==e)return o;let s=[];for(;e<n;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,r,n,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=r&&!(cx(o,i,s[l+1],s[l+2])&&(a=l,n>0));l=s[l+3]);return a}slice(e,r,n){let i=this.buffer,o=new Uint16Array(r-e),s=0;for(let a=e,l=0;a<r;){o[l++]=i[a++],o[l++]=i[a++]-n;let c=o[l++]=i[a++]-n;o[l++]=i[a++]-e,s=Math.max(s,c)}return new lx(o,s,this.set)}};function cx(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function cs(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let s=!n&&t instanceof jr&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=n?0:qt.IgnoreOverlays;if(n)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof jr&&s.index<0&&((i=a.enter(e,r,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,r,o);if(!s)return t;t=s}}class ux{cursor(e=0){return new ah(this,e)}getChild(e,r=null,n=null){let i=rg(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return rg(this,e,r,n)}resolve(e,r=0){return cs(this,e,r,!1)}resolveInner(e,r=0){return cs(this,e,r,!0)}matchContext(e){return sh(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}}class jr extends ux{constructor(e,r,n,i){super(),this._tree=e,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=r>0?a.length:-1;e!=c;e+=r){let u=a[e],h=l[e]+s.from;if(cx(i,n,h,h+u.length)){if(u instanceof so){if(o&qt.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,r,n-h,i);if(f>-1)return new Yn(new F9(s,u,e,h),null,f)}else if(o&qt.IncludeAnonymous||!u.type.isAnonymous||Vf(u)){let f;if(!(o&qt.IgnoreMounts)&&(f=gl.get(u))&&!f.overlay)return new jr(f.tree,h,e,s);let d=new jr(u,h,e,s);return o&qt.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(r<0?u.children.length-1:0,r,n,i)}}}if(o&qt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+r:e=r<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let i;if(!(n&qt.IgnoreOverlays)&&(i=gl.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((r>0?s<=o:s<o)&&(r<0?a>=o:a>o))return new jr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function rg(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(r!=null){for(let s=!1;!s;)if(s=i.type.is(r),!i.nextSibling())return o}for(;;){if(n!=null&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return n==null?o:[]}}function sh(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class F9{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}}class Yn extends ux{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,n);return o<0?null:new Yn(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&qt.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return o<0?null:new Yn(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Yn(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new Yn(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,i=this.index+4,o=n.buffer[this.index+3];if(o>i){let s=n.buffer[this.index+1];e.push(n.slice(i,o,s)),r.push(0)}return new Xt(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function hx(t){if(!t.length)return null;let e=0,r=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>r.from||s.to<r.to)&&(r=s,e=o)}let n=r instanceof jr&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new W9(i,r)}class W9{constructor(e,r){this.heads=e,this.node=r}get next(){return hx(this.heads)}}function H9(t,e,r){let n=t.resolveInner(e,r),i=null;for(let o=n instanceof jr?n:n.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[n])).push(s.resolve(e,r)),o=s}else{let s=gl.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new jr(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[n])).push(cs(a,e,r,!1))}}return i?hx(i):n}class ah{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof jr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof jr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&qt.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&qt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&qt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let o=r+e,s=e<0?-1:n._tree.children.length;o!=s;o+=e){let a=n._tree.children[o];if(this.mode&qt.IncludeAnonymous||a instanceof so||!a.type.isAnonymous||Vf(a))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;r=s,n=o+1;break e}i=this.stack[--o]}for(let i=n;i<this.stack.length;i++)r=new Yn(this.buffer,r,this.stack[i]);return this.bufferNode=new Yn(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&r&&r(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return sh(this.node.parent,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return sh(this._tree,e,i);let s=n[r.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function Vf(t){return t.children.some(e=>e instanceof so||!e.type.isAnonymous||Vf(e))}function q9(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=B9,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new zf(r,r.length):r,l=n.types,c=0,u=0;function h(X,se,Z,le,$e,Ke){let{id:De,start:be,end:je,size:ze}=a,Te=u,ge=c;for(;ze<0;)if(a.next(),ze==-1){let me=o[De];Z.push(me),le.push(be-X);return}else if(ze==-3){c=De;return}else if(ze==-4){u=De;return}else throw new RangeError(`Unrecognized record size: ${ze}`);let Ce=l[De],Fe,J,de=be-X;if(je-be<=i&&(J=$(a.pos-se,$e))){let me=new Uint16Array(J.size-J.skip),ye=a.pos-J.size,ce=me.length;for(;a.pos>ye;)ce=P(J.start,me,ce);Fe=new so(me,je-J.start,n),de=J.start-X}else{let me=a.pos-ze;a.next();let ye=[],ce=[],xe=De>=s?De:-1,Ie=0,qe=je;for(;a.pos>me;)xe>=0&&a.id==xe&&a.size>=0?(a.end<=qe-i&&(g(ye,ce,be,Ie,a.end,qe,xe,Te,ge),Ie=ye.length,qe=a.end),a.next()):Ke>2500?f(be,me,ye,ce):h(be,me,ye,ce,xe,Ke+1);if(xe>=0&&Ie>0&&Ie<ye.length&&g(ye,ce,be,Ie,be,qe,xe,Te,ge),ye.reverse(),ce.reverse(),xe>-1&&Ie>0){let vt=d(Ce,ge);Fe=Ff(Ce,ye,ce,0,ye.length,0,je-be,vt,vt)}else Fe=O(Ce,ye,ce,je-be,Te-je,ge)}Z.push(Fe),le.push(de)}function f(X,se,Z,le){let $e=[],Ke=0,De=-1;for(;a.pos>se;){let{id:be,start:je,end:ze,size:Te}=a;if(Te>4)a.next();else{if(De>-1&&je<De)break;De<0&&(De=ze-i),$e.push(be,je,ze),Ke++,a.next()}}if(Ke){let be=new Uint16Array(Ke*4),je=$e[$e.length-2];for(let ze=$e.length-3,Te=0;ze>=0;ze-=3)be[Te++]=$e[ze],be[Te++]=$e[ze+1]-je,be[Te++]=$e[ze+2]-je,be[Te++]=Te;Z.push(new so(be,$e[2]-je,n)),le.push(je-X)}}function d(X,se){return(Z,le,$e)=>{let Ke=0,De=Z.length-1,be,je;if(De>=0&&(be=Z[De])instanceof Xt){if(!De&&be.type==X&&be.length==$e)return be;(je=be.prop(at.lookAhead))&&(Ke=le[De]+be.length+je)}return O(X,Z,le,$e,Ke,se)}}function g(X,se,Z,le,$e,Ke,De,be,je){let ze=[],Te=[];for(;X.length>le;)ze.push(X.pop()),Te.push(se.pop()+Z-$e);X.push(O(n.types[De],ze,Te,Ke-$e,be-Ke,je)),se.push($e-Z)}function O(X,se,Z,le,$e,Ke,De){if(Ke){let be=[at.contextHash,Ke];De=De?[be].concat(De):[be]}if($e>25){let be=[at.lookAhead,$e];De=De?[be].concat(De):[be]}return new Xt(X,se,Z,le,De)}function $(X,se){let Z=a.fork(),le=0,$e=0,Ke=0,De=Z.end-i,be={size:0,start:0,skip:0};e:for(let je=Z.pos-X;Z.pos>je;){let ze=Z.size;if(Z.id==se&&ze>=0){be.size=le,be.start=$e,be.skip=Ke,Ke+=4,le+=4,Z.next();continue}let Te=Z.pos-ze;if(ze<0||Te<je||Z.start<De)break;let ge=Z.id>=s?4:0,Ce=Z.start;for(Z.next();Z.pos>Te;){if(Z.size<0)if(Z.size==-3)ge+=4;else break e;else Z.id>=s&&(ge+=4);Z.next()}$e=Ce,le+=ze,Ke+=ge}return(se<0||le==X)&&(be.size=le,be.start=$e,be.skip=Ke),be.size>4?be:void 0}function P(X,se,Z){let{id:le,start:$e,end:Ke,size:De}=a;if(a.next(),De>=0&&le<s){let be=Z;if(De>4){let je=a.pos-(De-4);for(;a.pos>je;)Z=P(X,se,Z)}se[--Z]=be,se[--Z]=Ke-X,se[--Z]=$e-X,se[--Z]=le}else De==-3?c=le:De==-4&&(u=le);return Z}let Y=[],ne=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,Y,ne,-1,0);let G=(e=t.length)!==null&&e!==void 0?e:Y.length?ne[0]+Y[0].length:0;return new Xt(l[t.topID],Y.reverse(),ne.reverse(),G)}const ng=new WeakMap;function Za(t,e){if(!t.isAnonymous||e instanceof so||e.type!=t)return 1;let r=ng.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Xt)){r=1;break}r+=Za(t,n)}ng.set(e,r)}return r}function Ff(t,e,r,n,i,o,s,a,l){let c=0;for(let g=n;g<i;g++)c+=Za(t,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function d(g,O,$,P,Y){for(let ne=$;ne<P;){let G=ne,X=O[ne],se=Za(t,g[ne]);for(ne++;ne<P;ne++){let Z=Za(t,g[ne]);if(se+Z>=u)break;se+=Z}if(ne==G+1){if(se>u){let Z=g[G];d(Z.children,Z.positions,0,Z.children.length,O[G]+Y);continue}h.push(g[G])}else{let Z=O[ne-1]+g[ne-1].length-X;h.push(Ff(t,g,O,G,ne,X,Z,null,l))}f.push(X+Y-o)}}return d(e,r,n,i,0),(a||l)(h,f,s)}let el=class lh{constructor(e,r,n,i,o=!1,s=!1){this.from=e,this.to=r,this.tree=n,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let i=[new lh(0,e.length,e,0,!1,n)];for(let o of r)o.to>e.length&&i.push(o);return i}static applyChanges(e,r,n=128){if(!r.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<r.length?r[a]:null,h=u?u.fromA:1e9;if(h-l>=n)for(;s&&s.from<h;){let f=s;if(l>=f.from||h<=f.to||c){let d=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=d>=g?null:new lh(d,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),s.to>h)break;s=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}};class U9{startParse(e,r,n){return typeof e=="string"&&(e=new K9(e)),n=n?n.length?n.map(i=>new Lc(i.from,i.to)):[new Lc(0,0)]:[new Lc(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let i=this.startParse(e,r,n);for(;;){let o=i.advance();if(o)return o}}}class K9{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new at({perNode:!0});let J9=0;class Or{constructor(e,r,n,i){this.name=e,this.set=r,this.base=n,this.modified=i,this.id=J9++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let n=typeof e=="string"?e:"?";if(e instanceof Or&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let i=new Or(n,[],null,[]);if(i.set.push(i),r)for(let o of r.set)i.set.push(o);return i}static defineModifier(e){let r=new vl(e);return n=>n.modified.indexOf(r)>-1?n:vl.get(n.base||n,n.modified.concat(r).sort((i,o)=>i.id-o.id))}}let G9=0;class vl{constructor(e){this.name=e,this.instances=[],this.id=G9++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(a=>a.base==e&&Y9(r,a.modified));if(n)return n;let i=[],o=new Or(e.name,i,e,r);for(let a of r)a.instances.push(o);let s=X9(r);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(vl.get(a,l));return o}}function Y9(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function X9(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function Q9(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let o=[],s=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new yl(n,s,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return fx.add(e)}const fx=new at;class yl{constructor(e,r,n,i){this.tags=e,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}yl.empty=new yl([],2,null);function dx(t,e){let r=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))r[o.tag.id]=o.class;else for(let s of o.tag)r[s.id]=o.class;let{scope:n,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=r[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:n}}function Z9(t,e){let r=null;for(let n of t){let i=n.style(e);i&&(r=r?r+" "+i:i)}return r}function ej(t,e,r,n=0,i=t.length){let o=new tj(n,Array.isArray(e)?e:[e],r);o.highlightRange(t.cursor(),n,i,"",o.highlighters),o.flush(i)}class tj{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,i,o){let{type:s,from:a,to:l}=e;if(a>=n||l<=r)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=i,u=rj(e)||yl.empty,h=Z9(o,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(r,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(at.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),g=this.highlighters.filter($=>!$.scope||$.scope(f.tree.type)),O=e.firstChild();for(let $=0,P=a;;$++){let Y=$<f.overlay.length?f.overlay[$]:null,ne=Y?Y.from+a:l,G=Math.max(r,P),X=Math.min(n,ne);if(G<X&&O)for(;e.from<X&&(this.highlightRange(e,G,X,i,o),this.startSpan(Math.min(X,e.to),c),!(e.to>=ne||!e.nextSibling())););if(!Y||ne>n)break;P=Y.to+a,P>r&&(this.highlightRange(d.cursor(),Math.max(r,Y.from+a),Math.min(n,P),"",g),this.startSpan(Math.min(n,P),c))}O&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,i,o),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function rj(t){let e=t.type.prop(fx);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ke=Or.define,Ta=ke(),Hn=ke(),ig=ke(Hn),og=ke(Hn),qn=ke(),Pa=ke(qn),Bc=ke(qn),on=ke(),fi=ke(on),en=ke(),tn=ke(),ch=ke(),Ro=ke(ch),Ra=ke(),Ee={comment:Ta,lineComment:ke(Ta),blockComment:ke(Ta),docComment:ke(Ta),name:Hn,variableName:ke(Hn),typeName:ig,tagName:ke(ig),propertyName:og,attributeName:ke(og),className:ke(Hn),labelName:ke(Hn),namespace:ke(Hn),macroName:ke(Hn),literal:qn,string:Pa,docString:ke(Pa),character:ke(Pa),attributeValue:ke(Pa),number:Bc,integer:ke(Bc),float:ke(Bc),bool:ke(qn),regexp:ke(qn),escape:ke(qn),color:ke(qn),url:ke(qn),keyword:en,self:ke(en),null:ke(en),atom:ke(en),unit:ke(en),modifier:ke(en),operatorKeyword:ke(en),controlKeyword:ke(en),definitionKeyword:ke(en),moduleKeyword:ke(en),operator:tn,derefOperator:ke(tn),arithmeticOperator:ke(tn),logicOperator:ke(tn),bitwiseOperator:ke(tn),compareOperator:ke(tn),updateOperator:ke(tn),definitionOperator:ke(tn),typeOperator:ke(tn),controlOperator:ke(tn),punctuation:ch,separator:ke(ch),bracket:Ro,angleBracket:ke(Ro),squareBracket:ke(Ro),paren:ke(Ro),brace:ke(Ro),content:on,heading:fi,heading1:ke(fi),heading2:ke(fi),heading3:ke(fi),heading4:ke(fi),heading5:ke(fi),heading6:ke(fi),contentSeparator:ke(on),list:ke(on),quote:ke(on),emphasis:ke(on),strong:ke(on),link:ke(on),monospace:ke(on),strikethrough:ke(on),inserted:ke(),deleted:ke(),changed:ke(),invalid:ke(),meta:Ra,documentMeta:ke(Ra),annotation:ke(Ra),processingInstruction:ke(Ra),definition:Or.defineModifier("definition"),constant:Or.defineModifier("constant"),function:Or.defineModifier("function"),standard:Or.defineModifier("standard"),local:Or.defineModifier("local"),special:Or.defineModifier("special")};for(let t in Ee){let e=Ee[t];e instanceof Or&&(e.name=t)}dx([{tag:Ee.link,class:"tok-link"},{tag:Ee.heading,class:"tok-heading"},{tag:Ee.emphasis,class:"tok-emphasis"},{tag:Ee.strong,class:"tok-strong"},{tag:Ee.keyword,class:"tok-keyword"},{tag:Ee.atom,class:"tok-atom"},{tag:Ee.bool,class:"tok-bool"},{tag:Ee.url,class:"tok-url"},{tag:Ee.labelName,class:"tok-labelName"},{tag:Ee.inserted,class:"tok-inserted"},{tag:Ee.deleted,class:"tok-deleted"},{tag:Ee.literal,class:"tok-literal"},{tag:Ee.string,class:"tok-string"},{tag:Ee.number,class:"tok-number"},{tag:[Ee.regexp,Ee.escape,Ee.special(Ee.string)],class:"tok-string2"},{tag:Ee.variableName,class:"tok-variableName"},{tag:Ee.local(Ee.variableName),class:"tok-variableName tok-local"},{tag:Ee.definition(Ee.variableName),class:"tok-variableName tok-definition"},{tag:Ee.special(Ee.variableName),class:"tok-variableName2"},{tag:Ee.definition(Ee.propertyName),class:"tok-propertyName tok-definition"},{tag:Ee.typeName,class:"tok-typeName"},{tag:Ee.namespace,class:"tok-namespace"},{tag:Ee.className,class:"tok-className"},{tag:Ee.macroName,class:"tok-macroName"},{tag:Ee.propertyName,class:"tok-propertyName"},{tag:Ee.operator,class:"tok-operator"},{tag:Ee.comment,class:"tok-comment"},{tag:Ee.meta,class:"tok-meta"},{tag:Ee.invalid,class:"tok-invalid"},{tag:Ee.punctuation,class:"tok-punctuation"}]);var zc;const Yi=new at;function nj(t){return Pe.define({combine:t?e=>e.concat(t):void 0})}const ij=new at;class Ur{constructor(e,r,n=[],i=""){this.data=e,this.name=i,Lt.prototype.hasOwnProperty("tree")||Object.defineProperty(Lt.prototype,"tree",{get(){return fn(this)}}),this.parser=r,this.extension=[ii.of(this),Lt.languageData.of((o,s,a)=>{let l=sg(o,s,a),c=l.type.prop(Yi);if(!c)return[];let u=o.facet(c),h=l.type.prop(ij);if(h){let f=l.resolve(s-l.from,a);for(let d of h)if(d.test(f,o)){let g=o.facet(d.facet);return d.type=="replace"?g:g.concat(u)}}return u})].concat(n)}isActiveAt(e,r,n=-1){return sg(e,r,n).type.prop(Yi)==this.data}findRegions(e){let r=e.facet(ii);if(r?.data==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],i=(o,s)=>{if(o.prop(Yi)==this.data){n.push({from:s,to:s+o.length});return}let a=o.prop(at.mounted);if(a){if(a.tree.prop(Yi)==this.data){if(a.overlay)for(let l of a.overlay)n.push({from:l.from+s,to:l.to+s});else n.push({from:s,to:s+o.length});return}else if(a.overlay){let l=n.length;if(i(a.tree,a.overlay[0].from+s),n.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Xt&&i(c,o.positions[l]+s)}};return i(fn(e),0),n}get allowsNesting(){return!0}}Ur.setState=At.define();function sg(t,e,r){let n=t.facet(ii),i=fn(t).topNode;if(!n||n.allowsNesting)for(let o=i;o;o=o.enter(e,r,qt.ExcludeBuffers))o.type.isTop&&(i=o);return i}class uh extends Ur{constructor(e,r,n){super(e,r,[],n),this.parser=r}static define(e){let r=nj(e.languageData);return new uh(r,e.parser.configure({props:[Yi.add(n=>n.isTop?r:void 0)]}),e.name)}configure(e,r){return new uh(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function fn(t){let e=t.field(Ur.state,!1);return e?e.tree:Xt.empty}class oj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let Do=null;class bl{constructor(e,r,n=[],i,o,s,a,l){this.parser=e,this.state=r,this.fragments=n,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new bl(e,r,[],Xt.empty,0,n,[],null)}startParse(){return this.parser.startParse(new oj(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Xt.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(el.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(el.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=Do;Do=this;try{return e()}finally{Do=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=ag(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),n=el.applyChanges(n,l),i=Xt.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new bl(this.parser,r,n,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:o}=this.skipped[n];i<e.to&&o>e.from&&(this.fragments=ag(this.fragments,i,o),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends U9{createParse(r,n,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let a=Do;if(a){for(let l of i)a.tempSkipped.push(l);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new Xt(Sr.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return Do}}function ag(t,e,r){return el.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}let hh=class fh{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new fh(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=bl.create(e.facet(ii).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new fh(n)}};Ur.state=Xr.define({create:hh.init,update(t,e){for(let r of e.effects)if(r.is(Ur.setState))return r.value;return e.startState.facet(ii)!=e.state.facet(ii)?hh.init(e.state):t.apply(e)}});let px=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(px=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const Vc=typeof navigator<"u"&&!((zc=navigator.scheduling)===null||zc===void 0)&&zc.isInputPending?()=>navigator.scheduling.isInputPending():null,sj=or.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Ur.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Ur.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=px(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,i=r.field(Ur.state);if(i.tree==i.context.tree&&i.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,t&&!Vc?Math.max(25,t.timeRemaining()-5):1e9),s=i.context.treeLen<n&&r.doc.length>n+1e3,a=i.context.work(()=>Vc&&Vc()||Date.now()>o,n+(s?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Ur.setState.of(new hh(i.context))})),this.chunkBudget>0&&!(a&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>qr(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ii=Pe.define({combine(t){return t.length?t[0]:null},enables:t=>[Ur.state,sj,Qe.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class AR{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const aj=Pe.define(),mx=Pe.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function dh(t){let e=t.facet(mx);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function lj(t,e){let r="",n=t.tabSize,i=t.facet(mx)[0];if(i=="	"){for(;e>=n;)r+="	",e-=n;i=" "}for(let o=0;o<e;o++)r+=i;return r}function cj(t,e){t instanceof Lt&&(t=new gx(t));for(let n of t.state.facet(aj)){let i=n(t,e);if(i!==void 0)return i}let r=fn(t.state);return r.length>=e?hj(t,r,e):null}class gx{constructor(e,r={}){this.state=e,this.options=r,this.unit=dh(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=n.from&&i<=n.to?o&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,r);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,r=1){let{text:n,from:i}=this.lineAt(e,r),o=this.countColumn(n,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,r=e.length){return Of(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:i}=this.lineAt(e,r),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const uj=new at;function hj(t,e,r){let n=e.resolveStack(r),i=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(i!=n.node){let o=[];for(let s=i;s&&!(s.from==n.node.from&&s.type==n.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)n={node:o[s],next:n}}return vx(n,t,r)}function vx(t,e,r){for(let n=t;n;n=n.next){let i=dj(n.node);if(i)return i(Wf.create(e,r,n))}return 0}function fj(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function dj(t){let e=t.type.prop(uj);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(at.closedBy))){let i=t.lastChild,o=i&&n.indexOf(i.name)>-1;return s=>vj(s,!0,1,void 0,o&&!fj(s)?i.from:void 0)}return t.parent==null?pj:null}function pj(){return 0}class Wf extends gx{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.context=n}get node(){return this.context.node}static create(e,r,n){return new Wf(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(mj(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){return vx(this.context.next,this.base,this.pos)}}function mj(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function gj(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(r.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=r.to;;){let l=e.childAfter(a);if(!l||l==n)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let c=/^ */.exec(o.text.slice(r.to-o.from))[0].length;return{from:r.from,to:r.to+c}}a=l.to}}function vj(t,e,r,n,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=i==t.pos+s,l=gj(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*r)}function MR({except:t,units:e=1}={}){return r=>{let n=t&&t.test(r.textAfter);return r.baseIndent+(n?0:e*r.unit)}}const yj=200;function jR(){return Lt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,i=r.lineAt(n);if(n>i.from+yj)return t;let o=r.sliceString(i.from,n);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=cj(s,u.from);if(h==null)continue;let f=/^\s*/.exec(u.text)[0],d=lj(s,h);f!=d&&l.push({from:u.from,to:u.from+f.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const bj=Pe.define(),wj=new at;function TR(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function xj(t,e,r){let n=fn(t);if(n.length<r)return null;let i=n.resolveStack(r,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=r||a.from>r)continue;if(o&&a.from<e)break;let l=a.type.prop(wj);if(l&&(a.to<n.length-50||n.length==t.doc.length||!_j(a))){let c=l(a,t);c&&c.from<=r&&c.from>=e&&c.to>r&&(o=c)}}return o}function _j(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function wl(t,e,r){for(let n of t.facet(bj)){let i=n(t,e,r);if(i)return i}return xj(t,e,r)}function yx(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const ac=At.define({map:yx}),Cs=At.define({map:yx});function bx(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const $i=Xr.define({create(){return gt.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(ac)&&!$j(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(_x),i=n?gt.replace({widget:new Aj(n(e.state,r.value))}):lg;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(Cs)&&(t=t.update({filter:(n,i)=>r.value.from!=n||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:n}=e.selection.main;t.between(n,n,(i,o)=>{i<n&&o>n&&(r=!0)}),r&&(t=t.update({filterFrom:n,filterTo:n,filter:(i,o)=>o<=n||i>=n}))}return t},provide:t=>Qe.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,i)=>{r.push(n,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],i=t[r++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(lg.range(n,i))}return gt.set(e,!0)}});function xl(t,e,r){var n;let i=null;return(n=t.field($i,!1))===null||n===void 0||n.between(e,r,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function $j(t,e,r){let n=!1;return t.between(e,e,(i,o)=>{i==e&&o==r&&(n=!0)}),n}function wx(t,e){return t.field($i,!1)?e:e.concat(At.appendConfig.of($x()))}const kj=t=>{for(let e of bx(t)){let r=wl(t.state,e.from,e.to);if(r)return t.dispatch({effects:wx(t.state,[ac.of(r),xx(t,r)])}),!0}return!1},Sj=t=>{if(!t.state.field($i,!1))return!1;let e=[];for(let r of bx(t)){let n=xl(t.state,r.from,r.to);n&&e.push(Cs.of(n),xx(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function xx(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Qe.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`)}const Ej=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let i=t.lineBlockAt(n),o=wl(e,i.from,i.to);o&&r.push(ac.of(o)),n=(o?t.lineBlockAt(o.to):i).to+1}return r.length&&t.dispatch({effects:wx(t.state,r)}),!!r.length},Cj=t=>{let e=t.state.field($i,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,i)=>{r.push(Cs.of({from:n,to:i}))}),t.dispatch({effects:r}),!0},PR=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:kj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Sj},{key:"Ctrl-Alt-[",run:Ej},{key:"Ctrl-Alt-]",run:Cj}],Oj={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},_x=Pe.define({combine(t){return vo(t,Oj)}});function $x(t){return[$i,jj]}function kx(t,e){let{state:r}=t,n=r.facet(_x),i=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),l=xl(t.state,a.from,a.to);l&&t.dispatch({effects:Cs.of(l)}),s.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",r.phrase("folded code")),o.title=r.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const lg=gt.replace({widget:new class extends Mi{toDOM(t){return kx(t,null)}}});class Aj extends Mi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return kx(e,this.value)}}const Mj={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Fc extends jn{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function RR(t={}){let e=Object.assign(Object.assign({},Mj),t),r=new Fc(e,!0),n=new Fc(e,!1),i=or.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(ii)!=s.state.facet(ii)||s.startState.field($i,!1)!=s.state.field($i,!1)||fn(s.startState)!=fn(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new ei;for(let l of s.viewportLineBlocks){let c=xl(s.state,l.from,l.to)?n:wl(s.state,l.from,l.to)?r:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=e;return[i,M9({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Tt.empty},initialSpacer(){return new Fc(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=xl(s.state,a.from,a.to);if(c)return s.dispatch({effects:Cs.of(c)}),!0;let u=wl(s.state,a.from,a.to);return u?(s.dispatch({effects:ac.of(u)}),!0):!1}})}),$x()]}const jj=Qe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class lc{constructor(e,r){this.specs=e;let n;function i(a){let l=ti.newName();return(n||(n=Object.create(null)))["."+l]=a,l}const o=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,s=r.scope;this.scope=s instanceof Ur?a=>a.prop(Yi)==s.data:s?a=>a==s:void 0,this.style=dx(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=n?new ti(n):null,this.themeType=r.themeType}static define(e,r){return new lc(e,r||{})}}const ph=Pe.define(),Sx=Pe.define({combine(t){return t.length?[t[0]]:null}});function Wc(t){let e=t.facet(ph);return e.length?e:t.facet(Sx)}function DR(t,e){let r=[Pj],n;return t instanceof lc&&(t.module&&r.push(Qe.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push(Sx.of(t)):n?r.push(ph.computeN([Qe.darkTheme],i=>i.facet(Qe.darkTheme)==(n=="dark")?[t]:[])):r.push(ph.of(t)),r}class Tj{constructor(e){this.markCache=Object.create(null),this.tree=fn(e.state),this.decorations=this.buildDeco(e,Wc(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=fn(e.state),n=Wc(e.state),i=n!=Wc(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);r.length<o.to&&!i&&r.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=o.to)}buildDeco(e,r){if(!r||!this.tree.length)return gt.none;let n=new ei;for(let{from:i,to:o}of e.visibleRanges)ej(this.tree,r,(s,a,l)=>{n.add(s,a,this.markCache[l]||(this.markCache[l]=gt.mark({class:l})))},i,o);return n.finish()}}const Pj=tc.high(or.fromClass(Tj,{decorations:t=>t.decorations})),NR=lc.define([{tag:Ee.meta,color:"#404740"},{tag:Ee.link,textDecoration:"underline"},{tag:Ee.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ee.emphasis,fontStyle:"italic"},{tag:Ee.strong,fontWeight:"bold"},{tag:Ee.strikethrough,textDecoration:"line-through"},{tag:Ee.keyword,color:"#708"},{tag:[Ee.atom,Ee.bool,Ee.url,Ee.contentSeparator,Ee.labelName],color:"#219"},{tag:[Ee.literal,Ee.inserted],color:"#164"},{tag:[Ee.string,Ee.deleted],color:"#a11"},{tag:[Ee.regexp,Ee.escape,Ee.special(Ee.string)],color:"#e40"},{tag:Ee.definition(Ee.variableName),color:"#00f"},{tag:Ee.local(Ee.variableName),color:"#30a"},{tag:[Ee.typeName,Ee.namespace],color:"#085"},{tag:Ee.className,color:"#167"},{tag:[Ee.special(Ee.variableName),Ee.macroName],color:"#256"},{tag:Ee.definition(Ee.propertyName),color:"#00c"},{tag:Ee.comment,color:"#940"},{tag:Ee.invalid,color:"#f00"}]),Rj=Qe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Ex=1e4,Cx="()[]{}",Ox=Pe.define({combine(t){return vo(t,{afterCursor:!0,brackets:Cx,maxScanDistance:Ex,renderMatch:Ij})}}),Dj=gt.mark({class:"cm-matchingBracket"}),Nj=gt.mark({class:"cm-nonmatchingBracket"});function Ij(t){let e=[],r=t.matched?Dj:Nj;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const Lj=Xr.define({create(){return gt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(Ox);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Da(e.state,i.head,-1,n)||i.head>0&&Da(e.state,i.head-1,1,n)||n.afterCursor&&(Da(e.state,i.head,1,n)||i.head<e.state.doc.length&&Da(e.state,i.head+1,-1,n));o&&(r=r.concat(n.renderMatch(o,e.state)))}return gt.set(r,!0)},provide:t=>Qe.decorations.from(t)}),Bj=[Lj,Rj];function IR(t={}){return[Ox.of(t),Bj]}const zj=new at;function mh(t,e,r){let n=t.prop(e<0?at.openedBy:at.closedBy);if(n)return n;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function gh(t){let e=t.type.prop(zj);return e?e(t.node):t}function Da(t,e,r,n={}){let i=n.maxScanDistance||Ex,o=n.brackets||Cx,s=fn(t),a=s.resolveInner(e,r);for(let l=a;l;l=l.parent){let c=mh(l.type,r,o);if(c&&l.from<l.to){let u=gh(l);if(u&&(r>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Vj(t,e,r,l,u,c,o)}}return Fj(t,e,r,s,a.type,i,o)}function Vj(t,e,r,n,i,o,s){let a=n.parent,l={from:i.from,to:i.to},c=0,u=a?.cursor();if(u&&(r<0?u.childBefore(n.from):u.childAfter(n.to)))do if(r<0?u.to<=n.from:u.from>=n.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let h=gh(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(mh(u.type,r,s))c++;else if(mh(u.type,-r,s)){if(c==0){let h=gh(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(r<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Fj(t,e,r,n,i,o,s){let a=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=r>0)return null;let c={from:r<0?e-1:e,to:r>0?e+1:e},u=t.doc.iterRange(e,r>0?t.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=o;){let d=u.value;r<0&&(f+=d.length);let g=e+f*r;for(let O=r>0?0:d.length-1,$=r>0?d.length:-1;O!=$;O+=r){let P=s.indexOf(d[O]);if(!(P<0||n.resolveInner(g+O,1).type!=i))if(P%2==0==r>0)h++;else{if(h==1)return{start:c,end:{from:g+O,to:g+O+1},matched:P>>1==l>>1};h--}}r>0&&(f+=d.length)}return u.done?{start:c,matched:!1}:null}const Wj=Object.create(null),cg=[Sr.none],ug=[],hg=Object.create(null),Hj=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Hj[t]=qj(Wj,e);function Hc(t,e){ug.indexOf(t)>-1||(ug.push(t),console.warn(e))}function qj(t,e){let r=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||Ee[c];u?typeof u=="function"?l.length?l=l.map(u):Hc(c,`Modifier ${c} used at start of tag`):l.length?Hc(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Hc(c,`Unknown highlighting tag ${c}`)}for(let c of l)r.push(c)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+r.map(a=>a.id),o=hg[i];if(o)return o.id;let s=hg[i]=Sr.define({id:cg.length,name:n,props:[Q9({[n]:r})]});return cg.push(s),s.id}Mt.RTL,Mt.LTR;function Uj(t,e=t.state){const r=new Set;for(const{from:n,to:i}of t.visibleRanges){let o=n;for(;o<=i;){const s=e.doc.lineAt(o);r.has(s)||r.add(s),o=s.to+1}}return r}function vh(t){const e=t.selection.main.head;return t.doc.lineAt(e)}function fg(t,e){let r=0;e:for(let n=0;n<t.length;n++)switch(t[n]){case" ":case" ":{r+=1;continue e}case"	":{r+=e-r%e;continue e}case"\r":continue e;default:break e}return r}const _l=Pe.define({combine(t){return vo(t,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class Kj{constructor(e,r,n,i){this.lines=e,this.state=r,this.map=new Map,this.unitWidth=n,this.markerType=i;for(const o of this.lines)this.add(o);this.state.facet(_l).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const r=this.map.get(typeof e=="number"?e:e.number);if(!r)throw new Error("Line not found in indentation map");return r}set(e,r,n){const i=!e.text.trim().length,o={line:e,col:r,level:n,empty:i};return this.map.set(o.line.number,o),o}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const s=this.closestNonEmpty(e,-1);return this.set(e,0,s.level)}const i=this.closestNonEmpty(e,-1),o=this.closestNonEmpty(e,1);return i.level>=o.level&&this.markerType!=="codeOnly"?this.set(e,0,i.level):i.empty&&i.level===0&&o.level!==0?this.set(e,0,0):o.level>i.level?this.set(e,0,i.level+1):this.set(e,0,o.level)}const r=fg(e.text,this.state.tabSize),n=Math.floor(r/this.unitWidth);return this.set(e,r,n)}closestNonEmpty(e,r){let n=e.number+r;for(;r===-1?n>=1:n<=this.state.doc.lines;){if(this.has(n)){const s=this.get(n);if(!s.empty)return s}const o=this.state.doc.line(n);if(o.text.trim().length){const s=fg(o.text,this.state.tabSize),a=Math.floor(s/this.unitWidth);return this.set(o,s,a)}n+=r}const i=this.state.doc.line(r===-1?1:this.state.doc.lines);return this.set(i,0,0)}findAndSetActiveLines(){const e=vh(this.state);if(!this.has(e))return;let r=this.get(e);if(this.has(r.line.number+1)){const o=this.get(r.line.number+1);o.level>r.level&&(r=o)}if(this.has(r.line.number-1)){const o=this.get(r.line.number-1);o.level>r.level&&(r=o)}if(r.level===0)return;r.active=r.level;let n,i;for(n=r.line.number;n>1;n--){if(!this.has(n-1))continue;const o=this.get(n-1);if(o.level<r.level)break;o.active=r.level}for(i=r.line.number;i<this.state.doc.lines;i++){if(!this.has(i+1))continue;const o=this.get(i+1);if(o.level<r.level)break;o.active=r.level}}}function Jj(t){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let r=e;return t&&(r=Object.assign(Object.assign({},e),t)),Qe.baseTheme({"&light":{"--indent-marker-bg-color":r.light,"--indent-marker-active-bg-color":r.activeLight},"&dark":{"--indent-marker-bg-color":r.dark,"--indent-marker-active-bg-color":r.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function Na(t,e,r,n,i){return`${`repeating-linear-gradient(to right, var(${t}) 0 ${e}px, transparent ${e}px ${r}ch)`} ${n*r}.5ch/calc(${r*i}ch - 1px) no-repeat`}function Gj(t,e,r,n,i){const{level:o,active:s}=t;if(i=i??n,r&&o===0)return[];const a=r?1:0,l=[];if(s!==void 0){const c=s-a-1;c>0&&l.push(Na("--indent-marker-bg-color",n,e,a,c)),l.push(Na("--indent-marker-active-bg-color",i,e,s-1,1)),s!==o&&l.push(Na("--indent-marker-bg-color",n,e,s,o-s))}else l.push(Na("--indent-marker-bg-color",n,e,a,o-a));return l.join(",")}class Yj{constructor(e){this.view=e,this.unitWidth=dh(e.state),this.currentLineNumber=vh(e.state).number,this.generate(e.state)}update(e){const r=dh(e.state),n=r!==this.unitWidth;n&&(this.unitWidth=r);const i=vh(e.state).number,o=i!==this.currentLineNumber;this.currentLineNumber=i;const s=e.state.facet(_l).highlightActiveBlock&&o;(e.docChanged||e.viewportChanged||n||s)&&this.generate(e.state)}generate(e){const r=new ei,n=Uj(this.view,e),{hideFirstIndent:i,markerType:o,thickness:s,activeThickness:a}=e.facet(_l),l=new Kj(n,e,this.unitWidth,o);for(const c of n){const u=l.get(c.number);if(!(u!=null&&u.level))continue;const h=Gj(u,this.unitWidth,i,s,a);r.add(c.from,c.from,gt.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${h}`}}))}this.decorations=r.finish()}}function LR(t={}){return[_l.of(t),Jj(t.colors),or.fromClass(Yj,{decorations:e=>e.decorations})]}function cc(t){return Array.isArray(t)}function uc(t){return t!==null&&typeof t=="object"&&(t.constructor===void 0||t.constructor.name==="Object")}function BR(t){return t&&typeof t=="object"?t.op==="add":!1}function zR(t){return t&&typeof t=="object"?t.op==="remove":!1}function VR(t){return t&&typeof t=="object"?t.op==="replace":!1}function FR(t){return t&&typeof t=="object"?t.op==="copy":!1}function WR(t){return t&&typeof t=="object"?t.op==="move":!1}function Xj(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Qj(t,e){return t===e}function Ax(t){return t.slice(0,t.length-1)}function Zj(t){return t[t.length-1]}function eT(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qj;if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(!r(t[n],e[n]))return!1;return!0}function Mx(t){return typeof t=="object"&&t!==null}function Hf(t){if(cc(t)){const e=t.slice();return Object.getOwnPropertySymbols(t).forEach(r=>{e[r]=t[r]}),e}else if(uc(t)){const e={...t};return Object.getOwnPropertySymbols(t).forEach(r=>{e[r]=t[r]}),e}else return t}function qf(t,e,r){if(t[e]===r)return t;{const n=Hf(t);return n[e]=r,n}}function oi(t,e){let r=t,n=0;for(;n<e.length;)uc(r)?r=r[e[n]]:cc(r)?r=r[parseInt(e[n])]:r=void 0,n++;return r}function Os(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return r;const i=e[0],o=Os(t?t[i]:void 0,e.slice(1),r,n);if(uc(t)||cc(t))return qf(t,i,o);if(n){const s=tT.test(i)?[]:{};return s[i]=o,s}else throw new Error("Path does not exist")}const tT=/^\d+$/;function jx(t,e,r){if(e.length===0)return r(t);if(!Mx(t))throw new Error("Path doesn't exist");const n=e[0],i=jx(t[n],e.slice(1),r);return qf(t,n,i)}function Uf(t,e){if(e.length===0)return t;if(!Mx(t))throw new Error("Path does not exist");if(e.length===1){const i=e[0];if(i in t){const o=Hf(t);return cc(o)&&o.splice(parseInt(i),1),uc(o)&&delete o[i],o}else return t}const r=e[0],n=Uf(t[r],e.slice(1));return qf(t,r,n)}function Kf(t,e,r){const n=e.slice(0,e.length-1),i=e[e.length-1];return jx(t,n,o=>{if(!Array.isArray(o))throw new TypeError("Array expected at path "+JSON.stringify(n));const s=Hf(o);return s.splice(parseInt(i),0,r),s})}function hc(t,e){return t===void 0?!1:e.length===0?!0:t===null?!1:hc(t[e[0]],e.slice(1))}function Tx(t){const e=t.split("/");return e.shift(),e.map(r=>r.replace(/~1/g,"/").replace(/~0/g,"~"))}function Cn(t){return t.map(Px).join("")}function Px(t){return"/"+String(t).replace(/~/g,"~0").replace(/\//g,"~1")}function HR(t,e){return t+Px(e)}function rT(t,e,r){let n=t;for(let i=0;i<e.length;i++){uT(e[i]);let o=e[i];if(r&&r.before){const l=r.before(n,o);if(l!==void 0){if(l.document!==void 0&&(n=l.document),l.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');l.operation!==void 0&&(o=l.operation)}}const s=n,a=Rx(n,o.path);if(o.op==="add")n=oT(n,a,o.value);else if(o.op==="remove")n=iT(n,a);else if(o.op==="replace")n=nT(n,a,o.value);else if(o.op==="copy")n=sT(n,a,yh(o.from));else if(o.op==="move")n=aT(n,a,yh(o.from));else if(o.op==="test")lT(n,a,o.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(o));if(r&&r.after){const l=r.after(n,o,s);l!==void 0&&(n=l)}}return n}function nT(t,e,r){return Os(t,e,r)}function iT(t,e){return Uf(t,e)}function oT(t,e,r){return As(t,e)?Kf(t,e,r):Os(t,e,r)}function sT(t,e,r){const n=oi(t,r);if(As(t,e))return Kf(t,e,n);{const i=oi(t,r);return Os(t,e,i)}}function aT(t,e,r){const n=oi(t,r),i=Uf(t,r);return As(i,e)?Kf(i,e,n):Os(i,e,n)}function lT(t,e,r){if(r===void 0)throw new Error(`Test failed: no value provided (path: "${Cn(e)}")`);if(!hc(t,e))throw new Error(`Test failed: path not found (path: "${Cn(e)}")`);const n=oi(t,e);if(!Xj(n,r))throw new Error(`Test failed, value differs (path: "${Cn(e)}")`)}function As(t,e){if(e.length===0)return!1;const r=oi(t,Ax(e));return Array.isArray(r)}function cT(t,e){if(Zj(e)!=="-")return e;const r=Ax(e),n=oi(t,r);return r.concat(n.length)}function uT(t){if(!["add","remove","replace","copy","move","test"].includes(t.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(t.op));if(typeof t.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(t));if((t.op==="copy"||t.op==="move")&&typeof t.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(t))}function Rx(t,e){return cT(t,Tx(e))}function yh(t){return Tx(t)}function qR(t,e,r){let n=[];return rT(t,e,{before:(i,o)=>{let s;const a=Rx(i,o.path);if(o.op==="add")s=Ix(i,a);else if(o.op==="remove")s=Nx(i,a);else if(o.op==="replace")s=Dx(i,a);else if(o.op==="copy")s=hT(i,a);else if(o.op==="move")s=fT(i,a,yh(o.from));else if(o.op==="test")s=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(o));let l;if(r&&r.before){const c=r.before(i,o,s);if(c&&c.revertOperations&&(s=c.revertOperations),c&&c.document&&(l=c.document),c&&c.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(n=s.concat(n),l!==void 0)return{document:l}}}),n}function Dx(t,e){return[{op:"replace",path:Cn(e),value:oi(t,e)}]}function Nx(t,e){return[{op:"add",path:Cn(e),value:oi(t,e)}]}function Ix(t,e){return As(t,e)||!hc(t,e)?[{op:"remove",path:Cn(e)}]:Dx(t,e)}function hT(t,e){return Ix(t,e)}function fT(t,e,r){if(e.length<r.length&&eT(r,e))return[{op:"replace",path:Cn(e),value:t}];const n={op:"move",from:Cn(e),path:Cn(r)};return!As(t,e)&&hc(t,e)?[n,...Nx(t,e)]:[n]}let qi=class extends Error{constructor(e,r){super("".concat(e," at position ").concat(r)),this.position=r}};const Lx=32,dT=10,Bx=9,zx=13,pT=160,mT=8192,gT=8202,vT=8239,yT=8287,bT=12288;function wT(t){return/^[0-9A-Fa-f]$/.test(t)}function di(t){return t>="0"&&t<="9"}function xT(t){return t>=" "}function Ia(t){return`,:[]/{}()
+`.includes(t)}function dg(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_"||t==="$"}function pg(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_"||t==="$"||t>="0"&&t<="9"}const mg=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,gg=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function vg(t){return`,[]/{}
+`.includes(t)}function yg(t){return tl(t)||_T.test(t)}const _T=/^[[{\w-]$/;function $T(t){return t===`
`||t==="\r"||t==="	"||t==="\b"||t==="\f"}function vi(t,e){const r=t.charCodeAt(e);return r===Lx||r===dT||r===Bx||r===zx}function kT(t,e){const r=t.charCodeAt(e);return r===Lx||r===Bx||r===zx}function ST(t,e){const r=t.charCodeAt(e);return r===pT||r>=mT&&r<=gT||r===vT||r===yT||r===bT}function tl(t){return Vx(t)||bh(t)}function Vx(t){return t==='"'||t==="“"||t==="”"}function bg(t){return t==='"'}function bh(t){return t==="'"||t==="‘"||t==="’"||t==="`"||t==="´"}function wg(t){return t==="'"}function No(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=t.lastIndexOf(e);return n!==-1?t.substring(0,n)+(r?"":t.substring(n+1)):t}function zr(t,e){let r=t.length;if(!vi(t,r-1))return t+e;for(;vi(t,r-1);)r--;return t.substring(0,r)+e+t.substring(r)}function ET(t,e,r){return t.substring(0,e)+t.substring(e+r)}function CT(t){return/[,\n][ \t\r]*$/.test(t)}const OT={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},AT={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function KR(t){let e=0,r="";l(),i()||be(),l();const n=c(",");for(n&&o(),yg(t[e])&&CT(r)?(n||(r=zr(r,",")),O()):n&&(r=No(r,","));t[e]==="}"||t[e]==="]";)e++,o();if(e>=t.length)return r;De();function i(){o();const ge=d()||g()||$()||Y()||ne()||X(!1)||se();return o(),ge}function o(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const Ce=e;let Fe=s(ge);do Fe=a(),Fe&&(Fe=s(ge));while(Fe);return e>Ce}function s(ge){const Ce=ge?vi:kT;let Fe="";for(;;)if(Ce(t,e))Fe+=t[e],e++;else if(ST(t,e))Fe+=" ",e++;else break;return Fe.length>0?(r+=Fe,!0):!1}function a(){if(t[e]==="/"&&t[e+1]==="*"){for(;e<t.length&&!MT(t,e);)e++;return e+=2,!0}if(t[e]==="/"&&t[e+1]==="/"){for(;e<t.length&&t[e]!==`
`;)e++;return!0}return!1}function l(){if(t.slice(e,e+3)==="```"){if(e+=3,dg(t[e]))for(;e<t.length&&pg(t[e]);)e++;return o(),!0}return!1}function c(ge){return t[e]===ge?(r+=t[e],e++,!0):!1}function u(ge){return t[e]===ge?(e++,!0):!1}function h(){return u("\\")}function f(){return o(),t[e]==="."&&t[e+1]==="."&&t[e+2]==="."?(e+=3,o(),u(","),!0):!1}function d(){if(t[e]==="{"){r+="{",e++,o(),u(",")&&o();let ge=!0;for(;e<t.length&&t[e]!=="}";){let Ce;if(ge?(Ce=!0,ge=!1):(Ce=c(","),Ce||(r=zr(r,",")),o()),f(),!($()||X(!0))){t[e]==="}"||t[e]==="{"||t[e]==="]"||t[e]==="["||t[e]===void 0?r=No(r,","):je();break}o();const Fe=c(":"),J=e>=t.length;Fe||(yg(t[e])||J?r=zr(r,":"):ze()),i()||(Fe||J?r+="null":ze())}return t[e]==="}"?(r+="}",e++):r=zr(r,"}"),!0}return!1}function g(){if(t[e]==="["){r+="[",e++,o(),u(",")&&o();let ge=!0;for(;e<t.length&&t[e]!=="]";)if(ge?ge=!1:c(",")||(r=zr(r,",")),f(),!i()){r=No(r,",");break}return t[e]==="]"?(r+="]",e++):r=zr(r,"]"),!0}return!1}function O(){let ge=!0,Ce=!0;for(;Ce;)ge?ge=!1:c(",")||(r=zr(r,",")),Ce=i();Ce||(r=No(r,",")),r=`[
`.concat(r,`
]`)}function $(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,Fe=t[e]==="\\";if(Fe&&(e++,Fe=!0),tl(t[e])){const J=bg(t[e])?bg:wg(t[e])?wg:bh(t[e])?bh:Vx,de=e,me=r.length;let ye='"';for(e++;;){if(e>=t.length){const ce=Z(e-1);return!ge&&Ia(t.charAt(ce))?(e=de,r=r.substring(0,me),$(!0)):(ye=zr(ye,'"'),r+=ye,!0)}else{if(e===Ce)return ye=zr(ye,'"'),r+=ye,!0;if(J(t[e])){const ce=e,xe=ye.length;if(ye+='"',e++,r+=ye,o(!1),ge||e>=t.length||Ia(t[e])||tl(t[e])||di(t[e]))return P(),!0;const Ie=Z(ce-1),qe=t.charAt(Ie);if(qe===",")return e=de,r=r.substring(0,me),$(!1,Ie);if(Ia(qe))return e=de,r=r.substring(0,me),$(!0);r=r.substring(0,me),e=ce+1,ye="".concat(ye.substring(0,xe),"\\").concat(ye.substring(xe))}else if(ge&&vg(t[e])){if(t[e-1]===":"&&mg.test(t.substring(de+1,e+2)))for(;e<t.length&&gg.test(t[e]);)ye+=t[e],e++;return ye=zr(ye,'"'),r+=ye,P(),!0}else if(t[e]==="\\"){const ce=t.charAt(e+1);if(AT[ce]!==void 0)ye+=t.slice(e,e+2),e+=2;else if(ce==="u"){let xe=2;for(;xe<6&&wT(t[e+xe]);)xe++;xe===6?(ye+=t.slice(e,e+6),e+=6):e+xe>=t.length?e=t.length:Te()}else ye+=ce,e+=2}else{const ce=t.charAt(e);ce==='"'&&t[e-1]!=="\\"?(ye+="\\".concat(ce),e++):$T(ce)?(ye+=OT[ce],e++):(xT(ce)||Ke(ce),ye+=ce,e++)}}Fe&&h()}}return!1}function P(){let ge=!1;for(o();t[e]==="+";){ge=!0,e++,o(),r=No(r,'"',!0);const Ce=r.length;$()?r=ET(r,Ce,1):r=zr(r,'"')}return ge}function Y(){const ge=e;if(t[e]==="-"){if(e++,le())return $e(ge),!0;if(!di(t[e]))return e=ge,!1}for(;di(t[e]);)e++;if(t[e]==="."){if(e++,le())return $e(ge),!0;if(!di(t[e]))return e=ge,!1;for(;di(t[e]);)e++}if(t[e]==="e"||t[e]==="E"){if(e++,(t[e]==="-"||t[e]==="+")&&e++,le())return $e(ge),!0;if(!di(t[e]))return e=ge,!1;for(;di(t[e]);)e++}if(!le())return e=ge,!1;if(e>ge){const Ce=t.slice(ge,e),Fe=/^0\d/.test(Ce);return r+=Fe?'"'.concat(Ce,'"'):Ce,!0}return!1}function ne(){return G("true","true")||G("false","false")||G("null","null")||G("True","true")||G("False","false")||G("None","null")}function G(ge,Ce){return t.slice(e,e+ge.length)===ge?(r+=Ce,e+=ge.length,!0):!1}function X(ge){const Ce=e;if(dg(t[e])){for(;e<t.length&&pg(t[e]);)e++;let Fe=e;for(;vi(t,Fe);)Fe++;if(t[Fe]==="(")return e=Fe+1,i(),t[e]===")"&&(e++,t[e]===";"&&e++),!0}for(;e<t.length&&!vg(t[e])&&!tl(t[e])&&(!ge||t[e]!==":");)e++;if(t[e-1]===":"&&mg.test(t.substring(Ce,e+2)))for(;e<t.length&&gg.test(t[e]);)e++;if(e>Ce){for(;vi(t,e-1)&&e>0;)e--;const Fe=t.slice(Ce,e);return r+=Fe==="undefined"?"null":JSON.stringify(Fe),t[e]==='"'&&e++,!0}}function se(){if(t[e]==="/"){const ge=e;for(e++;e<t.length&&(t[e]!=="/"||t[e-1]==="\\");)e++;return e++,r+='"'.concat(t.substring(ge,e),'"'),!0}}function Z(ge){let Ce=ge;for(;Ce>0&&vi(t,Ce);)Ce--;return Ce}function le(){return e>=t.length||Ia(t[e])||vi(t,e)}function $e(ge){r+="".concat(t.slice(ge,e),"0")}function Ke(ge){throw new qi("Invalid character ".concat(JSON.stringify(ge)),e)}function De(){throw new qi("Unexpected character ".concat(JSON.stringify(t[e])),e)}function be(){throw new qi("Unexpected end of json string",t.length)}function je(){throw new qi("Object key expected",e)}function ze(){throw new qi("Colon expected",e)}function Te(){const ge=t.slice(e,e+6);throw new qi('Invalid unicode character "'.concat(ge,'"'),e)}}function MT(t,e){return t[e]==="*"&&t[e+1]==="/"}const jT=t=>window?.document.querySelector(t),TT=t=>window?.document.createElement(t),PT=Object.freeze(Object.defineProperty({__proto__:null,createElement:TT,getElement:jT},Symbol.toStringTag,{value:"Module"})),Fx=(t,e)=>{if(window!=null&&window.document.getElementById(t))return;const r=window?.document.getElementsByTagName("head")[0],n=window?.document.createElement("style");n.setAttribute("id",t),n.textContent=e,r.appendChild(n)},RT=async()=>{const{fullWidthButton:t}=await Wr(async()=>{const{fullWidthButton:e}=await Promise.resolve().then(()=>qx);return{fullWidthButton:e}},void 0);Fx("full-width-button",t)},DT=async()=>{const{darkTheme:t}=await Wr(async()=>{const{darkTheme:e}=await Promise.resolve().then(()=>qx);return{darkTheme:e}},void 0);Fx("dark-theme",t)},xg=Object.freeze(Object.defineProperty({__proto__:null,setDarkThemeStyle:DT,setFullWidthButtonStyle:RT},Symbol.toStringTag,{value:"Module"})),{defineComponent:NT,inject:IT,ref:pi,computed:La,reactive:LT,watch:Ba,onMounted:BT,nextTick:_g,onBeforeUnmount:zT,createElementBlock:VT,openBlock:FT,withModifiers:WT,normalizeStyle:HT,normalizeClass:qT,renderSlot:UT,createCommentVNode:KT}=await L_("vue"),JT=["selection","mainMenuBar","navigationBar","statusBar","askToFormat","readOnly","indentation","tabSize","escapeControlCharacters","escapeUnicodeCharacters","flattenColumns","validator","onClassName","onRenderValue","onRenderMenu"],GT=["selection","mode","mainMenuBar","navigationBar","statusBar","askToFormat","readOnly","indentation","tabSize","escapeControlCharacters","escapeUnicodeCharacters","flattenColumns","validator","parser","validationParser","pathParser","onClassName","onRenderValue","onRenderMenu"],YT=(t={},e)=>{const r={};for(const n of GT){const i=e[n]!==void 0?e[n]:t[n];i!==void 0&&(r[n]=i)}return r},XT=`
  <svg 
    class="fa-icon svelte-1dof0an" 
    viewBox="0 0 1024 1024" 
    version="1.1"
     xmlns="http://www.w3.org/2000/svg" 
     p-id="1927" xmlns:xlink="http://www.w3.org/1999/xlink" 
     width="24" 
     height="24"
  >
    <path d="M63.989383 105.442494l0 268.396843c0 18.935258 15.368012 34.304294 34.304294 34.304294 18.936281 0 34.304294-15.369036 34.304294-34.304294L132.597971 180.156126l218.107483 218.176045c12.82919 12.830213 33.618679 12.830213 46.515407 0 12.830213-12.897751 12.830213-33.686217 0-46.51643l-218.176045-218.107483 193.683211 0c18.935258 0 34.304294-15.369036 34.304294-34.304294 0-18.935258-15.369036-34.304294-34.304294-34.304294L104.331183 65.09967C79.288834 65.09967 63.989383 77.999468 63.989383 105.442494L63.989383 105.442494z" p-id="1928" fill="#e6e6e6"></path><path d="M917.688719 65.09967 649.290853 65.09967c-18.935258 0-34.304294 15.369036-34.304294 34.304294 0 18.936281 15.369036 34.304294 34.304294 34.304294l193.683211 0-218.176045 218.107483c-12.830213 12.82919-12.830213 33.618679 0 46.51643 12.897751 12.830213 33.686217 12.830213 46.515407 0L889.420909 180.156126l0 193.683211c0 18.935258 15.369036 34.304294 34.304294 34.304294 18.936281 0 34.304294-15.369036 34.304294-34.304294L958.029496 105.442494C958.029496 77.999468 942.79963 65.09967 917.688719 65.09967L917.688719 65.09967z" p-id="1929" fill="#e6e6e6"></path>
    <path d="M104.331183 957.013353l268.397866 0c18.935258 0 34.304294-15.368012 34.304294-34.304294 0-18.936281-15.369036-34.304294-34.304294-34.304294L179.045839 888.404766l218.176045-218.107483c12.830213-12.82919 12.830213-33.618679 0-46.515407-12.897751-12.830213-33.686217-12.830213-46.515407 0l-218.107483 218.176045L132.598994 648.27471c0-18.935258-15.368012-34.304294-34.304294-34.304294-18.936281 0-34.304294 15.369036-34.304294 34.304294l0 268.397866C63.989383 944.115602 79.288834 957.013353 104.331183 957.013353L104.331183 957.013353z" p-id="1930" fill="#e6e6e6"></path>
    <path d="M958.029496 916.671553 958.029496 648.27471c0-18.935258-15.368012-34.304294-34.304294-34.304294-18.935258 0-34.304294 15.369036-34.304294 34.304294l0 193.683211L671.313425 623.781876c-12.82919-12.830213-33.618679-12.830213-46.515407 0-12.830213 12.897751-12.830213 33.686217 0 46.515407l218.176045 218.107483L649.290853 888.404766c-18.935258 0-34.304294 15.368012-34.304294 34.304294 0 18.936281 15.369036 34.304294 34.304294 34.304294l268.397866 0C942.79963 957.013353 958.029496 944.115602 958.029496 916.671553L958.029496 916.671553z" p-id="1931" fill="#e6e6e6"></path>
  </svg>
`,Ui=(t,e,r=!1)=>{const n=t&&typeof t[e]<"u";return!n&&r&&console.warn("Typeguard warn!!! The object has no property: ",e),n},QT=NT({name:"JsonEditor",props:{modelValue:[Object,Array,Number,String,Boolean,String,null],value:{type:[Object,Array,Number,String,Boolean,String,null],default:void 0},json:{type:[Object,Array,Number,String,Boolean,null],default:void 0},text:String,jsonString:String,selection:{type:Object,default:void 0},mode:{type:String,default:"tree"},mainMenuBar:{type:Boolean,default:void 0},navigationBar:{type:Boolean,default:void 0},statusBar:{type:Boolean,default:void 0},askToFormat:{type:Boolean,default:void 0},readOnly:{type:Boolean,default:void 0},indentation:[String,Number],tabSize:Number,escapeControlCharacters:{type:Boolean,default:void 0},escapeUnicodeCharacters:{type:Boolean,default:void 0},flattenColumns:{type:Boolean,default:void 0},validator:Function,parser:Object,validationParser:Object,pathParser:Object,queryLanguagesIds:Array,queryLanguageId:String,onClassName:Function,onRenderValue:Function,onRenderMenu:Function,height:[String,Number],fullWidthButton:{type:Boolean,default:void 0},darkTheme:{type:Boolean,default:void 0}},emits:["update:modelValue","update:json","update:text","update:jsonString","update:selection","change","error","change-mode","update:mode","change-query-language","focus","blur"],setup(t,{expose:e,emit:r}){const n=IT("jsonEditorOptions",{}),i=pi(),o=pi(null),s=pi(!1),a=pi(!1),l=pi("tree"),c=pi(null),u=La(()=>{const J=t.height||n?.height;return J&&!s.value?{height:J+"px"}:{}}),h=La(()=>t.darkTheme||n?.darkTheme),f=La(()=>t.queryLanguagesIds||n?.queryLanguagesIds),d=La(()=>t.queryLanguageId||n?.queryLanguageId),g=LT({}),O=async()=>{var J;if(typeof window>"u"||typeof f.value>"u"||!((J=f.value)!=null&&J.length))return;for(const me of f.value)if(!g[me])switch(me){case"javascript":{const{javascriptQueryLanguage:ye}=await Wr(async()=>{const{javascriptQueryLanguage:ce}=await import("./jsoneditor-BJ7iDtct.js").then(xe=>xe.v);return{javascriptQueryLanguage:ce}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));g[me]=ye;break}case"lodash":{const{lodashQueryLanguage:ye}=await Wr(async()=>{const{lodashQueryLanguage:ce}=await import("./jsoneditor-BJ7iDtct.js").then(xe=>xe.v);return{lodashQueryLanguage:ce}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));g[me]=ye;break}case"jmespath":{const{jmespathQueryLanguage:ye}=await Wr(async()=>{const{jmespathQueryLanguage:ce}=await import("./jsoneditor-BJ7iDtct.js").then(xe=>xe.v);return{jmespathQueryLanguage:ce}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));g[me]=ye;break}case"jsonquery":{const{jsonQueryLanguage:ye}=await Wr(async()=>{const{jsonQueryLanguage:ce}=await import("./jsoneditor-BJ7iDtct.js").then(xe=>xe.v);return{jsonQueryLanguage:ce}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));g[me]=ye;break}case"jsonpath":{const{jsonpathQueryLanguage:ye}=await Wr(async()=>{const{jsonpathQueryLanguage:ce}=await import("./jsoneditor-BJ7iDtct.js").then(xe=>xe.v);return{jsonpathQueryLanguage:ce}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));g[me]=ye;break}}const de=Object.values(g);if(de.length!==0)return de},$=()=>{o.value&&(o.value.removeEventListener("click",Y),o.value=null)},P=async()=>{if(typeof window>"u")return;const{getElement:J,createElement:de}=await Wr(async()=>{const{getElement:qe,createElement:vt}=await Promise.resolve().then(()=>PT);return{getElement:qe,createElement:vt}},void 0),{setFullWidthButtonStyle:me}=await Wr(async()=>{const{setFullWidthButtonStyle:qe}=await Promise.resolve().then(()=>xg);return{setFullWidthButtonStyle:qe}},void 0);await me();const ye=J(".jse-full-width"),ce=n?.fullWidthButton!==void 0?n?.fullWidthButton:!0;if(!(t.fullWidthButton!==void 0?t.fullWidthButton:ce)||ye)return;o.value&&$();const xe=J(".jse-menu"),Ie=Array.from(xe.classList).find(qe=>qe.startsWith("svelte-"));o.value=de("button"),o.value.classList.add("jse-full-width"),o.value.classList.add("jse-button"),o.value.classList.add(Ie),o.value.innerHTML+=XT,xe.appendChild(o.value),o.value.addEventListener("click",Y)},Y=()=>{var J,de;s.value=!s.value,s.value?(J=o.value)==null||J.classList.add("jse-full-width--active"):(de=o.value)==null||de.classList.remove("jse-full-width--active")},ne=(J,de,me)=>{if(a.value){setTimeout(()=>{a.value=!1});return}a.value=!0,Ui(J,"json")&&(r("update:json",J.json),r("update:modelValue",J.json)),Ui(J,"text")&&(r("update:text",J.text),r("update:jsonString",J.text),r("update:modelValue",J.text)),r("change",J,de,me),setTimeout(()=>{a.value=!1})},G=J=>{r("error",J)},X=J=>{l.value=J,r("change-mode",J),r("update:mode",J)},se=J=>{r("change-query-language",J)},Z=()=>{r("focus")},le=()=>{r("blur")},$e=J=>{r("update:selection",J)},Ke=(J,de)=>(_g(()=>{P()}),typeof t.onRenderMenu=="function"?t.onRenderMenu(J,de):J),De=async()=>{const J={fullWidthButton:!0,...n||{}},de=await O();return{...YT(J,t),queryLanguages:de,queryLanguageId:d.value,onChange:ne,onError:G,onChangeMode:X,onChangeQueryLanguage:se,onFocus:Z,onBlur:le,onRenderMenu:Ke,onSelect:$e}},be=pi(!0),je=()=>{const J=(ye={})=>ye===null||typeof ye>"u"||typeof ye=="number"||typeof ye=="bigint"||typeof ye=="string"||typeof ye=="boolean"?{json:ye}:Array.isArray(ye)?{json:[...ye]}:{json:{...ye}},de=(ye="")=>({text:ye||""}),me=t.modelValue||t.value;return me?l.value==="text"&&typeof me=="string"?de(me):J(me):typeof t.json<"u"?J(t.json):typeof t.text<"u"?de(t.text):typeof t.jsonString<"u"?de(t.jsonString):de()},ze=async()=>{if(!(typeof window>"u")){if(!c.value){const J=await De(),{createJSONEditor:de}=await Wr(async()=>{const{createJSONEditor:ye}=await import("./jsoneditor-BJ7iDtct.js").then(ce=>ce.v);return{createJSONEditor:ye}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]));be.value=!1,c.value=de({target:i.value,props:J});const me=je();c.value.set(me),setTimeout(()=>{a.value=!1},0)}c.value.focus()}},Te=async()=>{var J;const de=await De();(J=c.value)==null||J.updateProps(de)},ge=()=>{var J,de;if(a.value)return;const me=je(),ye=(J=c.value)==null?void 0:J.get();let ce=!1;if(Ui(me,"text")&&Ui(ye,"text"))ce=me.text===ye.text;else if(Ui(me,"json")&&Ui(ye,"json"))ce=JSON.stringify(me.json)===JSON.stringify(ye.json);else{const xe=JSON.stringify(me),Ie=JSON.stringify(ye);ce=xe===Ie}ce||(a.value=!0,(de=c.value)==null||de.update(me),setTimeout(()=>{a.value=!1}))},Ce=()=>{c.value&&(c.value.destroy(),c.value=null),$()};Ba([...JT.map(J=>()=>t[J])],Te,{deep:!0});const Fe=()=>{a.value&&setTimeout(()=>{a.value=!1},10)};return Ba([()=>t.modelValue,()=>t.value,()=>t.json,()=>t.text,()=>t.jsonString],()=>{ge(),Fe()},{deep:!0}),Ba(()=>t.mode,J=>{J!==l.value&&(l.value=J,Te())}),Ba(()=>h.value,async J=>{if(J){const{setDarkThemeStyle:de}=await Wr(async()=>{const{setDarkThemeStyle:me}=await Promise.resolve().then(()=>xg);return{setDarkThemeStyle:me}},void 0);await de()}},{immediate:!0}),BT(()=>{_g(()=>{ze()})}),zT(()=>{Ce()}),e({$collapseAll(){var J;l.value==="tree"&&((J=c.value)==null||J.collapse([],!0))},$expandAll(){var J;l.value==="tree"&&((J=c.value)==null||J.expand([]))},$expand(J,de){var me,ye;typeof J=="function"?((me=c.value)==null||me.expand([],J),console.warn("In new API you must pass the path before the callback!!! Backwards compatibility is deprecated and will be discontinued in the future")):(ye=c.value)==null||ye.expand(J,de)},$get(){var J;return(J=c.value)==null?void 0:J.get()},$set(J){var de;(de=c.value)==null||de.set(J)},$update(J){var de;(de=c.value)==null||de.update(J)},$updateProps(J){var de;(de=c.value)==null||de.updateProps(J)},async $refresh(){var J;await((J=c.value)==null?void 0:J.refresh())},$focus(){var J;(J=c.value)==null||J.focus()},async $destroy(){var J;await((J=c.value)==null?void 0:J.destroy())},$patch(J){var de;return(de=c.value)==null?void 0:de.patch(J)},$transform(J){var de;(de=c.value)==null||de.transform(J)},async $scrollTo(J){var de;await((de=c.value)==null?void 0:de.scrollTo(J))},$findElement(J){var de;return(de=c.value)==null?void 0:de.findElement(J)},$acceptAutoRepair(){var J;return(J=c.value)==null?void 0:J.acceptAutoRepair()},$validate(){var J;return(J=c.value)==null?void 0:J.validate()}}),{max:s,getHeight:u,container:i,darkThemeStyle:h,fallbackSlot:be}}}),ZT=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};function eP(t,e,r,n,i,o){return FT(),VT("div",{class:qT(["vue-ts-json-editor",{"vue-ts-json-editor--max-box":t.max,"jse-theme-dark":t.darkThemeStyle}]),style:HT(t.getHeight),ref:"container",onKeydown:e[0]||(e[0]=WT(()=>{},["stop"]))},[t.fallbackSlot?UT(t.$slots,"default",{key:0}):KT("",!0)],38)}const Jf=ZT(QT,[["render",eP]]);Jf.install=()=>{console.error(`Default import not working!!! Use "import {JsonEditorPlugin} from 'vue3-ts-jsoneditor';"`)};const tP={install(t,e={}){t.config.globalProperties.$_vue3TsJsoneditor||(t.config.globalProperties.$_vue3TsJsoneditor=!0,t.component(e.componentName||"JsonEditor",Jf),t.provide("jsonEditorOptions",e.options))}},JR=Object.freeze(Object.defineProperty({__proto__:null,JsonEditorPlugin:tP,default:Jf,renderJSONSchemaEnum:N_,renderValue:I_},Symbol.toStringTag,{value:"Module"}));/*!
 * vanilla-picker v2.12.3
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var Gf=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Yf=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})(),za=(function(){function t(e,r){var n=[],i=!0,o=!1,s=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(c){o=!0,s=c}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0};String.prototype.padStart=String.prototype.padStart||function(t,e){for(var r=this;r.length<t;)r=e+r;return r};var rP={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function $g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return r||"0"}var nP=(function(){function t(e,r,n,i){Gf(this,t);var o=this;function s(l){if(l.startsWith("hsl")){var c=l.match(/([\-\d\.e]+)/g).map(Number),u=za(c,4),h=u[0],f=u[1],d=u[2],g=u[3];g===void 0&&(g=1),h/=360,f/=100,d/=100,o.hsla=[h,f,d,g]}else if(l.startsWith("rgb")){var O=l.match(/([\-\d\.e]+)/g).map(Number),$=za(O,4),P=$[0],Y=$[1],ne=$[2],G=$[3];G===void 0&&(G=1),o.rgba=[P,Y,ne,G]}else l.startsWith("#")?o.rgba=t.hexToRgb(l):o.rgba=t.nameToRgb(l)||t.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(n===void 0){var a=e&&""+e;a&&s(a.toLowerCase())}else this.rgba=[e,r,n,i===void 0?1:i]}return Yf(t,[{key:"printRGB",value:function(e){var r=e?this.rgba:this.rgba.slice(0,3),n=r.map(function(i,o){return $g(i,o===3?3:0)});return e?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(e){var r=[360,100,100,1],n=["","%","%",""],i=e?this.hsla:this.hsla.slice(0,3),o=i.map(function(s,a){return $g(s*r[a],a===3?3:1)+n[a]});return e?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(e){var r=this.hex;return e?r:r.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba,r=e.map(function(n,i){return i<3?n.toString(16):Math.round(n*255).toString(16)});return"#"+r.map(function(n){return n.padStart(2,"0")}).join("")},set:function(e){this.rgba=t.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var r=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=r.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(i){return parseInt(i,16)});return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(e){var r=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),n=rP[r];return n===void 0?n:t.hexToRgb(n.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var r=za(e,4),n=r[0],i=r[1],o=r[2],s=r[3];n/=255,i/=255,o/=255;var a=Math.max(n,i,o),l=Math.min(n,i,o),c=void 0,u=void 0,h=(a+l)/2;if(a===l)c=u=0;else{var f=a-l;switch(u=h>.5?f/(2-a-l):f/(a+l),a){case n:c=(i-o)/f+(i<o?6:0);break;case i:c=(o-n)/f+2;break;case o:c=(n-i)/f+4;break}c/=6}return[c,u,h,s]}},{key:"hslToRgb",value:function(e){var r=za(e,4),n=r[0],i=r[1],o=r[2],s=r[3],a=void 0,l=void 0,c=void 0;if(i===0)a=l=c=o;else{var u=function(g,O,$){return $<0&&($+=1),$>1&&($-=1),$<.16666666666666666?g+(O-g)*6*$:$<.5?O:$<.6666666666666666?g+(O-g)*(.6666666666666666-$)*6:g},h=o<.5?o*(1+i):o+i-o*i,f=2*o-h;a=u(f,h,n+1/3),l=u(f,h,n),c=u(f,h,n-1/3)}var d=[a*255,l*255,c*255].map(Math.round);return d[3]=s,d}}]),t})(),iP=(function(){function t(){Gf(this,t),this._events=[]}return Yf(t,[{key:"add",value:function(e,r,n){e.addEventListener(r,n,!1),this._events.push({target:e,type:r,handler:n})}},{key:"remove",value:function(e,r,n){this._events=this._events.filter(function(i){var o=!0;return e&&e!==i.target&&(o=!1),r&&r!==i.type&&(o=!1),n&&n!==i.handler&&(o=!1),o&&t._doRemove(i.target,i.type,i.handler),!o})}},{key:"destroy",value:function(){this._events.forEach(function(e){return t._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,r,n){e.removeEventListener(r,n,!1)}}]),t})();function oP(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}function qc(t,e,r){var n=!1;function i(l,c,u){return Math.max(c,Math.min(l,u))}function o(l,c,u){if(u&&(n=!0),!!n){l.preventDefault();var h=e.getBoundingClientRect(),f=h.width,d=h.height,g=c.clientX,O=c.clientY,$=i(g-h.left,0,f),P=i(O-h.top,0,d);r($/f,P/d)}}function s(l,c){var u=l.buttons===void 0?l.which:l.buttons;u===1?o(l,l,c):n=!1}function a(l,c){l.touches.length===1?o(l,l.touches[0],c):n=!1}t.add(e,"mousedown",function(l){s(l,!0)}),t.add(e,"touchstart",function(l){a(l,!0)}),t.add(window,"mousemove",s),t.add(e,"touchmove",a),t.add(window,"mouseup",function(l){n=!1}),t.add(e,"touchend",function(l){n=!1}),t.add(e,"touchcancel",function(l){n=!1})}var sP=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,aP=360,Wx="keydown",Va="mousedown",Uc="focusin";function rn(t,e){return(e||document).querySelector(t)}function lP(t){t.preventDefault(),t.stopPropagation()}function Kc(t,e,r,n,i){t.add(e,Wx,function(o){r.indexOf(o.key)>=0&&n(o)})}var Hx=(function(){function t(e){Gf(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new iP,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return Yf(t,[{key:"setOptions",value:function(e){var r=this;if(!e)return;var n=this.settings;function i(l,c,u){for(var h in l)c[h]=l[h]}if(e instanceof HTMLElement)n.parent=e;else{n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),i(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var o=e.color||e.colour;o&&this._setColor(o)}var s=n.parent;if(s&&n.popup&&!this._popupInited){var a=function(l){return r.openHandler(l)};this._events.add(s,"click",a),Kc(this._events,s,[" ","Spacebar","Enter"],a),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var r=e&&e.type===Wx?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var r=e&&e.type,n=!1;if(!e)n=!0;else if(r===Va||r===Uc){var i=(this.__containedEvent||0)+100;e.timeStamp>i&&(n=!0)}else lP(e),n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="",r!==Va&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,r){this.closeHandler(),this.setOptions(e),r&&this.openHandler()}},{key:"setColor",value:function(e,r){this._setColor(e,{silent:r})}},{key:"_setColor",value:function(e,r){if(typeof e=="string"&&(e=e.trim()),!!e){r=r||{};var n=void 0;try{n=new nP(e)}catch(o){if(r.failSilently)return;throw o}if(!this.settings.alpha){var i=n.hsla;i[3]=1,n.hsla=i}this.colour=this.color=n,this._setHSLA(null,null,null,null,r)}}},{key:"setColour",value:function(e,r){this.setColor(e,r)}},{key:"show",value:function(){var e=this.settings.parent;if(!e)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var n=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=oP(n);return this.domElement=i,this._domH=rn(".picker_hue",i),this._domSL=rn(".picker_sl",i),this._domA=rn(".picker_alpha",i),this._domEdit=rn(".picker_editor input",i),this._domSample=rn(".picker_sample",i),this._domOkay=rn(".picker_done button",i),this._domCancel=rn(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup(function(){return i.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,r=this,n=this.domElement,i=this._events;function o(l,c,u){i.add(l,c,u)}o(n,"click",function(l){return l.preventDefault()}),qc(i,this._domH,function(l,c){return r._setHSLA(l)}),qc(i,this._domSL,function(l,c){return r._setHSLA(null,l,1-c)}),this.settings.alpha&&qc(i,this._domA,function(l,c){return r._setHSLA(null,null,null,1-c)});var s=this._domEdit;o(s,"input",function(l){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(s,"focus",function(l){var c=this;c.selectionStart===c.selectionEnd&&c.select()}),this._ifPopup(function(){var l=function(u){return e.closeHandler(u)};o(window,Va,l),o(window,Uc,l),Kc(i,n,["Esc","Escape"],l);var c=function(u){e.__containedEvent=u.timeStamp};o(n,Va,c),o(n,Uc,c),o(e._domCancel,"click",l)});var a=function(l){e._ifPopup(function(){return e.closeHandler(l)}),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",a),Kc(i,n,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this.settings.parent,r=this.domElement;e!==r.parentNode&&e.appendChild(r),this._ifPopup(function(n){getComputedStyle(e).position==="static"&&(e.style.position="relative");var i=n===!0?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(o){o===i?r.classList.add(o):r.classList.remove(o)}),r.classList.add(i)})}},{key:"_setHSLA",value:function(e,r,n,i,o){o=o||{};var s=this.colour,a=s.hsla;[e,r,n,i].forEach(function(l,c){(l||l===0)&&(a[c]=l)}),s.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(s)}},{key:"_updateUI",value:function(e){if(!this.domElement)return;e=e||{};var r=this.colour,n=r.hsla,i="hsl("+n[0]*aP+", 100%, 50%)",o=r.hslString,s=r.hslaString,a=this._domH,l=this._domSL,c=this._domA,u=rn(".picker_selector",a),h=rn(".picker_selector",l),f=rn(".picker_selector",c);function d(X,se,Z){se.style.left=Z*100+"%"}function g(X,se,Z){se.style.top=Z*100+"%"}d(a,u,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,d(l,h,n[1]),g(l,h,1-n[2]),l.style.color=o,g(c,f,1-n[3]);var O=o,$=O.replace("hsl","hsla").replace(")",", 0)"),P="linear-gradient("+[O,$]+")";if(this._domA.style.background=P+", "+sP,!e.fromEditor){var Y=this.settings.editorFormat,ne=this.settings.alpha,G=void 0;switch(Y){case"rgb":G=r.printRGB(ne);break;case"hsl":G=r.printHSL(ne);break;default:G=r.printHex(ne)}this._domEdit.value=G}this._domSample.style.color=s}},{key:"_ifPopup",value:function(e,r){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):r&&r()}},{key:"_toggleDOM",value:function(e){var r=this.domElement;if(!r)return!1;var n=e?"":"none",i=r.style.display!==n;return i&&(r.style.display=n),i}}]),t})();{var Jc=document.createElement("style");Jc.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Jc),Hx.StyleElement=Jc}const GR=Object.freeze(Object.defineProperty({__proto__:null,default:Hx},Symbol.toStringTag,{value:"Module"})),cP=`
.vue-ts-json-editor {
  min-width:300px;
  width:100%
}

.vue-ts-json-editor--max-box{
  position:fixed;
  top:0;
  left:0;
  width:100vw;
  height:100vh;
  z-index:10000
}

.vue-ts-json-editor .jse-menu .jse-full-width{
  display:flex
}

.vue-ts-json-editor .jse-menu .jse-full-width--active{
  background-color:#ffffff38!important;
  border-color:#fff9!important
}
`,uP=`
.jse-theme-dark {
  /* over all fonts, sizes, and colors */
  --jse-theme-color: #2f6dd0;
  --jse-theme-color-highlight: #467cd2;
  --jse-background-color: #1e1e1e;
  --jse-text-color: #d4d4d4;

  /* main, menu, modal */
  --jse-main-border: 1px solid #4f4f4f;
  --jse-menu-color: #fff;
  --jse-modal-background: #2f2f2f;
  --jse-modal-overlay-background: rgba(0, 0, 0, 0.5);
  --jse-modal-code-background: #2f2f2f;

  /* panels: navigation bar, gutter, search box */
  --jse-panel-background: #333333;
  --jse-panel-background-border: 1px solid #464646;
  --jse-panel-color: var(--jse-text-color);
  --jse-panel-color-readonly: #737373;
  --jse-panel-border: 1px solid #3c3c3c;
  --jse-panel-button-color-highlight: #e5e5e5;
  --jse-panel-button-background-highlight: #464646;

  /* navigation-bar */
  --jse-navigation-bar-background: #656565;
  --jse-navigation-bar-background-highlight: #7e7e7e;
  --jse-navigation-bar-dropdown-color: var(--jse-text-color);

  /* context menu */
  --jse-context-menu-background: #4b4b4b;
  --jse-context-menu-background-highlight: #595959;
  --jse-context-menu-separator-color: #595959;
  --jse-context-menu-color: var(--jse-text-color);
  --jse-context-menu-button-background: #737373;
  --jse-context-menu-button-background-highlight: #818181;
  --jse-context-menu-button-color: var(--jse-context-menu-color);

  /* contents: json key and values */
  --jse-key-color: #9cdcfe;
  --jse-value-color: var(--jse-text-color);
  --jse-value-color-number: #b5cea8;
  --jse-value-color-boolean: #569cd6;
  --jse-value-color-null: #569cd6;
  --jse-value-color-string: #ce9178;
  --jse-value-color-url: #ce9178;
  --jse-delimiter-color: #949494;
  --jse-edit-outline: 2px solid var(--jse-text-color);

  /* contents: selected or hovered */
  --jse-selection-background-color: #464646;
  --jse-selection-background-light-color: #333333;
  --jse-hover-background-color: #343434;

  /* contents: section of collapsed items in an array */
  --jse-collapsed-items-background-color: #333333;
  --jse-collapsed-items-selected-background-color: #565656;
  --jse-collapsed-items-link-color: #b2b2b2;
  --jse-collapsed-items-link-color-highlight: #ec8477;

  /* contents: highlighting of search results */
  --jse-search-match-color: #724c27;
  --jse-search-match-outline: 1px solid #966535;
  --jse-search-match-active-color: #9f6c39;
  --jse-search-match-active-outline: 1px solid #bb7f43;

  /* contents: inline tags inside the JSON document */
  --jse-tag-background: #444444;
  --jse-tag-color: #bdbdbd;

  /* controls in modals: inputs, buttons, and \`a\` */
  --jse-input-background: #3d3d3d;
  --jse-input-border: var(--jse-main-border);
  --jse-button-background: #808080;
  --jse-button-background-highlight: #7a7a7a;
  --jse-button-color: #e0e0e0;
  --jse-a-color: #55abff;
  --jse-a-color-highlight: #4387c9;

  /* svelte-select */
  --background: #3d3d3d;
  --border: 1px solid #4f4f4f;
  --listBackground: #3d3d3d;
  --itemHoverBG: #505050;
  --multiItemBG: #5b5b5b;
  --inputColor: #d4d4d4;
  --multiClearBG: #8a8a8a;
  --listShadow: 0 2px 6px 0 rgba(0, 0, 0, 0.24);

  /* color picker */
  --jse-color-picker-background: #656565;
  --jse-color-picker-border-box-shadow: #8c8c8c 0 0 0 1px;
}
`,qx=Object.freeze(Object.defineProperty({__proto__:null,darkTheme:uP,fullWidthButton:cP},Symbol.toStringTag,{value:"Module"}));export{WP as $,Tx as A,SP as B,bP as C,jP as D,_P as E,gt as F,Q9 as G,wP as H,sw as I,or as J,GP as K,B9 as L,yP as M,at as N,tR as O,BP as P,QP as Q,HP as R,Ee as S,gP as T,NP as U,TP as V,KR as W,vP as X,oR as Y,lc as Z,ei as _,Sr as a,un as a$,YP as a0,AP as a1,$P as a2,KP as a3,FP as a4,LP as a5,IP as a6,rT as a7,hc as a8,lb as a9,qP as aA,kg as aB,Lb as aC,su as aD,zP as aE,kP as aF,D0 as aG,Lt as aH,KM as aI,rc as aJ,ER as aK,CR as aL,bR as aM,RR as aN,vR as aO,yR as aP,jR as aQ,IR as aR,xR as aS,_R as aT,wR as aU,LR as aV,Qe as aW,NR as aX,PR as aY,go as aZ,He as a_,cu as aa,N0 as ab,Rx as ac,XP as ad,EP as ae,uc as af,qR as ag,FR as ah,WR as ai,vs as aj,ry as ak,PP as al,rR as am,UP as an,RP as ao,BR as ap,zR as aq,VR as ar,OP as as,JP as at,CP as au,nR as av,Uf as aw,By as ax,xP as ay,HR as az,oi as b,dP as b0,mx as b1,DP as b2,Pe as b3,Xr as b4,M9 as b5,tc as b6,AR as b7,uh as b8,Lw as b9,kn as bA,Mt as bB,MP as bC,jn as bD,Mi as bE,ZP as bF,Da as bG,gR as bH,JR as bI,GR as bJ,gx as ba,cj as bb,Of as bc,lj as bd,mt as be,At as bf,SR as bg,kR as bh,$R as bi,vo as bj,Tt as bk,nx as bl,t8 as bm,qr as bn,uj as bo,wj as bp,MR as bq,TR as br,Ym as bs,hR as bt,ln as bu,fn as bv,Ay as bw,Qv as bx,H1 as by,mr as bz,Cn as c,DR as d,qt as e,jx as f,ct as g,d6 as h,mP as i,Sl as j,pP as k,dh as l,kr as m,cc as n,iR as o,Os as p,x1 as q,Xt as r,w1 as s,Gh as t,VP as u,ax as v,o1 as w,no as x,eR as y,U9 as z};
