import{C as N,P as R,e as K}from"./ckeditor_ckeditor5-core-c8d003a2.js";import{e as E,E as Q,n as Y,o as v,N as V,P as J,Q as X,O as $}from"./ckeditor_ckeditor5-utils-df07b536.js";import{O as z,d as S,B as W}from"./ckeditor_ckeditor5-engine-af85ebf5.js";import{n as Z}from"./lodash-es-a215867d.js";/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class G{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ee extends N{constructor(e,t){super(e),this._buffer=new G(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,s=e.text||"",n=s.length;let a=i.selection;if(e.selection?a=e.selection:e.range&&(a=t.createSelection(e.range)),!t.canEditAt(a))return;const r=e.resultRange;t.enqueueChange(this._buffer.batch,c=>{this._buffer.lock(),t.deleteContent(a),s&&t.insertContent(c.createText(s,i.selection.getAttributes()),a),r?c.setSelection(r):a.is("documentSelection")||c.setSelection(a),this._buffer.unlock(),this._buffer.input(n)})}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const P=["insertText","insertReplacementText"];class te extends z{constructor(e){super(e),E.isAndroid&&P.push("insertCompositionText");const t=e.document;t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{data:n,targetRanges:a,inputType:r,domEvent:c}=s;if(!P.includes(r))return;const l=new Q(t,"insertText");t.fire(l,new S(e,c,{text:n,selection:e.createSelection(a)})),l.stop.called&&i.stop()}),t.on("compositionend",(i,{data:s,domEvent:n})=>{!this.isEnabled||E.isAndroid||s&&t.fire("insertText",new S(e,n,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ne extends R{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,i=e.editing.view,s=t.document.selection;i.addObserver(te);const n=new ee(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",n),e.commands.add("input",n),this.listenTo(i.document,"insertText",(a,r)=>{i.document.isComposing||r.preventDefault();const{text:c,selection:l,resultRange:d}=r,u=Array.from(l.getRanges()).map(h=>e.editing.mapper.toModelRange(h));let f=c;if(E.isAndroid){const h=Array.from(u[0].getItems()).reduce((T,p)=>T+(p.is("$textProxy")?p.data:""),"");h&&(h.length<=f.length?f.startsWith(h)&&(f=f.substring(h.length),u[0].start=u[0].start.getShiftedBy(h.length)):h.startsWith(f)&&(u[0].start=u[0].start.getShiftedBy(f.length),f=""))}const m={text:f,selection:t.createSelection(u)};d&&(m.resultRange=e.editing.mapper.toModelRange(d)),e.execute("insertText",m)}),E.isAndroid?this.listenTo(i.document,"keydown",(a,r)=>{s.isCollapsed||r.keyCode!=229||!i.document.isComposing||O(t,n)}):this.listenTo(i.document,"compositionstart",()=>{s.isCollapsed||O(t,n)})}}function O(o,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),o.enqueueChange(t.batch,()=>{o.deleteContent(o.document.selection)}),t.unlock()}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class L extends N{constructor(e,t){super(e),this.direction=t,this._buffer=new G(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const n=s.createSelection(e.selection||i.selection);if(!t.canEditAt(n))return;const a=e.sequence||1,r=n.isCollapsed;if(n.isCollapsed&&t.modifySelection(n,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(a)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(n,a)){this.editor.execute("paragraph",{selection:n});return}if(n.isCollapsed)return;let c=0;n.getFirstRange().getMinimalFlatRanges().forEach(l=>{c+=Y(l.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(n,{doNotResetEntireContent:r,direction:this.direction}),this._buffer.input(c),s.setSelection(n),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,n=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(n))||!t.schema.checkChild(n,"paragraph"))return!1;const r=n.getChild(0);return!(r&&r.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,n=t.schema.getLimitElement(s),a=e.createElement("paragraph");e.remove(e.createRangeIn(n)),e.insert(a,n),e.setSelection(a,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),n=i.schema.getLimitElement(s),a=n.getChild(0);return!(s.parent!=a||!e.containsEntireContent(a)||!i.schema.checkChild(n,"paragraph")||a.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ie="character",I="word",se="codePoint",g="selection",_="backward",x="forward",U={deleteContent:{unit:g,direction:_},deleteContentBackward:{unit:se,direction:_},deleteWordBackward:{unit:I,direction:_},deleteHardLineBackward:{unit:g,direction:_},deleteSoftLineBackward:{unit:g,direction:_},deleteContentForward:{unit:ie,direction:x},deleteWordForward:{unit:I,direction:x},deleteHardLineForward:{unit:g,direction:x},deleteSoftLineForward:{unit:g,direction:x}};class oe extends z{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(s,n)=>{if(!this.isEnabled)return;const{targetRanges:a,domEvent:r,inputType:c}=n,l=U[c];if(!l)return;const d={direction:l.direction,unit:l.unit,sequence:i};d.unit==g&&(d.selectionToRemove=e.createSelection(a[0])),c==="deleteContentBackward"&&(E.isAndroid&&(d.sequence=1),ae(a)&&(d.unit=g,d.selectionToRemove=e.createSelection(a)));const u=new W(t,"delete",a[0]);t.fire(u,new S(e,r,d)),u.stop.called&&s.stop()}),E.isBlink&&re(this)}observe(){}stopObserving(){}}function re(o){const e=o.view,t=e.document;let i=null,s=!1;t.on("keydown",(r,{keyCode:c})=>{i=c,s=!1}),t.on("keyup",(r,{keyCode:c,domEvent:l})=>{const d=t.selection,u=o.isEnabled&&c==i&&n(c)&&!d.isCollapsed&&!s;if(i=null,u){const f=d.getFirstRange(),m=new W(t,"delete",f),h={unit:g,direction:a(c),selectionToRemove:d};t.fire(m,new S(e,l,h))}}),t.on("beforeinput",(r,{inputType:c})=>{const l=U[c];n(i)&&l&&l.direction==a(i)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(r,{inputType:c,data:l})=>{i==v.delete&&c=="insertText"&&l==""&&r.stop()},{priority:"high"});function n(r){return r==v.backspace||r==v.delete}function a(r){return r==v.backspace?_:x}}function ae(o){if(o.length!=1||o[0].isCollapsed)return!1;const e=o[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:i}of e){if(!i.parent.is("$text"))t++;else{const s=i.parent.data,n=i.offset;if(V(s,n)||J(s,n)||X(s,n))continue;t++}if(t>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ce extends R{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.model.document;t.addObserver(oe),this._undoOnBackspace=!1;const n=new L(e,"forward");e.commands.add("deleteForward",n),e.commands.add("forwardDelete",n),e.commands.add("delete",new L(e,"backward")),this.listenTo(i,"delete",(a,r)=>{i.isComposing||r.preventDefault();const{direction:c,sequence:l,selectionToRemove:d,unit:u}=r,f=c==="forward"?"deleteForward":"delete",m={sequence:l};if(u=="selection"){const h=Array.from(d.getRanges()).map(T=>e.editing.mapper.toModelRange(T));m.selection=e.model.createSelection(h)}else m.unit=u;e.execute(f,m),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(a,r)=>{this._undoOnBackspace&&r.direction=="backward"&&r.sequence==1&&r.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),r.preventDefault(),a.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ce extends R{static get requires(){return[ne,ce]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function le(o,e){let t=o.start;return{text:Array.from(o.getWalker({ignoreElementEnd:!1})).reduce((s,{item:n})=>n.is("$text")||n.is("$textProxy")?s+n.data:(t=e.createPositionAfter(n),""),""),range:e.createRange(t,o.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Se=class extends $(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,n=i.document.selection,a=i.createRange(i.createPositionAt(n.focus.parent,0),n.focus),{text:r,range:c}=le(a,i),l=this.testCallback(r);if(!l&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!l,l){const d=Object.assign(t,{text:r,range:c});typeof l=="object"&&Object.assign(d,l),this.fire(`matched:${e}`,d)}}};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ke extends R{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,i=e.editing.view,s=e.locale,n=t.document.selection;this.listenTo(i.document,"arrowKey",(a,r)=>{if(!n.isCollapsed||r.shiftKey||r.altKey||r.ctrlKey)return;const c=r.keyCode==v.arrowright,l=r.keyCode==v.arrowleft;if(!c&&!l)return;const d=s.contentLanguageDirection;let u=!1;d==="ltr"&&c||d==="rtl"&&l?u=this._handleForwardMovement(r):u=this._handleBackwardMovement(r),u===!0&&a.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(n,"change:range",(a,r)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!r.directChange&&C(n.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,s=this.editor.model.document.selection,n=s.getFirstPosition();return this._isGravityOverridden||n.isAtStart&&A(s,t)?!1:C(n,t)?(y(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,i=this.editor.model,s=i.document.selection,n=s.getFirstPosition();return this._isGravityOverridden?(y(e),this._restoreGravity(),B(i,t,n),!0):n.isAtStart?A(s,t)?(y(e),B(i,t,n),!0):!1:de(n,t)?n.isAtEnd&&!A(s,t)&&C(n,t)?(y(e),B(i,t,n),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function A(o,e){for(const t of e)if(o.hasAttribute(t))return!0;return!1}function B(o,e,t){const i=t.nodeBefore;o.change(s=>{i?s.setSelectionAttribute(i.getAttributes()):s.removeSelectionAttribute(e)})}function y(o){o.preventDefault()}function de(o,e){const t=o.getShiftedBy(-1);return C(t,e)}function C(o,e){const{nodeBefore:t,nodeAfter:i}=o;for(const s of e){const n=t?t.getAttribute(s):void 0;if((i?i.getAttribute(s):void 0)!==n)return!0}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ue(o,e,t,i){return i.createRange(F(o,e,t,!0,i),F(o,e,t,!1,i))}function F(o,e,t,i,s){let n=o.textNode||(i?o.nodeBefore:o.nodeAfter),a=null;for(;n&&n.getAttribute(e)==t;)a=n,n=i?n.previousSibling:n.nextSibling;return a?s.createPositionAt(a,i?"before":"after"):o}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function we(o,e,t,i){const s=o.editing.view,n=new Set;s.document.registerPostFixer(a=>{const r=o.model.document.selection;let c=!1;if(r.hasAttribute(e)){const l=ue(r.getFirstPosition(),e,r.getAttribute(e),o.model),d=o.editing.mapper.toViewRange(l);for(const u of d.getItems())u.is("element",t)&&!u.hasClass(i)&&(a.addClass(i,u),n.add(u),c=!0)}return c}),o.conversion.for("editingDowncast").add(a=>{a.on("insert",r,{priority:"highest"}),a.on("remove",r,{priority:"highest"}),a.on("attribute",r,{priority:"highest"}),a.on("selection",r,{priority:"highest"});function r(){s.change(c=>{for(const l of n.values())c.removeClass(i,l),n.delete(l)})}})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function he(o,e){let t=o.start;return{text:Array.from(o.getItems()).reduce((s,n)=>n.is("$text")||n.is("$textProxy")?s+n.data:(t=e.createPositionAfter(n),""),""),range:e.createRange(t,o.end)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fe extends $(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,n=i.document.selection,a=i.createRange(i.createPositionAt(n.focus.parent,0),n.focus),{text:r,range:c}=he(a,i),l=this.testCallback(r);if(!l&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!l,l){const d=Object.assign(t,{text:r,range:c});typeof l=="object"&&Object.assign(d,l),this.fire(`matched:${e}`,d)}}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const M={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:b('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:b("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:b("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:b('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:b('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:b("'"),to:[null,"‚",null,"’"]}},q={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},me=["symbols","mathematical","typography","quotes"];class Ae extends K{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:me}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,i=e.plugins.get("Delete"),s=_e(e.config.get("typing.transformations")),n=r=>{for(const c of s)if(c.from.test(r))return{normalizedTransformation:c}},a=new fe(e.model,n);a.on("matched:data",(r,c)=>{if(!c.batch.isTyping)return;const{from:l,to:d}=c.normalizedTransformation,u=l.exec(c.text),f=d(u.slice(1)),m=c.range;let h=u.index;t.enqueueChange(T=>{for(let p=1;p<u.length;p++){const D=u[p],k=f[p-1];if(k==null){h+=D.length;continue}const w=m.start.getShiftedBy(h),j=t.createRange(w,w.getShiftedBy(D.length)),H=be(w);t.insertContent(T.createText(k,H),j),h+=k.length}t.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}function ge(o){return typeof o=="string"?new RegExp(`(${Z(o)})$`):o}function pe(o){return typeof o=="string"?()=>[o]:o instanceof Array?()=>o:o}function be(o){return(o.textNode?o.textNode:o.nodeAfter).getAttributes()}function b(o){return new RegExp(`(^|\\s)(${o})([^${o}]*)(${o})$`)}function _e(o){const e=o.extra||[],t=o.remove||[],i=n=>!t.includes(n),s=o.include.concat(e).filter(i);return ve(s).filter(i).map(n=>typeof n=="string"&&M[n]?M[n]:n).filter(n=>typeof n=="object").map(n=>({from:ge(n.from),to:pe(n.to)}))}function ve(o){const e=new Set;for(const t of o)if(typeof t=="string"&&q[t])for(const i of q[t])e.add(i);else e.add(t);return Array.from(e)}export{ce as D,ne as I,ke as T,Ce as a,Se as b,Ae as c,ue as f,le as g,we as i};
