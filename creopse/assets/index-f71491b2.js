import{_ as N}from"./AuthLayout-a63d3432.js";import{u as H,c as L,d as D,R as y,e as F}from"./index-818706be.js";import{R as M}from"./response-error-code-87d1097e.js";import{a as Y,u as $}from"./vue-router-e670704e.js";import{O as B,D as O,J as P,_ as T,L as q,P as j}from"./naive-ui-0ed228f2.js";import{d as b,b as z,o as m,P as d,aO as e,a as o,Y as n,l,c as G,F as J,Q}from"./vue_runtime-core-4f5fb440.js";import{u as U}from"./vue-i18n-84a05dd5.js";import{r as x,u as t}from"./vue_reactivity-852d8377.js";import{t as c}from"./vue_shared-7dcc3b7f.js";import"./iconify_vue-6750bec6.js";import"./vue_runtime-dom-c0cb2070.js";import"./unhead_vue-71da354f.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./fawmi_vue-google-maps-52673af8.js";import"./googlemaps_markerclusterer-b718980f.js";import"./fast-deep-equal-1db9e660.js";import"./axios-96fb5abd.js";import"./process-93c0ea83.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./browser-image-compression-a3ab6596.js";import"./lodash-a9971f22.js";import"./pinia-5dd13ed8.js";import"./vue-demi-71ba0ef2.js";import"./moment-ea709ccd.js";import"./slugify-ce681755.js";import"./validator-c0254ba9.js";import"./vueuse_core-e3c6c607.js";import"./vueuse_shared-d1f69174.js";import"./parse-domain-489ba3ba.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./ckeditor_ckeditor5-vue-13667b6e.js";import"./vue-83614a91.js";import"./strip-json-comments-680ed425.js";import"./vue-draggable-next-d31a77b2.js";import"./pinia_colada-25af8b56.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-40ca5c5d.js";import"./vue3-map-chart-612bd6db.js";import"./crypto-js-eb39eca1.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-b49649f7.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-b91bc731.js";import"./vooks-3c892a1c.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./lodash-es-a215867d.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-dc9a4891.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";const K={class:"container h-full"},W={class:"flex justify-center items-center flex-wrap h-full g-6 text-gray-800"},X={class:"md:w-8/12 lg:w-5/12 xl:w-4/12 2xl:w-3/12 sm:w-full"},Z={class:"flex justify-center mb-4.5"},tt=["src","alt"],et={class:"text-center"},ot={class:"flex items-center my-4 before:flex-1 before:border-t before:border-gray-300 before:mt-0.5 after:flex-1 after:border-t after:border-gray-300 after:mt-0.5"},rt={class:"text-center font-semibold mx-4 mb-0"},st=b({name:y.VERIFY_EMAIL.NAME}),Ae=b({...st,setup(it){const{t:i}=U(),{logo:v}=H(),{request:k}=F(),r=Y(),h=$(),w=L(),A=D(),g=x(!0),s=x(null);z(async()=>{var p,u,_;(!r.params.id||!r.params.hash)&&h.replace(y.LOGIN.PATH);const a=await k({url:`/auth/verify-email/${r.params.id}/${r.params.hash}?expires=${r.query.expires}&signature=${r.query.signature}`});if(a.failure&&a.error)switch((_=(u=(p=a.error)==null?void 0:p.response)==null?void 0:u.data)==null?void 0:_.errorCode){case M.AUTH_EMAIL_ALREADY_VERIFIED:s.value="already";break;default:s.value="no";break}else s.value="yes",w.userData=a.result.data.user;g.value=!1});const E="Creopse",I=A.getSettingValue("disableInstaller","boolean");return(a,p)=>{const u=B,_=O,f=P,R=T,S=q,V=j,C=N;return m(),d(C,{"display-server-alerts":!t(I)},{default:e(()=>[o("div",K,[o("div",W,[o("div",X,[n(V,{show:t(g)},{default:e(()=>[n(S,{size:"small",class:"w-full"},{default:e(()=>[o("div",Z,[o("img",{src:t(v),class:"w-54",alt:t(E)},null,8,tt)]),o("div",et,[n(_,null,{default:e(()=>[n(u,{type:"primary"},{default:e(()=>[l(c(t(i)("emailVerification")),1)]),_:1})]),_:1}),t(s)!=null?(m(),G(J,{key:0},[t(s)=="yes"?(m(),d(f,{key:0,type:"success"},{default:e(()=>[l(c(t(i)("verifyYourEmailSucceed")),1)]),_:1})):t(s)=="already"?(m(),d(f,{key:1,type:"info"},{default:e(()=>[l(c(t(i)("yourEmailAlreadyVerified")),1)]),_:1})):(m(),d(f,{key:2,type:"error"},{default:e(()=>[l(c(t(i)("verifyYourEmailFailed")),1)]),_:1}))],64)):Q("",!0),o("div",ot,[o("p",rt,[n(R,{text:"",onClick:p[0]||(p[0]=at=>t(h).replace(t(y).HOME.PATH))},{default:e(()=>[l(c(t(i)("back")),1)]),_:1})])])])]),_:1})]),_:1},8,["show"])])])])]),_:1},8,["display-server-alerts"])}}});export{Ae as default};
