import{I as q}from"./iconify_vue-46af0b81.js";import{f as z}from"./vue_runtime-dom-5ad5ecb0.js";import{u as F,f as H,h as P,R as E,e as Y}from"./index-916f1e45.js";import{a as J,u as M}from"./vue-router-c3388b6d.js";import{u as O}from"./unhead_vue-0787c3d6.js";import{J as Q,N as G,j as K,k as W,g as X}from"./naive-ui-ab0dda7d.js";import{d as Z,b as ee,p as B,o as p,c as C,P as L,Q as y,aO as o,a as r,l as te,Y as n,r as se,F as oe}from"./vue_runtime-core-273b5003.js";import{u as t,r as T,c as ne}from"./vue_reactivity-852d8377.js";import{u as ae}from"./vue-i18n-0da1582b.js";import{t as v,a as re,n as le}from"./vue_shared-7dcc3b7f.js";import{_ as ce}from"./fawmi_vue-google-maps-439c501d.js";const ie="/creopse/assets/auth-dark-460add45.svg",ue="/creopse/assets/auth-8e1bf011.svg",pe={key:0,class:"fixed top-8 left-5 right-5 px-10"},me={class:"flex items-center justify-between"},_e={class:"text-sm ml-1"},de={class:"h-screen flex items-center justify-center root-container"},fe={class:"text-xs text-gray-500"},ge=Z({__name:"AuthLayout",props:{displayServerAlerts:{type:Boolean,default:!0}},setup(j){z(s=>({"544036b3":t(U),"53ecbcbb":t(w)}));const V=j,{t:m,locale:c}=ae(),{request:b}=Y(),{pickByTheme:_,isSmScreen:D,languages:h,updateLocale:k,fileUrl:x}=F(),a=J(),N=M(),S=H(),A=P(),i=T(!0),d=T(!0);ee(async()=>{if(a.query&&a.query.lang){const e=String(a.query.lang);h.map(u=>u.value).includes(e)&&c.value!=e&&k(e)}const s=await b({url:"/"});if(i.value=s.success,i.value){const e=await b({url:"/database"});d.value=e.success}});const w=B(()=>_("#ffffff","#282828")),U=B(()=>{const s=A.getSettingValue("adminAuthLightBg"),e=A.getSettingValue("adminAuthDarkBg");return`url(${_(s?x(s):ue,e?x(e):ie)})`});return O({title:()=>{var s,e;return((s=a==null?void 0:a.meta)!=null&&s.title?((e=a==null?void 0:a.meta)==null?void 0:e.title)+" - ":"")+"Creopse"}}),(s,e)=>{const u=Q,f=q,g=G,R=K,$=W,I=X;return p(),C(oe,null,[V.displayServerAlerts&&(!t(i)||!t(d))?(p(),C("section",pe,[t(i)?y("",!0):(p(),L(u,{key:0,title:t(m)("serverUnreachable"),type:"error"},null,8,["title"])),t(d)?y("",!0):(p(),L(u,{key:1,type:"warning"},{header:o(()=>[r("div",me,[te(v(t(m)("unableToConnectToDatabase"))+" ",1),r("div",{class:"flex items-center justify-between cursor-pointer",onClick:e[0]||(e[0]=l=>t(N).push(t(E).SETUP.PATH))},[n(g,null,{default:o(()=>[n(f,{icon:"carbon:bottom-panel-close"})]),_:1}),r("span",_e,v(t(m)("openInstaller")),1)])])]),_:1}))])):y("",!0),r("section",de,[se(s.$slots,"default",{},void 0,!0)]),r("section",{class:re(["text-center py-2 px-4 fixed bottom-0 w-full",`${t(_)("border-slate-200","border-gray-500")}`]),style:le(`background-color: ${t(w)}`)},[n(I,{justify:t(D)?"center":"space-around",align:"center",class:"container mx-auto"},{default:o(()=>[r("div",fe," Â© copyright "+v(new Date().getFullYear())+" | Creopse ",1),n(I,{justify:"center",align:"center"},{default:o(()=>[n(R,{value:t(c),"onUpdate:value":[e[1]||(e[1]=l=>ne(c)?c.value=l:null),e[2]||(e[2]=l=>t(k)(l,!1))],"consistent-menu-width":!1,size:"tiny",options:t(h)},null,8,["value","options"]),n($,{value:t(S).isLightTheme,"onUpdate:value":e[3]||(e[3]=l=>t(S).isLightTheme=l),size:"small"},{"checked-icon":o(()=>[n(g,{color:"orange"},{default:o(()=>[n(f,{icon:"carbon:sun"})]),_:1})]),"unchecked-icon":o(()=>[n(g,{color:"dimgray"},{default:o(()=>[n(f,{icon:"carbon:moon"})]),_:1})]),checked:o(()=>e[4]||(e[4]=[r("div",{class:"w-4"},null,-1)])),unchecked:o(()=>e[5]||(e[5]=[r("div",{class:"w-4"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1},8,["justify"])],6)],64)}}});const Ce=ce(ge,[["__scopeId","data-v-153fd725"]]);export{Ce as _};
