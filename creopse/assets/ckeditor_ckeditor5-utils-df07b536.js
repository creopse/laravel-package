import{d as Ot,r as tt,b as v,q as Vt,a as jt,i as et}from"./lodash-es-a215867d.js";/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kt(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const x=Kt(),mt={isMac:bt(x),isWindows:Wt(x),isGecko:Ut(x),isSafari:Ht(x),isiOS:Gt(x),isAndroid:Yt(x),isBlink:$t(x),features:{isRegExpUnicodePropertySupported:qt()}};function bt(e){return e.indexOf("macintosh")>-1}function Wt(e){return e.indexOf("windows")>-1}function Ut(e){return!!e.match(/gecko\/\d+/)}function Ht(e){return e.indexOf(" applewebkit/")>-1&&e.indexOf("chrome")===-1}function Gt(e){return!!e.match(/iphone|ipad/i)||bt(e)&&navigator.maxTouchPoints>0}function Yt(e){return e.indexOf("android")>-1}function $t(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function qt(){let e=!1;try{e="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xt(e,t,n,i){n=n||function(c,a){return c===a};const o=Array.isArray(e)?e:Array.prototype.slice.call(e),s=Array.isArray(t)?t:Array.prototype.slice.call(t),r=Jt(o,s,n);return i?Qt(r,s.length):Zt(s,r)}function Jt(e,t,n){const i=nt(e,t,n);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=it(e,i),s=it(t,i),r=nt(o,s,n),l=e.length-r,c=t.length-r;return{firstIndex:i,lastIndexOld:l,lastIndexNew:c}}function nt(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++)if(e[i]===void 0||t[i]===void 0||!n(e[i],t[i]))return i;return-1}function it(e,t){return e.slice(t).reverse()}function Zt(e,t){const n=[],{firstIndex:i,lastIndexOld:o,lastIndexNew:s}=t;return s-i>0&&n.push({index:i,type:"insert",values:e.slice(i,s)}),o-i>0&&n.push({index:i+(s-i),type:"delete",howMany:o-i}),n}function Qt(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:o}=e;if(n===-1)return Array(t).fill("equal");let s=[];return n>0&&(s=s.concat(Array(n).fill("equal"))),o-n>0&&(s=s.concat(Array(o-n).fill("insert"))),i-n>0&&(s=s.concat(Array(i-n).fill("delete"))),o<t&&(s=s.concat(Array(t-o).fill("equal"))),s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _t(e,t,n){n=n||function(p,C){return p===C};const i=e.length,o=t.length;if(i>200||o>200||i+o>300)return _t.fastDiff(e,t,n,!0);let s,r;if(o<i){const p=e;e=t,t=p,s="delete",r="insert"}else s="insert",r="delete";const l=e.length,c=t.length,a=c-l,u={},f={};function _(p){const C=(f[p-1]!==void 0?f[p-1]:-1)+1,B=f[p+1]!==void 0?f[p+1]:-1,z=C>B?-1:1;u[p+z]&&(u[p]=u[p+z].slice(0)),u[p]||(u[p]=[]),u[p].push(C>B?s:r);let S=Math.max(C,B),O=S-p;for(;O<l&&S<c&&n(e[O],t[S]);)O++,S++,u[p].push("equal");return S}let L=0,y;do{for(y=-L;y<a;y++)f[y]=_(y);for(y=a+L;y>a;y--)f[y]=_(y);f[a]=_(a),L++}while(f[a]!==c);return u[a].slice(1)}_t.fastDiff=Xt;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ot(){return function e(){e.called=!0}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class W{constructor(t,n){this.source=t,this.name=n,this.path=[],this.stop=ot(),this.off=ot()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const b=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));function q(){const e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+b[e>>0&255]+b[e>>8&255]+b[e>>16&255]+b[e>>24&255]+b[t>>0&255]+b[t>>8&255]+b[t>>16&255]+b[t>>24&255]+b[n>>0&255]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]+b[i>>0&255]+b[i>>8&255]+b[i>>16&255]+b[i>>24&255]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const U={get(e="normal"){return typeof e!="number"?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zt(e,t){const n=U.get(t.priority);for(let i=0;i<e.length;i++)if(U.get(e[i].priority)<n){e.splice(i,0,t);return}e.push(t)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const te="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class h extends Error{constructor(t,n,i){super(ee(t,i)),this.name="CKEditorError",this.context=n,this.data=i}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,n){if(t.is&&t.is("CKEditorError"))throw t;const i=new h(t.message,n);throw i.stack=t.stack,i}}function qe(e,t){console.warn(...ne(e,t))}function wt(e){return`
Read more: ${te}#error-${e}`}function ee(e,t){const n=new WeakSet,o=t?` ${JSON.stringify(t,(r,l)=>{if(typeof l=="object"&&l!==null){if(n.has(l))return`[object ${l.constructor.name}]`;n.add(l)}return l})}`:"",s=wt(e);return e+o+s}function ne(e,t){const n=wt(e);return t?[e,t,n]:[e,n]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ie="38.1.1",oe=new Date(2023,6,11);/* istanbul ignore next -- @preserve */const st=typeof window=="object"?window:global;/* istanbul ignore next -- @preserve */if(st.CKEDITOR_VERSION)throw new h("ckeditor-duplicated-modules",null);st.CKEDITOR_VERSION=ie;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const A=Symbol("listeningTo"),H=Symbol("emitterId"),E=Symbol("delegations"),yt=T(Object);function T(e){if(!e)return yt;class t extends e{on(i,o,s){this.listenTo(this,i,o,s)}once(i,o,s){let r=!1;const l=(c,...a)=>{r||(r=!0,c.off(),o.call(this,c,...a))};this.listenTo(this,i,l,s)}off(i,o){this.stopListening(this,i,o)}listenTo(i,o,s,r={}){let l,c;this[A]||(this[A]={});const a=this[A];V(i)||Et(i);const u=V(i);(l=a[u])||(l=a[u]={emitter:i,callbacks:{}}),(c=l.callbacks[o])||(c=l.callbacks[o]=[]),c.push(s),ce(this,i,o,s,r)}stopListening(i,o,s){const r=this[A];let l=i&&V(i);const c=r&&l?r[l]:void 0,a=c&&o?c.callbacks[o]:void 0;if(!(!r||i&&!c||o&&!a))if(s)j(this,i,o,s),a.indexOf(s)!==-1&&(a.length===1?delete c.callbacks[o]:j(this,i,o,s));else if(a){for(;s=a.pop();)j(this,i,o,s);delete c.callbacks[o]}else if(c){for(o in c.callbacks)this.stopListening(i,o);delete r[l]}else{for(l in r)this.stopListening(r[l].emitter);delete this[A]}}fire(i,...o){try{const s=i instanceof W?i:new W(this,i),r=s.name;let l=xt(this,r);if(s.path.push(this),l){const a=[s,...o];l=Array.from(l);for(let u=0;u<l.length&&(l[u].callback.apply(this,a),s.off.called&&(delete s.off.called,this._removeEventListener(r,l[u].callback)),!s.stop.called);u++);}const c=this[E];if(c){const a=c.get(r),u=c.get("*");a&&rt(a,s,o),u&&rt(u,s,o)}return s.return}catch(s){/* istanbul ignore next -- @preserve */h.rethrowUnexpectedError(s,this)}}delegate(...i){return{to:(o,s)=>{this[E]||(this[E]=new Map),i.forEach(r=>{const l=this[E].get(r);l?l.set(o,s):this[E].set(r,new Map([[o,s]]))})}}}stopDelegating(i,o){if(this[E])if(!i)this[E].clear();else if(!o)this[E].delete(i);else{const s=this[E].get(i);s&&s.delete(o)}}_addEventListener(i,o,s){le(this,i);const r=G(this,i),l=U.get(s.priority),c={callback:o,priority:l};for(const a of r)zt(a,c)}_removeEventListener(i,o){const s=G(this,i);for(const r of s)for(let l=0;l<r.length;l++)r[l].callback==o&&(r.splice(l,1),l--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{T[e]=yt.prototype[e]});function se(e,t){const n=e[A];return n&&n[t]?n[t].emitter:null}function Et(e,t){e[H]||(e[H]=t||q())}function V(e){return e[H]}function Tt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function re(){return{callbacks:[],childEvents:[]}}function le(e,t){const n=Tt(e);if(n[t])return;let i=t,o=null;const s=[];for(;i!==""&&!n[i];)n[i]=re(),s.push(n[i]),o&&n[i].childEvents.push(o),o=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const r of s)r.callbacks=n[i].callbacks.slice();n[i].childEvents.push(o)}}function G(e,t){const n=Tt(e)[t];if(!n)return[];let i=[n.callbacks];for(let o=0;o<n.childEvents.length;o++){const s=G(e,n.childEvents[o]);i=i.concat(s)}return i}function xt(e,t){let n;return!e._events||!(n=e._events[t])||!n.callbacks.length?t.indexOf(":")>-1?xt(e,t.substr(0,t.lastIndexOf(":"))):null:n.callbacks}function rt(e,t,n){for(let[i,o]of e){o?typeof o=="function"&&(o=o(t.name)):o=t.name;const s=new W(t.source,o);s.path=[...t.path],i.fire(s,...n)}}function ce(e,t,n,i,o){t._addEventListener?t._addEventListener(n,i,o):e._addEventListener.call(t,n,i,o)}function j(e,t,n,i){t._removeEventListener?t._removeEventListener(n,i):e._removeEventListener.call(t,n,i)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const k=Symbol("observableProperties"),D=Symbol("boundObservables"),F=Symbol("boundProperties"),I=Symbol("decoratedMethods"),lt=Symbol("decoratedOriginal"),It=X(T());function X(e){if(!e)return It;class t extends e{set(i,o){if(Ot(i)){Object.keys(i).forEach(r=>{this.set(r,i[r])},this);return}K(this);const s=this[k];if(i in this&&!s.has(i))throw new h("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return s.get(i)},set(r){const l=s.get(i);let c=this.fire(`set:${i}`,i,r,l);c===void 0&&(c=r),(l!==c||!s.has(i))&&(s.set(i,c),this.fire(`change:${i}`,i,c,l))}}),this[i]=o}bind(...i){if(!i.length||!ct(i))throw new h("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new h("observable-bind-duplicate-properties",this);K(this);const o=this[F];i.forEach(r=>{if(o.has(r))throw new h("observable-bind-rebind",this)});const s=new Map;return i.forEach(r=>{const l={property:r,to:[]};o.set(r,l),s.set(r,l)}),{to:ae,toMany:ue,_observable:this,_bindProperties:i,_to:[],_bindings:s}}unbind(...i){if(!this[k])return;const o=this[F],s=this[D];if(i.length){if(!ct(i))throw new h("observable-unbind-wrong-properties",this);i.forEach(r=>{const l=o.get(r);l&&(l.to.forEach(([c,a])=>{const u=s.get(c),f=u[a];f.delete(l),f.size||delete u[a],Object.keys(u).length||(s.delete(c),this.stopListening(c,"change"))}),o.delete(r))})}else s.forEach((r,l)=>{this.stopListening(l,"change")}),s.clear(),o.clear()}decorate(i){K(this);const o=this[i];if(!o)throw new h("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(s,r)=>{s.return=o.apply(this,r)}),this[i]=function(...s){return this.fire(i,s)},this[i][lt]=o,this[I]||(this[I]=[]),this[I].push(i)}stopListening(i,o,s){if(!i&&this[I]){for(const r of this[I])this[r]=this[r][lt];delete this[I]}super.stopListening(i,o,s)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{X[e]=It.prototype[e]});function K(e){e[k]||(Object.defineProperty(e,k,{value:new Map}),Object.defineProperty(e,D,{value:new Map}),Object.defineProperty(e,F,{value:new Map}))}function ae(...e){const t=he(...e),n=Array.from(this._bindings.keys()),i=n.length;if(!t.callback&&t.to.length>1)throw new h("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new h("observable-bind-to-extra-callback",this);t.to.forEach(o=>{if(o.properties.length&&o.properties.length!==i)throw new h("observable-bind-to-properties-length",this);o.properties.length||(o.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),ge(this._observable,this._to),pe(this),this._bindProperties.forEach(o=>{At(this._observable,o)})}function ue(e,t,n){if(this._bindings.size>1)throw new h("observable-bind-to-many-not-one-binding",this);this.to(...fe(e,t),n)}function fe(e,t){const n=e.map(i=>[i,t]);return Array.prototype.concat.apply([],n)}function ct(e){return e.every(t=>typeof t=="string")}function he(...e){if(!e.length)throw new h("observable-bind-to-parse-error",null);const t={to:[]};let n;return typeof e[e.length-1]=="function"&&(t.callback=e.pop()),e.forEach(i=>{if(typeof i=="string")n.properties.push(i);else if(typeof i=="object")n={observable:i,properties:[]},t.to.push(n);else throw new h("observable-bind-to-parse-error",null)}),t}function de(e,t,n,i){const o=e[D],s=o.get(n),r=s||{};r[i]||(r[i]=new Set),r[i].add(t),s||o.set(n,r)}function pe(e){let t;e._bindings.forEach((n,i)=>{e._to.forEach(o=>{t=o.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([o.observable,t]),de(e._observable,n,o.observable,t)})})}function At(e,t){const i=e[F].get(t);let o;i.callback?o=i.callback.apply(e,i.to.map(s=>s[0][s[1]])):(o=i.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=o:e.set(t,o)}function ge(e,t){t.forEach(n=>{const i=e[D];let o;i.get(n.observable)||e.listenTo(n.observable,"change",(s,r)=>{o=i.get(n.observable)[r],o&&o.forEach(l=>{At(e,l.property)})})})}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xe{constructor(){this._replacedElements=[]}replace(t,n){this._replacedElements.push({element:t,newElement:n}),t.style.display="none",n&&t.parentNode.insertBefore(n,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:n})=>{t.style.display="",n&&n.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Je(e){let t=0;for(const n of e)t++;return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ze(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function J(e){return!!(e&&e[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Qe(e,t,n={},i=[]){const o=n&&n.xmlns,s=o?e.createElementNS(o,t):e.createElement(t);for(const r in n)s.setAttribute(r,n[r]);(tt(i)||!J(i))&&(i=[i]);for(let r of i)tt(r)&&(r=e.createTextNode(r)),s.appendChild(r);return s}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ze{constructor(t,n){this._config={},n&&this.define(at(n)),t&&this._setObjectToTarget(this._config,t)}set(t,n){this._setToTarget(this._config,t,n)}define(t,n){this._setToTarget(this._config,t,n,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,n,i,o=!1){if(v(n)){this._setObjectToTarget(t,n,o);return}const s=n.split(".");n=s.pop();for(const r of s)v(t[r])||(t[r]={}),t=t[r];if(v(i)){v(t[n])||(t[n]={}),t=t[n],this._setObjectToTarget(t,i,o);return}o&&typeof t[n]<"u"||(t[n]=i)}_getFromSource(t,n){const i=n.split(".");n=i.pop();for(const o of i){if(!v(t[o])){t=null;break}t=t[o]}return t?at(t[n]):void 0}_setObjectToTarget(t,n,i){Object.keys(n).forEach(o=>{this._setToTarget(t,o,n[o],i)})}}function at(e){return Vt(e,me)}function me(e){return jt(e)?e:void 0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ut(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function R(e){const t=Object.prototype.toString.apply(e);return t=="[object Window]"||t=="[object global]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Lt=P(T());function P(e){if(!e)return Lt;class t extends e{listenTo(i,o,s,r={}){if(ut(i)||R(i)){const l={capture:!!r.useCapture,passive:!!r.usePassive},c=this._getProxyEmitter(i,l)||new be(i,l);this.listenTo(c,o,s,r)}else super.listenTo(i,o,s,r)}stopListening(i,o,s){if(ut(i)||R(i)){const r=this._getAllProxyEmitters(i);for(const l of r)this.stopListening(l,o,s)}else super.stopListening(i,o,s)}_getProxyEmitter(i,o){return se(this,Ct(i,o))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(i,o)).filter(o=>!!o)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{P[e]=Lt.prototype[e]});class be extends T(){constructor(t,n){super(),Et(this,Ct(t,n)),this._domNode=t,this._options=n}attach(t){if(this._domListeners&&this._domListeners[t])return;const n=this._createDomListener(t);this._domNode.addEventListener(t,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=n}detach(t){let n;this._domListeners[t]&&(!(n=this._events[t])||!n.callbacks.length)&&this._domListeners[t].removeListener()}_addEventListener(t,n,i){this.attach(t),T().prototype._addEventListener.call(this,t,n,i)}_removeEventListener(t,n){T().prototype._removeEventListener.call(this,t,n),this.detach(t)}_createDomListener(t){const n=i=>{this.fire(t,i)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,this._options),delete this._domListeners[t]},n}}function _e(e){return e["data-ck-expando"]||(e["data-ck-expando"]=q())}function Ct(e,t){let n=_e(e);for(const i of Object.keys(t).sort())t[i]&&(n+="-"+i);return n}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Y;try{Y={window,document}}catch{/* istanbul ignore next -- @preserve */Y={window:{},document:{}}}const w=Y;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tn(e){let t=e.parentElement;if(!t)return null;for(;t.tagName!="BODY";){const n=t.style.overflowY||w.window.getComputedStyle(t).overflowY;if(n==="auto"||n==="scroll")break;if(t=t.parentElement,!t)return null}return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function en(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nn(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function St(e){return Object.prototype.toString.call(e)=="[object Text]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Z(e){return Object.prototype.toString.apply(e)=="[object Range]"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vt(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mt=["top","right","bottom","left","width","height"];class g{constructor(t){const n=Z(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),kt(t)||n)if(n){const i=g.getDomRangeRects(t);M(this,g.getBoundingRect(i))}else M(this,t.getBoundingClientRect());else if(R(t)){const{innerWidth:i,innerHeight:o}=t;M(this,{top:0,right:i,bottom:o,left:0,width:i,height:o})}else M(this,t)}clone(){return new g(this)}moveTo(t,n){return this.top=n,this.right=t+this.width,this.bottom=n+this.height,this.left=t,this}moveBy(t,n){return this.top+=n,this.right+=t,this.left+=t,this.bottom+=n,this}getIntersection(t){const n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new g(n)}getIntersectionArea(t){const n=this.getIntersection(t);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let n=this.clone();if(ft(t))return n;let i=t,o=t.parentNode||t.commonAncestorContainer,s;for(;o&&!ft(o);){if(i instanceof HTMLElement&&ht(i)==="absolute"&&(s=i),s&&(ht(o)!=="relative"||we(o)==="visible")){i=o,o=o.parentNode;continue}const r=new g(o),l=n.getIntersection(r);if(l)l.getArea()<n.getArea()&&(n=l);else return null;i=o,o=o.parentNode}return n}isEqual(t){for(const n of Mt)if(this[n]!==t[n])return!1;return!0}contains(t){const n=this.getIntersection(t);return!!(n&&n.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let n,i,o;if(R(t))n=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,o=t.getComputedStyle(t.document.documentElement).direction;else{const s=vt(t);n=t.offsetWidth-t.clientWidth-s.left-s.right,i=t.offsetHeight-t.clientHeight-s.top-s.bottom,o=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,o==="ltr"?this.right-=n:this.left+=n,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const n=[],i=Array.from(t.getClientRects());if(i.length)for(const o of i)n.push(new g(o));else{let o=t.startContainer;St(o)&&(o=o.parentNode);const s=new g(o.getBoundingClientRect());s.right=s.left,s.width=0,n.push(s)}return n}static getBoundingRect(t){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const o of t)i++,n.left=Math.min(n.left,o.left),n.top=Math.min(n.top,o.top),n.right=Math.max(n.right,o.right),n.bottom=Math.max(n.bottom,o.bottom);return i==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new g(n))}}function M(e,t){for(const n of Mt)e[n]=t[n]}function ft(e){return kt(e)?e===e.ownerDocument.body:!1}function kt(e){return e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.getBoundingClientRect=="function"}function ht(e){return e.ownerDocument.defaultView.getComputedStyle(e).position}function we(e){return e.ownerDocument.defaultView.getComputedStyle(e).overflow}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d{constructor(t,n){d._observerInstance||d._createObserver(),this._element=t,this._callback=n,d._addElementCallback(t,n),d._observerInstance.observe(t)}get element(){return this._element}destroy(){d._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,n){d._elementCallbacks||(d._elementCallbacks=new Map);let i=d._elementCallbacks.get(t);i||(i=new Set,d._elementCallbacks.set(t,i)),i.add(n)}static _deleteElementCallback(t,n){const i=d._getElementCallbacks(t);i&&(i.delete(n),i.size||(d._elementCallbacks.delete(t),d._observerInstance.unobserve(t))),d._elementCallbacks&&!d._elementCallbacks.size&&(d._observerInstance=null,d._elementCallbacks=null)}static _getElementCallbacks(t){return d._elementCallbacks?d._elementCallbacks.get(t):null}static _createObserver(){d._observerInstance=new w.window.ResizeObserver(t=>{for(const n of t){const i=d._getElementCallbacks(n.target);if(i)for(const o of i)o(n)}})}}d._observerInstance=null;d._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function on(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sn(e){return t=>t+e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rn(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ln(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cn(e){return e&&e.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function an(e){try{w.document.createAttribute(e)}catch{return!1}return!0}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function un(e){return!!(e&&e.getClientRects&&e.getClientRects().length)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ye(e){return!e||!e.parentNode||e.offsetParent===w.document.body?null:e.offsetParent}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fn({element:e,target:t,positions:n,limiter:i,fitInViewport:o,viewportOffsetConfig:s}){et(t)&&(t=t()),et(i)&&(i=i());const r=ye(e),l=new g(e),c=new g(t);let a;const u=o&&Ee(s)||null,f={targetRect:c,elementRect:l,positionedElementAncestor:r,viewportRect:u};if(!i&&!o)a=new $(n[0],f);else{const _=i&&new g(i).getVisible();Object.assign(f,{limiterRect:_,viewportRect:u}),a=Te(n,f)||new $(n[0],f)}return a}function Ee(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new g(w.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}function Te(e,t){const{elementRect:n}=t,i=n.getArea(),o=e.map(l=>new $(l,t)).filter(l=>!!l.name);let s=0,r=null;for(const l of o){const{limiterIntersectionArea:c,viewportIntersectionArea:a}=l;if(c===i)return l;const u=a**2+c**2;u>s&&(s=u,r=l)}return r}function xe(e,t){const n=Ft(new g(t)),i=vt(t);let o=0,s=0;o-=n.left,s-=n.top,o+=t.scrollLeft,s+=t.scrollTop,o-=i.left,s-=i.top,e.moveBy(o,s)}function Ft(e){const{scrollX:t,scrollY:n}=w.window;return e.clone().moveBy(t,n)}class ${constructor(t,n){const i=t(n.targetRect,n.elementRect,n.viewportRect);if(!i)return;const{left:o,top:s,name:r,config:l}=i;this.name=r,this.config=l,this._positioningFunctionCorrdinates={left:o,top:s},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const n=this._options.viewportRect;if(n){const i=t.getIntersection(n);if(i)return i.getIntersectionArea(this._rect)}else return t.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=Ft(this._rect),this._options.positionedElementAncestor&&xe(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hn(e){const t=e.parentNode;t&&t.removeChild(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function dn({target:e,viewportOffset:t=0,ancestorOffset:n=0,alignToTop:i,forceScroll:o}){const s=Q(e);let r=s,l=null;for(t=Le(t);r;){let c;r==s?c=dt(e):c=dt(l),Ae({parent:c,getRect:()=>pt(e,r),alignToTop:i,ancestorOffset:n,forceScroll:o});const a=pt(e,r);if(Ie({window:r,rect:a,viewportOffset:t,alignToTop:i,forceScroll:o}),r.parent!=r){if(l=r.frameElement,r=r.parent,!l)return}else r=null}}function Ie({window:e,rect:t,alignToTop:n,forceScroll:i,viewportOffset:o}){const s=t.clone().moveBy(0,o.bottom),r=t.clone().moveBy(0,-o.top),l=new g(e).excludeScrollbarsAndBorders(),c=[r,s],a=n&&i,u=c.every(p=>l.contains(p));let{scrollX:f,scrollY:_}=e;const L=f,y=_;a?_-=l.top-t.top+o.top:u||(Nt(r,l)?_-=l.top-t.top+o.top:Rt(s,l)&&(n?_+=t.top-l.top-o.top:_+=t.bottom-l.bottom+o.bottom)),u||(Dt(t,l)?f-=l.left-t.left+o.left:Pt(t,l)&&(f+=t.right-l.right+o.right)),(f!=L||_!==y)&&e.scrollTo(f,_)}function Ae({parent:e,getRect:t,alignToTop:n,forceScroll:i,ancestorOffset:o=0}){const s=Q(e),r=n&&i;let l,c,a;for(;e!=s.document.body;)c=t(),l=new g(e).excludeScrollbarsAndBorders(),a=l.contains(c),r?e.scrollTop-=l.top-c.top+o:a||(Nt(c,l)?e.scrollTop-=l.top-c.top+o:Rt(c,l)&&(n?e.scrollTop+=c.top-l.top-o:e.scrollTop+=c.bottom-l.bottom+o)),a||(Dt(c,l)?e.scrollLeft-=l.left-c.left+o:Pt(c,l)&&(e.scrollLeft+=c.right-l.right+o)),e=e.parentNode}function Rt(e,t){return e.bottom>t.bottom}function Nt(e,t){return e.top<t.top}function Dt(e,t){return e.left<t.left}function Pt(e,t){return e.right>t.right}function Q(e){return Z(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function dt(e){if(Z(e)){let t=e.commonAncestorContainer;return St(t)&&(t=t.parentNode),t}else return e.parentNode}function pt(e,t){const n=Q(e),i=new g(e);if(n===t)return i;{let o=n;for(;o!=t;){const s=o.frameElement,r=new g(s).excludeScrollbarsAndBorders();i.moveBy(r.left,r.top),o=o.parent}}return i}function Le(e){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:e}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ce={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Se={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},m=Fe(),ve=Object.fromEntries(Object.entries(m).map(([e,t])=>[t,e.charAt(0).toUpperCase()+e.slice(1)]));function N(e){let t;if(typeof e=="string"){if(t=m[e.toLowerCase()],!t)throw new h("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?m.alt:0)+(e.ctrlKey?m.ctrl:0)+(e.shiftKey?m.shift:0)+(e.metaKey?m.cmd:0);return t}function Bt(e){return typeof e=="string"&&(e=Re(e)),e.map(t=>typeof t=="string"?ke(t):t).reduce((t,n)=>n+t,0)}function pn(e){let t=Bt(e);return Object.entries(mt.isMac?Ce:Se).reduce((o,[s,r])=>(t&m[s]&&(t&=~m[s],o+=r),o),"")+(t?ve[t]:"")}function gn(e){return e==m.arrowright||e==m.arrowleft||e==m.arrowup||e==m.arrowdown}function Me(e,t){const n=t==="ltr";switch(e){case m.arrowleft:return n?"left":"right";case m.arrowright:return n?"right":"left";case m.arrowup:return"up";case m.arrowdown:return"down"}}function ke(e){if(e.endsWith("!"))return N(e.slice(0,-1));const t=N(e);return mt.isMac&&t==m.ctrl?m.cmd:t}function mn(e,t){const n=Me(e,t);return n==="down"||n==="right"}function Fe(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const n=String.fromCharCode(t);e[n.toLowerCase()]=t}for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;for(const t of"`-=[];',./\\")e[t]=t.charCodeAt(0);return e}function Re(e){return e.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ne=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function gt(e){return Ne.includes(e)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function De(e){return Array.isArray(e)?e:[e]}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */w.window.CKEDITOR_TRANSLATIONS||(w.window.CKEDITOR_TRANSLATIONS={});function Pe(e,t,n=1){if(typeof n!="number")throw new h("translation-service-quantity-not-a-number",null,{quantity:n});const i=Oe();i===1&&(e=Object.keys(w.window.CKEDITOR_TRANSLATIONS)[0]);const o=t.id||t.string;if(i===0||!Be(e,o))return n!==1?t.plural:t.string;const s=w.window.CKEDITOR_TRANSLATIONS[e].dictionary,r=w.window.CKEDITOR_TRANSLATIONS[e].getPluralForm||(a=>a===1?0:1),l=s[o];if(typeof l=="string")return l;const c=Number(r(n));return l[c]}function Be(e,t){return!!w.window.CKEDITOR_TRANSLATIONS[e]&&!!w.window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}function Oe(){return Object.keys(w.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bn{constructor({uiLanguage:t="en",contentLanguage:n}={}){this.uiLanguage=t,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=gt(this.uiLanguage),this.contentLanguageDirection=gt(this.contentLanguage),this.t=(i,o)=>this._t(i,o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,n=[]){n=De(n),typeof t=="string"&&(t={string:t});const o=!!t.plural?n[0]:1,s=Pe(this.uiLanguage,t,o);return Ve(s,n)}}function Ve(e,t){return e.replace(/%(\d+)/g,(n,i)=>i<t.length?t[i]:n)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _n extends T(){constructor(t={},n={}){super();const i=J(t);if(i||(n=t),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const o of t)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,n){return this.addMany([t],n)}addMany(t,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new h("collection-add-item-invalid-index",this);let i=0;for(const o of t){const s=this._getItemIdBeforeAdding(o),r=n+i;this._items.splice(r,0,o),this._itemMap.set(s,o),this.fire("add",o,r),i++}return this.fire("change",{added:t,removed:[],index:n}),this}get(t){let n;if(typeof t=="string")n=this._itemMap.get(t);else if(typeof t=="number")n=this._items[t];else throw new h("collection-get-invalid-arg",this);return n||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const n=this._idProperty,i=t[n];return i&&this._itemMap.has(i)}}getIndex(t){let n;return typeof t=="string"?n=this._itemMap.get(t):n=t,n?this._items.indexOf(n):-1}remove(t){const[n,i]=this._remove(t);return this.fire("change",{added:[],removed:[n],index:i}),n}map(t,n){return this._items.map(t,n)}find(t,n){return this._items.find(t,n)}filter(t,n){return this._items.filter(t,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new h("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:n=>{this._setUpBindToBinding(i=>new n(i))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(i=>i[n])}}}_setUpBindToBinding(t){const n=this._bindToCollection,i=(o,s,r)=>{const l=n._bindToCollection==this,c=n._bindToInternalToExternalMap.get(s);if(l&&c)this._bindToExternalToInternalMap.set(s,c),this._bindToInternalToExternalMap.set(c,s);else{const a=t(s);if(!a){this._skippedIndexesFromExternal.push(r);return}let u=r;for(const f of this._skippedIndexesFromExternal)r>f&&u--;for(const f of n._skippedIndexesFromExternal)u>=f&&u++;this._bindToExternalToInternalMap.set(s,a),this._bindToInternalToExternalMap.set(a,s),this.add(a,u);for(let f=0;f<n._skippedIndexesFromExternal.length;f++)u<=n._skippedIndexesFromExternal[f]&&n._skippedIndexesFromExternal[f]++}};for(const o of n)i(null,o,n.getIndex(o));this.listenTo(n,"add",i),this.listenTo(n,"remove",(o,s,r)=>{const l=this._bindToExternalToInternalMap.get(s);l&&this.remove(l),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,a)=>(r<a&&c.push(a-1),r>a&&c.push(a),c),[])})}_getItemIdBeforeAdding(t){const n=this._idProperty;let i;if(n in t){if(i=t[n],typeof i!="string")throw new h("collection-add-invalid-id",this);if(this.get(i))throw new h("collection-add-item-already-exists",this)}else t[n]=i=q();return i}_remove(t){let n,i,o,s=!1;const r=this._idProperty;if(typeof t=="string"?(i=t,o=this._itemMap.get(i),s=!o,o&&(n=this._items.indexOf(o))):typeof t=="number"?(n=t,o=this._items[n],s=!o,o&&(i=o[r])):(o=t,i=o[r],n=this._items.indexOf(o),s=n==-1||!this._itemMap.get(i)),s)throw new h("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(i);const l=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(l),this.fire("remove",o,n),[o,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wn(e){const t=e.next();return t.done?null:t.value}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yn extends P(X()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new h("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class En{constructor(){this._listener=new(P())}listenTo(t){this._listener.listenTo(t,"keydown",(n,i)=>{this._listener.fire("_keydown:"+N(i),i)})}set(t,n,i={}){const o=Bt(t),s=i.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(r,l)=>{n(l,()=>{l.preventDefault(),l.stopPropagation(),r.stop()}),r.return=!0},{priority:s})}press(t){return!!this._listener.fire("_keydown:"+N(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function je(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tn(e){return J(e)?new Map(e):je(e)}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ke=1e4;function xn(e,t,n,i){if(Math.max(t.length,e.length)>Ke)return e.slice(0,n).concat(t).concat(e.slice(n+i,e.length));{const o=Array.from(e);return o.splice(n,i,...t),o}}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function In(e,t){let n;function i(...o){i.cancel(),n=setTimeout(()=>e(...o),t)}return i.cancel=()=>{clearTimeout(n)},i}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function An(e){function t(f){return f.length>=40&&f.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let n="";try{n=atob(e)}catch{return"INVALID"}const i=n.split("-"),o=i[0],s=i[1];if(!s)return t(e);try{atob(s)}catch{try{if(atob(o),!atob(o).length)return t(e)}catch{return t(e)}}if(o.length<40||o.length>255)return"INVALID";let r="";try{atob(o),r=atob(s)}catch{return"INVALID"}if(r.length!==8)return"INVALID";const l=Number(r.substring(0,4)),c=Number(r.substring(4,6))-1,a=Number(r.substring(6,8)),u=new Date(l,c,a);return u<oe||isNaN(Number(u))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function We(e){return!!e&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function Ue(e){return!!e&&e.length==1&&/[\ud800-\udbff]/.test(e)}function He(e){return!!e&&e.length==1&&/[\udc00-\udfff]/.test(e)}function Ln(e,t){return Ue(e.charAt(t-1))&&He(e.charAt(t))}function Cn(e,t){return We(e.charAt(t))}const Ge=Ye();function Sn(e,t){const n=String(e).matchAll(Ge);return Array.from(n).some(i=>i.index<t&&t<i.index+i[0].length)}function Ye(){const e=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],t=/\p{Regional_Indicator}{2}/u.source,n="(?:"+e.map(o=>o.source).join("|")+")",i=`${t}|${n}(?:‍${n})*`;return new RegExp(i,"ug")}export{sn as $,an as A,rn as B,h as C,en as D,W as E,P as F,N as G,gn as H,dn as I,xn as J,En as K,bn as L,U as M,Ln as N,X as O,Cn as P,Sn as Q,yn as R,un as S,g as T,Qe as U,Bt as V,Me as W,pn as X,fn as Y,d as Z,Z as _,_n as a,An as a0,tn as a1,mn as a2,T as b,ze as c,In as d,mt as e,wn as f,Xe as g,nn as h,zt as i,Ze as j,Tn as k,qe as l,J as m,Je as n,m as o,St as p,ln as q,hn as r,on as s,De as t,q as u,_t as v,ut as w,cn as x,Xt as y,w as z};
