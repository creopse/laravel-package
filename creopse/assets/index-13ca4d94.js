import{u as z,R as v,_ as J,e as Q,a as lt,c as st,h as at}from"./index-fa85a2bf.js";import{_ as rt}from"./NaiveMobileTableAdapter.vue_vue_type_script_setup_true_lang-0b75e4af.js";import{A as it}from"./auth-type-5b0d67f1.js";import{I as y}from"./iconify_vue-6750bec6.js";import{u as X}from"./vue-router-e670704e.js";import{N as K,S as ut,T as pt,L as Z,R as ct,I as mt,U as tt,V as _t,c as dt,b as ft,P as gt,_ as bt,g as L,J as vt,e as St,W as xt,X as At,O as Nt,Y as kt}from"./naive-ui-1f55be4a.js";import{d as U,p as et,as as wt,o as u,c as Y,Y as e,aO as o,a as N,P as _,Q as d,h as G,F as j,l as E,W as Et}from"./vue_runtime-core-4f5fb440.js";import{u as ot}from"./vue-i18n-84a05dd5.js";import{r as k,u as t}from"./vue_reactivity-852d8377.js";import{t as A}from"./vue_shared-7dcc3b7f.js";import"./browser-image-compression-a3ab6596.js";import"./lodash-a9971f22.js";import"./axios-96fb5abd.js";import"./process-93c0ea83.js";import"./fawmi_vue-google-maps-52673af8.js";import"./vue_runtime-dom-c0cb2070.js";import"./googlemaps_markerclusterer-b718980f.js";import"./fast-deep-equal-1db9e660.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./pinia-5dd13ed8.js";import"./vue-demi-71ba0ef2.js";import"./moment-ea709ccd.js";import"./slugify-ce681755.js";import"./validator-c0254ba9.js";import"./vueuse_core-e3c6c607.js";import"./vueuse_shared-d1f69174.js";import"./parse-domain-47d8e5e9.js";import"./is-ip-33949ce5.js";import"./ip-regex-e6f9cbd8.js";import"./super-regex-a8a38319.js";import"./function-timeout-8f7724f6.js";import"./clone-regexp-3bc3d90c.js";import"./is-regexp-5fa9e804.js";import"./unhead_vue-71da354f.js";import"./unhead-a4367481.js";import"./hookable-e7fd869b.js";import"./unhead_dom-b5f3dd9b.js";import"./unhead_shared-56c99682.js";import"./ckeditor_ckeditor5-vue-13667b6e.js";import"./vue-83614a91.js";import"./strip-json-comments-680ed425.js";import"./vue-draggable-next-d31a77b2.js";import"./pinia_colada-25af8b56.js";import"./vue-shepherd-6780f0ef.js";import"./shepherd.js-8a3687f6.js";import"./vue-tel-input-40ca5c5d.js";import"./vue3-map-chart-612bd6db.js";import"./crypto-js-eb39eca1.js";import"./pinia-persistence-plugin-50ba422c.js";/* empty css                    *//* empty css               *//* empty css                                      */import"./date-fns-eed65714.js";import"./seemly-5e1e6f41.js";import"./vueuc-b49649f7.js";import"./evtd-b614532e.js";import"./css-render_vue3-ssr-b91bc731.js";import"./vooks-3c892a1c.js";import"./vdirs-b0483831.js";import"./juggle_resize-observer-41516555.js";import"./css-render-9b607bf6.js";import"./emotion_hash-8a8e73f6.js";import"./lodash-es-a215867d.js";import"./treemate-25c27bff.js";import"./date-fns-tz-6c300683.js";import"./async-validator-dc9a4891.js";import"./css-render_plugin-bem-9dde7ffe.js";import"./intlify_shared-f7876323.js";import"./intlify_core-base-c423e336.js";import"./intlify_message-compiler-48af4dac.js";const Tt=U({__name:"DataCount",setup(nt){const{t:s}=ot(),{request:f}=Q(),{appPrimaryColor:$,appSecondaryColor:R,isSmScreen:O}=z(),g=X(),T=k(0),C=k(0),P=k(0),D=k(0),V=k(0),h=k(0),M=k([]);(async()=>{const m=await f({url:"/count/administrators"});m.success&&m.result&&(T.value=m.result.data);const l=await f({url:"/count/others"});l.success&&l.result&&(C.value=l.result.data);const n=await f({url:"/count/news-articles"});n.success&&n.result&&(P.value=n.result.data);const r=await f({url:"/count/news-categories"});r.success&&r.result&&(D.value=r.result.data);const p=await f({url:"/count/news-comments"});p.success&&p.result&&(V.value=p.result.data);const c=await f({url:"/count/news-tags"});c.success&&c.result&&(h.value=c.result.data);const i=await f({url:"/visits"});i.success&&i.result&&(M.value=i.result.data)})();const B=et(()=>{const m={};return M.value.forEach(l=>{var n;(n=l.locationData)!=null&&n.iso&&(m[l.locationData.iso]?m[l.locationData.iso]++:m[l.locationData.iso]=1)}),m});return(m,l)=>{const n=y,r=K,p=ut,c=pt,i=Z,b=ct,S=mt,x=tt,H=J,I=_t,W=wt("MapChart");return u(),Y("section",null,[e(H,{name:"slide-fade",appear:""},{default:o(()=>[e(x,{title:t(s)("players")},{default:o(()=>[e(S,{cols:"1 s:1 m:2 l:2 xl:2 2xl:2",responsive:"screen","x-gap":12,"y-gap":24},{default:o(()=>[e(b,null,{default:o(()=>[e(i,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[0]||(l[0]=w=>t(g).push(t(v).USERS_MANAGEMENT.PATH))},{default:o(()=>[e(c,{label:t(s)("administrators")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:user-admin"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(T)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(b,null,{default:o(()=>[e(i,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[1]||(l[1]=w=>t(g).push(t(v).USERS_MANAGEMENT.PATH))},{default:o(()=>[e(c,{label:t(s)("others")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:user"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(C)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])]),_:1}),l[6]||(l[6]=N("br",null,null,-1)),e(H,{name:"slide-fade",appear:""},{default:o(()=>[e(x,{title:t(s)("news")},{default:o(()=>[e(S,{cols:"1 s:2 m:2 l:4 xl:4 2xl:4",responsive:"screen","x-gap":12,"y-gap":24},{default:o(()=>[e(b,null,{default:o(()=>[e(i,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[2]||(l[2]=w=>t(g).push(t(v).NEWS_MANAGEMENT.PATH+"/articles"))},{default:o(()=>[e(c,{label:t(s)("articles")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:document"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(P)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(b,null,{default:o(()=>[e(i,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[3]||(l[3]=w=>t(g).push(t(v).NEWS_MANAGEMENT.PATH+"/categories"))},{default:o(()=>[e(c,{label:t(s)("categories")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:categories"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(D)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(b,null,{default:o(()=>[e(i,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[4]||(l[4]=w=>t(g).push(t(v).NEWS_MANAGEMENT.PATH+"/tags"))},{default:o(()=>[e(c,{label:t(s)("tags")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:tag"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(h)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1}),e(b,null,{default:o(()=>[e(i,{class:"w-full cursor-pointer",hoverable:"",embedded:"",onClick:l[5]||(l[5]=w=>t(g).push(t(v).NEWS_MANAGEMENT.PATH+"/comments"))},{default:o(()=>[e(c,{label:t(s)("comments")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:chat"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(V)},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])]),_:1}),e(I),e(i,null,{default:o(()=>[e(H,{name:"slide-fade",appear:""},{default:o(()=>[e(x,{title:t(s)("websiteVisits")},{default:o(()=>[e(S,{cols:"1 s:4 m:4 l:4 xl:4 2xl:4",responsive:"screen","x-gap":12,"y-gap":12},{default:o(()=>[e(b,null,{default:o(()=>[e(i,{class:"w-full",hoverable:"",embedded:""},{default:o(()=>[e(c,{label:t(s)("visitsTotalNumber")},{prefix:o(()=>[e(r,null,{default:o(()=>[e(n,{icon:"carbon:chart-line"})]),_:1})]),default:o(()=>[e(p,{from:0,to:t(M).length},null,8,["to"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),t(O)?d("",!0):(u(),_(W,{key:0,data:t(B),"base-color":t($),"legend-text-color":"white","legend-bg-color":t(R),"display-legend-when-empty":!1,height:800,"format-value-with-si-prefix":""},null,8,["data","base-color","legend-bg-color"]))]),_:1},8,["title"])]),_:1})]),_:1})])}}}),ht=U({name:v.DASHBOARD.NAME}),Le=U({...ht,setup(nt){const{t:s}=ot(),{request:f}=Q(),{tr:$,fileUrl:R,icon:O,isSmScreen:g}=z(),{userHasSuperAdminRole:T}=lt(),C=X(),P=dt(),D=ft(),V=st(),h=k(!1),M=async()=>{h.value=!0;const l=await f({url:"/auth/send-verification-email"});l.failure&&l.error?D.error(s("failedToSend")):P.success({title:s("success"),content:s("verificationLinkSent"),positiveText:s("ok")}),h.value=!1},a=at(),B=et(()=>!!(a.getSettingValue("name")&&a.getSettingValue("address")&&(a.getSettingValue("phone")||a.getSettingValue("email")))),m=G(L,null,{default:()=>[G(bt,{onClick:()=>C.push(v.CONTENT_MANAGEMENT.PATH)},{icon:()=>G(K,null,{default:()=>[G(y,{icon:"carbon:edit"})]}),default:()=>s("edit")})]});return(l,n)=>{var q,F;const r=vt,p=gt,c=St,i=xt,b=At,S=Nt,x=kt,H=tt,I=Z,W=rt,w=J;return u(),Y(j,null,[((q=t(V).userData)==null?void 0:q.emailVerifiedAt)===null&&((F=t(V).userData)==null?void 0:F.authType)!=t(it).PHONE?(u(),_(p,{key:0,show:t(h)},{default:o(()=>[e(r,{title:t(s)("verifyYourEmail"),type:"warning",class:"cursor-pointer mb-2",onClick:M},{default:o(()=>[E(A(t(s)("weHaveSentYouVerificationEmail")),1)]),_:1},8,["title"])]),_:1},8,["show"])):d("",!0),e(w,{name:"slide-fade",appear:""},{default:o(()=>[t(B)?(u(),_(I,{key:0,embedded:"",size:"small",class:"mb-2"},{default:o(()=>[e(W,null,{default:o(()=>[e(I,{hoverable:""},{default:o(()=>[e(H,null,Et({title:o(()=>[N("h3",null,A(t(a).getSettingValue("name")),1)]),avatar:o(()=>[e(c,{"object-fit":"contain",class:"p-1",src:t(a).getSettingValue("icon")?t(R)(t(a).getSettingValue("icon")):t(O)},null,8,["src"])]),footer:o(()=>[e(t(L),null,{default:o(()=>[t(a).getSettingValue("phone")?(u(),_(x,{key:0,prefix:"bar"},{default:o(()=>[e(S,{depth:"3",class:"flex items-center text-sm"},{default:o(()=>[e(t(y),{icon:"carbon:phone"}),n[1]||(n[1]=E("   ")),N("span",null,A(t(a).getSettingValue("phone")),1)]),_:1})]),_:1})):d("",!0),t(a).getSettingValue("email")?(u(),_(x,{key:1,prefix:"bar"},{default:o(()=>[e(S,{depth:"3",class:"flex items-center text-sm"},{default:o(()=>[e(t(y),{icon:"carbon:email"}),n[2]||(n[2]=E("   ")),N("span",null,A(t(a).getSettingValue("email")),1)]),_:1})]),_:1})):d("",!0),t(a).getSettingValue("address")?(u(),_(x,{key:2,prefix:"bar"},{default:o(()=>[e(S,{depth:"3",class:"flex items-center text-sm"},{default:o(()=>[e(t(y),{icon:"carbon:location"}),n[3]||(n[3]=E("   ")),N("span",null,A(t(a).getSettingValue("address")),1)]),_:1})]),_:1})):d("",!0),t(a).getSettingValue("postalCode")?(u(),_(x,{key:3,prefix:"bar"},{default:o(()=>[e(S,{depth:"3",class:"flex items-center text-sm"},{default:o(()=>[e(t(y),{icon:"carbon:text-short-paragraph"}),n[4]||(n[4]=E("   ")),N("span",null,A(t(a).getSettingValue("postalCode")),1)]),_:1})]),_:1})):d("",!0)]),_:1})]),default:o(()=>[t(g)?(u(),Y(j,{key:0},[t(T)()?(u(),_(t(m),{key:0})):d("",!0)],64)):d("",!0),t($)(t(a).getSettingValue("description"))?(u(),_(b,{key:1,depth:"2"},{default:o(()=>[e(i,{"line-clamp":"2",tooltip:!1},{default:o(()=>[E(A(t($)(t(a).getSettingValue("description"))),1)]),_:1})]),_:1})):d("",!0)]),_:2},[t(g)?void 0:{name:"extra",fn:o(()=>[t(T)()?(u(),_(t(m),{key:0})):d("",!0)]),key:"0"}]),1024)]),_:1})]),_:1})]),_:1})):t(T)()?(u(),_(r,{key:1,id:"missingInfoAlert",title:t(s)("missingInfo"),type:"warning",class:"cursor-pointer mb-2",onClick:n[0]||(n[0]=yt=>t(C).push(t(v).CONTENT_MANAGEMENT.PATH))},{default:o(()=>[E(A(t(s)("provideYourMarketInfo")),1)]),_:1},8,["title"])):d("",!0)]),_:1}),n[5]||(n[5]=N("br",null,null,-1)),e(Tt),n[6]||(n[6]=N("br",null,null,-1))],64)}}});export{Le as default};
